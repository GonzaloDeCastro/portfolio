(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function u0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function vb(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var pv={exports:{}},xd={},mv={exports:{}},Qt={};var K_;function yb(){if(K_)return Qt;K_=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function S(N,X,ee){this.props=N,this.context=X,this.refs=C,this.updater=ee||y}S.prototype.isReactComponent={},S.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=S.prototype;function T(N,X,ee){this.props=N,this.context=X,this.refs=C,this.updater=ee||y}var b=T.prototype=new M;b.constructor=T,_(b,S.prototype),b.isPureReactComponent=!0;var B=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function U(N,X,ee){var oe,le={},Pe=null,Ce=null;if(X!=null)for(oe in X.ref!==void 0&&(Ce=X.ref),X.key!==void 0&&(Pe=""+X.key),X)I.call(X,oe)&&!G.hasOwnProperty(oe)&&(le[oe]=X[oe]);var ce=arguments.length-2;if(ce===1)le.children=ee;else if(1<ce){for(var Ve=Array(ce),qe=0;qe<ce;qe++)Ve[qe]=arguments[qe+2];le.children=Ve}if(N&&N.defaultProps)for(oe in ce=N.defaultProps,ce)le[oe]===void 0&&(le[oe]=ce[oe]);return{$$typeof:i,type:N,key:Pe,ref:Ce,props:le,_owner:F.current}}function D(N,X){return{$$typeof:i,type:N.type,key:X,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Q(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return X[ee]})}var re=/\/+/g;function Z(N,X){return typeof N=="object"&&N!==null&&N.key!=null?Q(""+N.key):X.toString(36)}function te(N,X,ee,oe,le){var Pe=typeof N;(Pe==="undefined"||Pe==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(Pe){case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case i:case e:Ce=!0}}if(Ce)return Ce=N,le=le(Ce),N=oe===""?"."+Z(Ce,0):oe,B(le)?(ee="",N!=null&&(ee=N.replace(re,"$&/")+"/"),te(le,X,ee,"",function(qe){return qe})):le!=null&&(k(le)&&(le=D(le,ee+(!le.key||Ce&&Ce.key===le.key?"":(""+le.key).replace(re,"$&/")+"/")+N)),X.push(le)),1;if(Ce=0,oe=oe===""?".":oe+":",B(N))for(var ce=0;ce<N.length;ce++){Pe=N[ce];var Ve=oe+Z(Pe,ce);Ce+=te(Pe,X,ee,Ve,le)}else if(Ve=v(N),typeof Ve=="function")for(N=Ve.call(N),ce=0;!(Pe=N.next()).done;)Pe=Pe.value,Ve=oe+Z(Pe,ce++),Ce+=te(Pe,X,ee,Ve,le);else if(Pe==="object")throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ce}function se(N,X,ee){if(N==null)return N;var oe=[],le=0;return te(N,oe,"","",function(Pe){return X.call(ee,Pe,le++)}),oe}function ve(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var de={current:null},z={transition:null},Y={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:z,ReactCurrentOwner:F};return Qt.Children={map:se,forEach:function(N,X,ee){se(N,function(){X.apply(this,arguments)},ee)},count:function(N){var X=0;return se(N,function(){X++}),X},toArray:function(N){return se(N,function(X){return X})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Qt.Component=S,Qt.Fragment=t,Qt.Profiler=r,Qt.PureComponent=T,Qt.StrictMode=n,Qt.Suspense=c,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qt.cloneElement=function(N,X,ee){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var oe=_({},N.props),le=N.key,Pe=N.ref,Ce=N._owner;if(X!=null){if(X.ref!==void 0&&(Pe=X.ref,Ce=F.current),X.key!==void 0&&(le=""+X.key),N.type&&N.type.defaultProps)var ce=N.type.defaultProps;for(Ve in X)I.call(X,Ve)&&!G.hasOwnProperty(Ve)&&(oe[Ve]=X[Ve]===void 0&&ce!==void 0?ce[Ve]:X[Ve])}var Ve=arguments.length-2;if(Ve===1)oe.children=ee;else if(1<Ve){ce=Array(Ve);for(var qe=0;qe<Ve;qe++)ce[qe]=arguments[qe+2];oe.children=ce}return{$$typeof:i,type:N.type,key:le,ref:Pe,props:oe,_owner:Ce}},Qt.createContext=function(N){return N={$$typeof:a,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},Qt.createElement=U,Qt.createFactory=function(N){var X=U.bind(null,N);return X.type=N,X},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(N){return{$$typeof:l,render:N}},Qt.isValidElement=k,Qt.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:ve}},Qt.memo=function(N,X){return{$$typeof:d,type:N,compare:X===void 0?null:X}},Qt.startTransition=function(N){var X=z.transition;z.transition={};try{N()}finally{z.transition=X}},Qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Qt.useCallback=function(N,X){return de.current.useCallback(N,X)},Qt.useContext=function(N){return de.current.useContext(N)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(N){return de.current.useDeferredValue(N)},Qt.useEffect=function(N,X){return de.current.useEffect(N,X)},Qt.useId=function(){return de.current.useId()},Qt.useImperativeHandle=function(N,X,ee){return de.current.useImperativeHandle(N,X,ee)},Qt.useInsertionEffect=function(N,X){return de.current.useInsertionEffect(N,X)},Qt.useLayoutEffect=function(N,X){return de.current.useLayoutEffect(N,X)},Qt.useMemo=function(N,X){return de.current.useMemo(N,X)},Qt.useReducer=function(N,X,ee){return de.current.useReducer(N,X,ee)},Qt.useRef=function(N){return de.current.useRef(N)},Qt.useState=function(N){return de.current.useState(N)},Qt.useSyncExternalStore=function(N,X,ee){return de.current.useSyncExternalStore(N,X,ee)},Qt.useTransition=function(){return de.current.useTransition()},Qt.version="18.2.0",Qt}var Y_;function Ah(){return Y_||(Y_=1,mv.exports=yb()),mv.exports}var Q_;function xb(){if(Q_)return xd;Q_=1;var i=Ah(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var p,g={},v=null,y=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(p in c)n.call(c,p)&&!s.hasOwnProperty(p)&&(g[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:l,key:v,ref:y,props:g,_owner:r.current}}return xd.Fragment=t,xd.jsx=a,xd.jsxs=a,xd}var q_;function Ab(){return q_||(q_=1,pv.exports=xb()),pv.exports}var he=Ab(),q=Ah();const bl=u0(q);var Gm={},gv={exports:{}},Ir={},vv={exports:{}},yv={};var Z_;function _b(){return Z_||(Z_=1,(function(i){function e(z,Y){var N=z.length;z.push(Y);e:for(;0<N;){var X=N-1>>>1,ee=z[X];if(0<r(ee,Y))z[X]=Y,z[N]=ee,N=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Y=z[0],N=z.pop();if(N!==Y){z[0]=N;e:for(var X=0,ee=z.length,oe=ee>>>1;X<oe;){var le=2*(X+1)-1,Pe=z[le],Ce=le+1,ce=z[Ce];if(0>r(Pe,N))Ce<ee&&0>r(ce,Pe)?(z[X]=ce,z[Ce]=N,X=Ce):(z[X]=Pe,z[le]=N,X=le);else if(Ce<ee&&0>r(ce,N))z[X]=ce,z[Ce]=N,X=Ce;else break e}}return Y}function r(z,Y){var N=z.sortIndex-Y.sortIndex;return N!==0?N:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],d=[],p=1,g=null,v=3,y=!1,_=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=z)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function B(z){if(C=!1,b(z),!_)if(t(c)!==null)_=!0,ve(I);else{var Y=t(d);Y!==null&&de(B,Y.startTime-z)}}function I(z,Y){_=!1,C&&(C=!1,M(U),U=-1),y=!0;var N=v;try{for(b(Y),g=t(c);g!==null&&(!(g.expirationTime>Y)||z&&!Q());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var ee=X(g.expirationTime<=Y);Y=i.unstable_now(),typeof ee=="function"?g.callback=ee:g===t(c)&&n(c),b(Y)}else n(c);g=t(c)}if(g!==null)var oe=!0;else{var le=t(d);le!==null&&de(B,le.startTime-Y),oe=!1}return oe}finally{g=null,v=N,y=!1}}var F=!1,G=null,U=-1,D=5,k=-1;function Q(){return!(i.unstable_now()-k<D)}function re(){if(G!==null){var z=i.unstable_now();k=z;var Y=!0;try{Y=G(!0,z)}finally{Y?Z():(F=!1,G=null)}}else F=!1}var Z;if(typeof T=="function")Z=function(){T(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=re,Z=function(){se.postMessage(null)}}else Z=function(){S(re,0)};function ve(z){G=z,F||(F=!0,Z())}function de(z,Y){U=S(function(){z(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){_||y||(_=!0,ve(I))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var N=v;v=Y;try{return z()}finally{v=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=v;v=z;try{return Y()}finally{v=N}},i.unstable_scheduleCallback=function(z,Y,N){var X=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?X+N:X):N=X,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=N+ee,z={id:p++,callback:Y,priorityLevel:z,startTime:N,expirationTime:ee,sortIndex:-1},N>X?(z.sortIndex=N,e(d,z),t(c)===null&&z===t(d)&&(C?(M(U),U=-1):C=!0,de(B,N-X))):(z.sortIndex=ee,e(c,z),_||y||(_=!0,ve(I))),z},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(z){var Y=v;return function(){var N=v;v=Y;try{return z.apply(this,arguments)}finally{v=N}}}})(yv)),yv}var $_;function Mb(){return $_||($_=1,vv.exports=_b()),vv.exports}var e1;function Sb(){if(e1)return Ir;e1=1;var i=Ah(),e=Mb();function t(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(o,u){a(o,u),a(o+"Capture",u)}function a(o,u){for(r[o]=u,o=0;o<u.length;o++)n.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return c.call(g,o)?!0:c.call(p,o)?!1:d.test(o)?g[o]=!0:(p[o]=!0,!1)}function y(o,u,m,A){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return A?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,u,m,A){if(u===null||typeof u>"u"||y(o,u,m,A))return!0;if(A)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function C(o,u,m,A,E,R,O){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=A,this.attributeNamespace=E,this.mustUseProperty=m,this.propertyName=o,this.type=u,this.sanitizeURL=R,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];S[u]=new C(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(M,T);S[u]=new C(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(M,T);S[u]=new C(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(M,T);S[u]=new C(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function b(o,u,m,A){var E=S.hasOwnProperty(u)?S[u]:null;(E!==null?E.type!==0:A||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,m,E,A)&&(m=null),A||E===null?v(u)&&(m===null?o.removeAttribute(u):o.setAttribute(u,""+m)):E.mustUseProperty?o[E.propertyName]=m===null?E.type===3?!1:"":m:(u=E.attributeName,A=E.attributeNamespace,m===null?o.removeAttribute(u):(E=E.type,m=E===3||E===4&&m===!0?"":""+m,A?o.setAttributeNS(A,u,m):o.setAttribute(u,m))))}var B=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),F=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),z=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var N=Object.assign,X;function ee(o){if(X===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+o}var oe=!1;function le(o,u){if(!o||oe)return"";oe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Se){var A=Se}Reflect.construct(o,[],u)}else{try{u.call()}catch(Se){A=Se}o.call(u.prototype)}else{try{throw Error()}catch(Se){A=Se}o()}}catch(Se){if(Se&&A&&typeof Se.stack=="string"){for(var E=Se.stack.split(`
`),R=A.stack.split(`
`),O=E.length-1,K=R.length-1;1<=O&&0<=K&&E[O]!==R[K];)K--;for(;1<=O&&0<=K;O--,K--)if(E[O]!==R[K]){if(O!==1||K!==1)do if(O--,K--,0>K||E[O]!==R[K]){var ie=`
`+E[O].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=O&&0<=K);break}}}finally{oe=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?ee(o):""}function Pe(o){switch(o.tag){case 5:return ee(o.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case F:return"Portal";case D:return"Profiler";case U:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case k:return(o._context.displayName||"Context")+".Provider";case re:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case se:return u=o.displayName||null,u!==null?u:Ce(o.type)||"Memo";case ve:u=o._payload,o=o._init;try{return Ce(o(u))}catch{}}return null}function ce(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(u);case 8:return u===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function qe(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Fe(o){var u=qe(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),A=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,R=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(O){A=""+O,R.call(this,O)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return A},setValue:function(O){A=""+O},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Oe(o){o._valueTracker||(o._valueTracker=Fe(o))}function Be(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),A="";return o&&(A=qe(o)?o.checked?"true":"false":o.value),o=A,o!==m?(u.setValue(o),!0):!1}function Ae(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ie(o,u){var m=u.checked;return N({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function Ze(o,u){var m=u.defaultValue==null?"":u.defaultValue,A=u.checked!=null?u.checked:u.defaultChecked;m=Ve(u.value!=null?u.value:m),o._wrapperState={initialChecked:A,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ke(o,u){u=u.checked,u!=null&&b(o,"checked",u,!1)}function lt(o,u){Ke(o,u);var m=Ve(u.value),A=u.type;if(m!=null)A==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?ct(o,u.type,m):u.hasOwnProperty("defaultValue")&&ct(o,u.type,Ve(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function yt(o,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var A=u.type;if(!(A!=="submit"&&A!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,m||u===o.value||(o.value=u),o.defaultValue=u}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function ct(o,u,m){(u!=="number"||Ae(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var St=Array.isArray;function Ft(o,u,m,A){if(o=o.options,u){u={};for(var E=0;E<m.length;E++)u["$"+m[E]]=!0;for(m=0;m<o.length;m++)E=u.hasOwnProperty("$"+o[m].value),o[m].selected!==E&&(o[m].selected=E),E&&A&&(o[m].defaultSelected=!0)}else{for(m=""+Ve(m),u=null,E=0;E<o.length;E++){if(o[E].value===m){o[E].selected=!0,A&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function J(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function H(o,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(t(92));if(St(m)){if(1<m.length)throw Error(t(93));m=m[0]}u=m}u==null&&(u=""),m=u}o._wrapperState={initialValue:Ve(m)}}function _e(o,u){var m=Ve(u.value),A=Ve(u.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),u.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),A!=null&&(o.defaultValue=""+A)}function ke(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Ge(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Ge(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var At,it=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,A,E){MSApp.execUnsafeLocalFunction(function(){return o(u,m,A,E)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=At.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Te(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(o){_t.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),ot[u]=ot[o]})});function Mt(o,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ot.hasOwnProperty(o)&&ot[o]?(""+u).trim():u+"px"}function rt(o,u){o=o.style;for(var m in u)if(u.hasOwnProperty(m)){var A=m.indexOf("--")===0,E=Mt(m,u[m],A);m==="float"&&(m="cssFloat"),A?o.setProperty(m,E):o[m]=E}}var dt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ne(o,u){if(u){if(dt[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function De(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function $(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Me=null,Ne=null,Xe=null;function vt(o){if(o=Ns(o)){if(typeof Me!="function")throw Error(t(280));var u=o.stateNode;u&&(u=rf(u),Me(o.stateNode,o.type,u))}}function nn(o){Ne?Xe?Xe.push(o):Xe=[o]:Ne=o}function Yt(){if(Ne){var o=Ne,u=Xe;if(Xe=Ne=null,vt(o),u)for(o=0;o<u.length;o++)vt(u[o])}}function dn(o,u){return o(u)}function ri(){}var rn=!1;function Dn(o,u,m){if(rn)return o(u,m);rn=!0;try{return dn(o,u,m)}finally{rn=!1,(Ne!==null||Xe!==null)&&(ri(),Yt())}}function kn(o,u){var m=o.stateNode;if(m===null)return null;var A=rf(m);if(A===null)return null;m=A[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(t(231,u,typeof m));return m}var lo=!1;if(l)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){lo=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{lo=!1}function Mc(o,u,m,A,E,R,O,K,ie){var Se=Array.prototype.slice.call(arguments,3);try{u.apply(m,Se)}catch(ze){this.onError(ze)}}var Ts=!1,Fa=null,W=!1,ye=null,be={onError:function(o){Ts=!0,Fa=o}};function me(o,u,m,A,E,R,O,K,ie){Ts=!1,Fa=null,Mc.apply(be,arguments)}function Le(o,u,m,A,E,R,O,K,ie){if(me.apply(this,arguments),Ts){if(Ts){var Se=Fa;Ts=!1,Fa=null}else throw Error(t(198));W||(W=!0,ye=Se)}}function pt(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function bt(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Pt(o){if(pt(o)!==o)throw Error(t(188))}function Nt(o){var u=o.alternate;if(!u){if(u=pt(o),u===null)throw Error(t(188));return u!==o?null:o}for(var m=o,A=u;;){var E=m.return;if(E===null)break;var R=E.alternate;if(R===null){if(A=E.return,A!==null){m=A;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===m)return Pt(E),o;if(R===A)return Pt(E),u;R=R.sibling}throw Error(t(188))}if(m.return!==A.return)m=E,A=R;else{for(var O=!1,K=E.child;K;){if(K===m){O=!0,m=E,A=R;break}if(K===A){O=!0,A=E,m=R;break}K=K.sibling}if(!O){for(K=R.child;K;){if(K===m){O=!0,m=R,A=E;break}if(K===A){O=!0,A=R,m=E;break}K=K.sibling}if(!O)throw Error(t(189))}}if(m.alternate!==A)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?o:u}function zt(o){return o=Nt(o),o!==null?Gt(o):null}function Gt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Gt(o);if(u!==null)return u;o=o.sibling}return null}var Wt=e.unstable_scheduleCallback,an=e.unstable_cancelCallback,vi=e.unstable_shouldYield,rr=e.unstable_requestPaint,ln=e.unstable_now,yn=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,co=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,zr=e.unstable_LowPriority,as=e.unstable_IdlePriority,yi=null,Jt=null;function Ot(o){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(yi,o,void 0,(o.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Gr,Jn=Math.log,pn=Math.LN2;function Gr(o){return o>>>=0,o===0?32:31-(Jn(o)/pn|0)|0}var Hr=64,Xn=4194304;function fo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Jl(o,u){var m=o.pendingLanes;if(m===0)return 0;var A=0,E=o.suspendedLanes,R=o.pingedLanes,O=m&268435455;if(O!==0){var K=O&~E;K!==0?A=fo(K):(R&=O,R!==0&&(A=fo(R)))}else O=m&~E,O!==0?A=fo(O):R!==0&&(A=fo(R));if(A===0)return 0;if(u!==0&&u!==A&&(u&E)===0&&(E=A&-A,R=u&-u,E>=R||E===16&&(R&4194240)!==0))return u;if((A&4)!==0&&(A|=m&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=A;0<u;)m=31-xn(u),E=1<<m,A|=o[m],u&=~E;return A}function Jp(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(o,u){for(var m=o.suspendedLanes,A=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes;0<R;){var O=31-xn(R),K=1<<O,ie=E[O];ie===-1?((K&m)===0||(K&A)!==0)&&(E[O]=Jp(K,u)):ie<=u&&(o.expiredLanes|=K),R&=~K}}function wc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yr(){var o=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),o}function Rh(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function Xl(o,u,m){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-xn(u),o[u]=m}function k0(o,u){var m=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<m;){var E=31-xn(m),R=1<<E;u[E]=0,A[E]=-1,o[E]=-1,m&=~R}}function Na(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var A=31-xn(m),E=1<<A;E&u|o[A]&u&&(o[A]|=u),m&=~E}}var sn=0;function Oa(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Kl,Lh,Xp,Cc,Ec,ko=!1,Tc=[],ls=null,jt=null,bs=null,Uo=new Map,ka=new Map,ho=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $n(o,u){switch(o){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Uo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(u.pointerId)}}function zo(o,u,m,A,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:m,eventSystemFlags:A,nativeEvent:R,targetContainers:[E]},u!==null&&(u=Ns(u),u!==null&&Lh(u)),o):(o.eventSystemFlags|=A,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function z0(o,u,m,A,E){switch(u){case"focusin":return ls=zo(ls,o,u,m,A,E),!0;case"dragenter":return jt=zo(jt,o,u,m,A,E),!0;case"mouseover":return bs=zo(bs,o,u,m,A,E),!0;case"pointerover":var R=E.pointerId;return Uo.set(R,zo(Uo.get(R)||null,o,u,m,A,E)),!0;case"gotpointercapture":return R=E.pointerId,ka.set(R,zo(ka.get(R)||null,o,u,m,A,E)),!0}return!1}function bc(o){var u=Ao(o.target);if(u!==null){var m=pt(u);if(m!==null){if(u=m.tag,u===13){if(u=bt(m),u!==null){o.blockedOn=u,Ec(o.priority,function(){Xp(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pc(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=Ar(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var A=new m.constructor(m.type,m);tt=A,m.target.dispatchEvent(A),tt=null}else return u=Ns(m),u!==null&&Lh(u),o.blockedOn=m,!1;u.shift()}return!0}function Yl(o,u,m){Pc(o)&&m.delete(u)}function us(){ko=!1,ls!==null&&Pc(ls)&&(ls=null),jt!==null&&Pc(jt)&&(jt=null),bs!==null&&Pc(bs)&&(bs=null),Uo.forEach(Yl),ka.forEach(Yl)}function Ql(o,u){o.blockedOn===u&&(o.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,us)))}function ql(o){function u(E){return Ql(E,o)}if(0<Tc.length){Ql(Tc[0],o);for(var m=1;m<Tc.length;m++){var A=Tc[m];A.blockedOn===o&&(A.blockedOn=null)}}for(ls!==null&&Ql(ls,o),jt!==null&&Ql(jt,o),bs!==null&&Ql(bs,o),Uo.forEach(u),ka.forEach(u),m=0;m<ho.length;m++)A=ho[m],A.blockedOn===o&&(A.blockedOn=null);for(;0<ho.length&&(m=ho[0],m.blockedOn===null);)bc(m),m.blockedOn===null&&ho.shift()}var Li=B.ReactCurrentBatchConfig,xr=!0;function Bc(o,u,m,A){var E=sn,R=Li.transition;Li.transition=null;try{sn=1,Rc(o,u,m,A)}finally{sn=E,Li.transition=R}}function Ih(o,u,m,A){var E=sn,R=Li.transition;Li.transition=null;try{sn=4,Rc(o,u,m,A)}finally{sn=E,Li.transition=R}}function Rc(o,u,m,A){if(xr){var E=Ar(o,u,m,A);if(E===null)qc(o,u,A,Lc,m),$n(o,A);else if(z0(E,o,u,m,A))A.stopPropagation();else if($n(o,A),u&4&&-1<U0.indexOf(o)){for(;E!==null;){var R=Ns(E);if(R!==null&&Kl(R),R=Ar(o,u,m,A),R===null&&qc(o,u,A,Lc,m),R===E)break;E=R}E!==null&&A.stopPropagation()}else qc(o,u,A,null,m)}}var Lc=null;function Ar(o,u,m,A){if(Lc=null,o=$(A),o=Ao(o),o!==null)if(u=pt(o),u===null)o=null;else if(m=u.tag,m===13){if(o=bt(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Lc=o,null}function Kp(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yn()){case Ht:return 1;case co:return 4;case Pn:case zr:return 16;case as:return 536870912;default:return 16}default:return 16}}var Vr=null,Dh=null,Ji=null;function Zl(){if(Ji)return Ji;var o,u=Dh,m=u.length,A,E="value"in Vr?Vr.value:Vr.textContent,R=E.length;for(o=0;o<m&&u[o]===E[o];o++);var O=m-o;for(A=1;A<=O&&u[m-A]===E[R-A];A++);return Ji=E.slice(o,1<A?1-A:void 0)}function Go(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ps(){return!0}function Ic(){return!1}function Ii(o){function u(m,A,E,R,O){this._reactName=m,this._targetInst=E,this.type=A,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(m=o[K],this[K]=m?m(R):R[K]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ps:Ic,this.isPropagationStopped=Ic,this}return N(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),u}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Ii(Ho),Vo=N({},Ho,{view:0,detail:0}),Ua=Ii(Vo),Xi,_r,Mr,za=N({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Mr&&(Mr&&o.type==="mousemove"?(Xi=o.screenX-Mr.screenX,_r=o.screenY-Mr.screenY):_r=Xi=0,Mr=o),Xi)},movementY:function(o){return"movementY"in o?o.movementY:_r}}),Fh=Ii(za),Bs=N({},za,{dataTransfer:0}),po=Ii(Bs),Dc=N({},Vo,{relatedTarget:0}),Fc=Ii(Dc),Nc=N({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=Ii(Nc),Qp=N({},Ho,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Nh=Ii(Qp),Oc=N({},Ho,{data:0}),Oh=Ii(Oc),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=kh[o])?!!u[o]:!1}function mo(){return Ga}var kc=N({},Vo,{key:function(o){if(o.key){var u=qp[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Go(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(o){return o.type==="keypress"?Go(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Go(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Uc=Ii(kc),Sr=N({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Ii(Sr),Wo=N({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Rs=Ii(Wo),Ls=N({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Ii(Ls),$p=N({},za,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=Ii($p),zh=[9,13,27,32],Di=l&&"CompositionEvent"in window,xi=null;l&&"documentMode"in document&&(xi=document.documentMode);var En=l&&"TextEvent"in window&&!xi,Ha=l&&(!Di||xi&&8<xi&&11>=xi),wr=" ",Gh=!1;function Hh(o,u){switch(o){case"keyup":return zh.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var go=!1;function em(o,u){switch(o){case"compositionend":return zc(u);case"keypress":return u.which!==32?null:(Gh=!0,wr);case"textInput":return o=u.data,o===wr&&Gh?null:o;default:return null}}function eu(o,u){if(go)return o==="compositionend"||!Di&&Hh(o,u)?(o=Zl(),Ji=Dh=Vr=null,go=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ha&&u.locale!=="ko"?null:u.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Va[o.type]:u==="textarea"}function Wa(o,u,m,A){nn(A),u=Zc(u,"onChange"),0<u.length&&(m=new $l("onChange","change",null,m,A),o.push({event:m,listeners:u}))}var vo=null,ja=null;function tm(o){Ya(o,0)}function Is(o){var u=Un(o);if(Be(u))return o}function nm(o,u){if(o==="change")return u}var Ja=!1;if(l){var Ki;if(l){var Jo="oninput"in document;if(!Jo){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),Jo=typeof Xo.oninput=="function"}Ki=Jo}else Ki=!1;Ja=Ki&&(!document.documentMode||9<document.documentMode)}function Wr(){vo&&(vo.detachEvent("onpropertychange",Hc),ja=vo=null)}function Hc(o){if(o.propertyName==="value"&&Is(ja)){var u=[];Wa(u,ja,o,$(o)),Dn(tm,u)}}function Xa(o,u,m){o==="focusin"?(Wr(),vo=u,ja=m,vo.attachEvent("onpropertychange",Hc)):o==="focusout"&&Wr()}function im(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Is(ja)}function Vh(o,u){if(o==="click")return Is(u)}function Bn(o,u){if(o==="input"||o==="change")return Is(u)}function Vc(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var or=typeof Object.is=="function"?Object.is:Vc;function Ko(o,u){if(or(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),A=Object.keys(u);if(m.length!==A.length)return!1;for(A=0;A<m.length;A++){var E=m[A];if(!c.call(u,E)||!or(o[E],u[E]))return!1}return!0}function tu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ar(o,u){var m=tu(o);o=0;for(var A;m;){if(m.nodeType===3){if(A=o+m.textContent.length,o<=u&&A>=u)return{node:m,offset:u-o};o=A}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=tu(m)}}function Yo(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Yo(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Rn(){for(var o=window,u=Ae();u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=Ae(o.document)}return u}function si(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function oi(o){var u=Rn(),m=o.focusedElem,A=o.selectionRange;if(u!==m&&m&&m.ownerDocument&&Yo(m.ownerDocument.documentElement,m)){if(A!==null&&si(m)){if(u=A.start,o=A.end,o===void 0&&(o=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(o,m.value.length);else if(o=(u=m.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var E=m.textContent.length,R=Math.min(A.start,E);A=A.end===void 0?R:Math.min(A.end,E),!o.extend&&R>A&&(E=A,A=R,R=E),E=ar(m,R);var O=ar(m,A);E&&O&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==O.node||o.focusOffset!==O.offset)&&(u=u.createRange(),u.setStart(E.node,E.offset),o.removeAllRanges(),R>A?(o.addRange(u),o.extend(O.node,O.offset)):(u.setEnd(O.node,O.offset),o.addRange(u)))}}for(u=[],o=m;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)o=u[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Wc=l&&"documentMode"in document&&11>=document.documentMode,cs=null,Qo=null,nu=null,ai=!1;function jc(o,u,m){var A=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ai||cs==null||cs!==Ae(A)||(A=cs,"selectionStart"in A&&si(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),nu&&Ko(nu,A)||(nu=A,A=Zc(Qo,"onSelect"),0<A.length&&(u=new $l("onSelect","select",null,u,m),o.push({event:u,listeners:A}),u.target=cs)))}function Ka(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var yo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},jr={},Jr={};l&&(Jr=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function fs(o){if(jr[o])return jr[o];if(!yo[o])return o;var u=yo[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Jr)return jr[o]=u[m];return o}var iu=fs("animationend"),ru=fs("animationiteration"),Wh=fs("animationstart"),jh=fs("transitionend"),Jh=new Map,Xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(o,u){Jh.set(o,u),s(u,[o])}for(var Jc=0;Jc<Xh.length;Jc++){var su=Xh[Jc],ou=su.toLowerCase(),rm=su[0].toUpperCase()+su.slice(1);Ds(ou,"on"+rm)}Ds(iu,"onAnimationEnd"),Ds(ru,"onAnimationIteration"),Ds(Wh,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(jh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function Kc(o,u,m){var A=o.type||"unknown-event";o.currentTarget=m,Le(A,u,void 0,o),o.currentTarget=null}function Ya(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var A=o[m],E=A.event;A=A.listeners;e:{var R=void 0;if(u)for(var O=A.length-1;0<=O;O--){var K=A[O],ie=K.instance,Se=K.currentTarget;if(K=K.listener,ie!==R&&E.isPropagationStopped())break e;Kc(E,K,Se),R=ie}else for(O=0;O<A.length;O++){if(K=A[O],ie=K.instance,Se=K.currentTarget,K=K.listener,ie!==R&&E.isPropagationStopped())break e;Kc(E,K,Se),R=ie}}}if(W)throw o=ye,W=!1,ye=null,o}function An(o,u){var m=u[$o];m===void 0&&(m=u[$o]=new Set);var A=o+"__bubble";m.has(A)||(Qc(u,o,2,!1),m.add(A))}function Yc(o,u,m){var A=0;u&&(A|=4),Qc(m,o,A,u)}var au="_reactListening"+Math.random().toString(36).slice(2);function Qa(o){if(!o[au]){o[au]=!0,n.forEach(function(m){m!=="selectionchange"&&(Xc.has(m)||Yc(m,!1,o),Yc(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[au]||(u[au]=!0,Yc("selectionchange",!1,u))}}function Qc(o,u,m,A){switch(Kp(u)){case 1:var E=Bc;break;case 4:E=Ih;break;default:E=Rc}m=E.bind(null,u,m,o),E=void 0,!lo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),A?E!==void 0?o.addEventListener(u,m,{capture:!0,passive:E}):o.addEventListener(u,m,!0):E!==void 0?o.addEventListener(u,m,{passive:E}):o.addEventListener(u,m,!1)}function qc(o,u,m,A,E){var R=A;if((u&1)===0&&(u&2)===0&&A!==null)e:for(;;){if(A===null)return;var O=A.tag;if(O===3||O===4){var K=A.stateNode.containerInfo;if(K===E||K.nodeType===8&&K.parentNode===E)break;if(O===4)for(O=A.return;O!==null;){var ie=O.tag;if((ie===3||ie===4)&&(ie=O.stateNode.containerInfo,ie===E||ie.nodeType===8&&ie.parentNode===E))return;O=O.return}for(;K!==null;){if(O=Ao(K),O===null)return;if(ie=O.tag,ie===5||ie===6){A=R=O;continue e}K=K.parentNode}}A=A.return}Dn(function(){var Se=R,ze=$(m),He=[];e:{var Ue=Jh.get(o);if(Ue!==void 0){var st=$l,ft=o;switch(o){case"keypress":if(Go(m)===0)break e;case"keydown":case"keyup":st=Uc;break;case"focusin":ft="focus",st=Fc;break;case"focusout":ft="blur",st=Fc;break;case"beforeblur":case"afterblur":st=Fc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Rs;break;case iu:case ru:case Wh:st=Yp;break;case jh:st=jo;break;case"scroll":st=Ua;break;case"wheel":st=Uh;break;case"copy":case"cut":case"paste":st=Nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=sr}var gt=(u&4)!==0,ni=!gt&&o==="scroll",pe=gt?Ue!==null?Ue+"Capture":null:Ue;gt=[];for(var ae=Se,ge;ae!==null;){ge=ae;var Je=ge.stateNode;if(ge.tag===5&&Je!==null&&(ge=Je,pe!==null&&(Je=kn(ae,pe),Je!=null&&gt.push(qa(ae,Je,ge)))),ni)break;ae=ae.return}0<gt.length&&(Ue=new st(Ue,ft,null,m,ze),He.push({event:Ue,listeners:gt}))}}if((u&7)===0){e:{if(Ue=o==="mouseover"||o==="pointerover",st=o==="mouseout"||o==="pointerout",Ue&&m!==tt&&(ft=m.relatedTarget||m.fromElement)&&(Ao(ft)||ft[lr]))break e;if((st||Ue)&&(Ue=ze.window===ze?ze:(Ue=ze.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,st?(ft=m.relatedTarget||m.toElement,st=Se,ft=ft?Ao(ft):null,ft!==null&&(ni=pt(ft),ft!==ni||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(st=null,ft=Se),st!==ft)){if(gt=Fh,Je="onMouseLeave",pe="onMouseEnter",ae="mouse",(o==="pointerout"||o==="pointerover")&&(gt=sr,Je="onPointerLeave",pe="onPointerEnter",ae="pointer"),ni=st==null?Ue:Un(st),ge=ft==null?Ue:Un(ft),Ue=new gt(Je,ae+"leave",st,m,ze),Ue.target=ni,Ue.relatedTarget=ge,Je=null,Ao(ze)===Se&&(gt=new gt(pe,ae+"enter",ft,m,ze),gt.target=ge,gt.relatedTarget=ni,Je=gt),ni=Je,st&&ft)t:{for(gt=st,pe=ft,ae=0,ge=gt;ge;ge=qo(ge))ae++;for(ge=0,Je=pe;Je;Je=qo(Je))ge++;for(;0<ae-ge;)gt=qo(gt),ae--;for(;0<ge-ae;)pe=qo(pe),ge--;for(;ae--;){if(gt===pe||pe!==null&&gt===pe.alternate)break t;gt=qo(gt),pe=qo(pe)}gt=null}else gt=null;st!==null&&sm(He,Ue,st,gt,!1),ft!==null&&ni!==null&&sm(He,ni,ft,gt,!0)}}e:{if(Ue=Se?Un(Se):window,st=Ue.nodeName&&Ue.nodeName.toLowerCase(),st==="select"||st==="input"&&Ue.type==="file")var xt=nm;else if(Gc(Ue))if(Ja)xt=Bn;else{xt=im;var Ct=Xa}else(st=Ue.nodeName)&&st.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(xt=Vh);if(xt&&(xt=xt(o,Se))){Wa(He,xt,m,ze);break e}Ct&&Ct(o,Ue,Se),o==="focusout"&&(Ct=Ue._wrapperState)&&Ct.controlled&&Ue.type==="number"&&ct(Ue,"number",Ue.value)}switch(Ct=Se?Un(Se):window,o){case"focusin":(Gc(Ct)||Ct.contentEditable==="true")&&(cs=Ct,Qo=Se,nu=null);break;case"focusout":nu=Qo=cs=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,jc(He,m,ze);break;case"selectionchange":if(Wc)break;case"keydown":case"keyup":jc(He,m,ze)}var Et;if(Di)e:{switch(o){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else go?Hh(o,m)&&(It="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(It="onCompositionStart");It&&(Ha&&m.locale!=="ko"&&(go||It!=="onCompositionStart"?It==="onCompositionEnd"&&go&&(Et=Zl()):(Vr=ze,Dh="value"in Vr?Vr.value:Vr.textContent,go=!0)),Ct=Zc(Se,It),0<Ct.length&&(It=new Oh(It,o,null,m,ze),He.push({event:It,listeners:Ct}),Et?It.data=Et:(Et=zc(m),Et!==null&&(It.data=Et)))),(Et=En?em(o,m):eu(o,m))&&(Se=Zc(Se,"onBeforeInput"),0<Se.length&&(ze=new Oh("onBeforeInput","beforeinput",null,m,ze),He.push({event:ze,listeners:Se}),ze.data=Et))}Ya(He,u)})}function qa(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Zc(o,u){for(var m=u+"Capture",A=[];o!==null;){var E=o,R=E.stateNode;E.tag===5&&R!==null&&(E=R,R=kn(o,m),R!=null&&A.unshift(qa(o,R,E)),R=kn(o,u),R!=null&&A.push(qa(o,R,E))),o=o.return}return A}function qo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function sm(o,u,m,A,E){for(var R=u._reactName,O=[];m!==null&&m!==A;){var K=m,ie=K.alternate,Se=K.stateNode;if(ie!==null&&ie===A)break;K.tag===5&&Se!==null&&(K=Se,E?(ie=kn(m,R),ie!=null&&O.unshift(qa(m,ie,K))):E||(ie=kn(m,R),ie!=null&&O.push(qa(m,ie,K)))),m=m.return}O.length!==0&&o.push({event:u,listeners:O})}var G0=/\r\n?/g,om=/\u0000|\uFFFD/g;function Kh(o){return(typeof o=="string"?o:""+o).replace(G0,`
`).replace(om,"")}function lu(o,u,m){if(u=Kh(u),Kh(o)!==u&&m)throw Error(t(425))}function uu(){}var Za=null,Yh=null;function Qh(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,Zh=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,H0=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(o){return $c.resolve(null).then(o).catch(am)}:qh;function am(o){setTimeout(function(){throw o})}function ef(o,u){var m=u,A=0;do{var E=m.nextSibling;if(o.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(A===0){o.removeChild(E),ql(u);return}A--}else m!=="$"&&m!=="$?"&&m!=="$!"||A++;m=E}while(m);ql(u)}function Fs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function $h(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),ei="__reactFiber$"+Zo,$a="__reactProps$"+Zo,lr="__reactContainer$"+Zo,$o="__reactEvents$"+Zo,tf="__reactListeners$"+Zo,nf="__reactHandles$"+Zo;function Ao(o){var u=o[ei];if(u)return u;for(var m=o.parentNode;m;){if(u=m[lr]||m[ei]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=$h(o);o!==null;){if(m=o[ei])return m;o=$h(o)}return u}o=m,m=o.parentNode}return null}function Ns(o){return o=o[ei]||o[lr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Un(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function rf(o){return o[$a]||null}var ed=[],li=-1;function Fn(o){return{current:o}}function _n(o){0>li||(o.current=ed[li],ed[li]=null,li--)}function mn(o,u){li++,ed[li]=o.current,o.current=u}var Os={},Ai=Fn(Os),Fi=Fn(!1),ks=Os;function ea(o,u){var m=o.type.contextTypes;if(!m)return Os;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===u)return A.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in m)E[R]=u[R];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=E),E}function Ei(o){return o=o.childContextTypes,o!=null}function cu(){_n(Fi),_n(Ai)}function td(o,u,m){if(Ai.current!==Os)throw Error(t(168));mn(Ai,u),mn(Fi,m)}function fu(o,u,m){var A=o.stateNode;if(u=u.childContextTypes,typeof A.getChildContext!="function")return m;A=A.getChildContext();for(var E in A)if(!(E in u))throw Error(t(108,ce(o)||"Unknown",E));return N({},m,A)}function ta(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Os,ks=Ai.current,mn(Ai,o),mn(Fi,Fi.current),!0}function nd(o,u,m){var A=o.stateNode;if(!A)throw Error(t(169));m?(o=fu(o,u,ks),A.__reactInternalMemoizedMergedChildContext=o,_n(Fi),_n(Ai),mn(Ai,o)):_n(Fi),mn(Fi,m)}var Xr=null,hu=!1,sf=!1;function du(o){Xr===null?Xr=[o]:Xr.push(o)}function lm(o){hu=!0,du(o)}function hs(){if(!sf&&Xr!==null){sf=!0;var o=0,u=sn;try{var m=Xr;for(sn=1;o<m.length;o++){var A=m[o];do A=A(!0);while(A!==null)}Xr=null,hu=!1}catch(E){throw Xr!==null&&(Xr=Xr.slice(o+1)),Wt(Ht,hs),E}finally{sn=u,sf=!1}}return null}var na=[],Yi=0,of=null,af=0,Ni=[],ui=0,ia=null,Ye=1,Cr="";function Us(o,u){na[Yi++]=af,na[Yi++]=of,of=o,af=u}function id(o,u,m){Ni[ui++]=Ye,Ni[ui++]=Cr,Ni[ui++]=ia,ia=o;var A=Ye;o=Cr;var E=32-xn(A)-1;A&=~(1<<E),m+=1;var R=32-xn(u)+E;if(30<R){var O=E-E%5;R=(A&(1<<O)-1).toString(32),A>>=O,E-=O,Ye=1<<32-xn(u)+E|m<<E|A,Cr=R+o}else Ye=1<<R|m<<E|A,Cr=o}function rd(o){o.return!==null&&(Us(o,1),id(o,1,0))}function zs(o){for(;o===of;)of=na[--Yi],na[Yi]=null,af=na[--Yi],na[Yi]=null;for(;o===ia;)ia=Ni[--ui],Ni[ui]=null,Cr=Ni[--ui],Ni[ui]=null,Ye=Ni[--ui],Ni[ui]=null}var _i=null,Oi=null,wn=!1,Er=null;function sd(o,u){var m=ys(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=o,u=o.deletions,u===null?(o.deletions=[m],o.flags|=16):u.push(m)}function od(o,u){switch(o.tag){case 5:var m=o.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,_i=o,Oi=Fs(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,_i=o,Oi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=ia!==null?{id:Ye,overflow:Cr}:null,o.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=ys(18,null,null,0),m.stateNode=u,m.return=o,o.child=m,_i=o,Oi=null,!0):!1;default:return!1}}function lf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function uf(o){if(wn){var u=Oi;if(u){var m=u;if(!od(o,u)){if(lf(o))throw Error(t(418));u=Fs(m.nextSibling);var A=_i;u&&od(o,u)?sd(A,m):(o.flags=o.flags&-4097|2,wn=!1,_i=o)}}else{if(lf(o))throw Error(t(418));o.flags=o.flags&-4097|2,wn=!1,_i=o}}}function cf(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;_i=o}function el(o){if(o!==_i)return!1;if(!wn)return cf(o),wn=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Qh(o.type,o.memoizedProps)),u&&(u=Oi)){if(lf(o))throw ad(),Error(t(418));for(;u;)sd(o,u),u=Fs(u.nextSibling)}if(cf(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(u===0){Oi=Fs(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}o=o.nextSibling}Oi=null}}else Oi=_i?Fs(o.stateNode.nextSibling):null;return!0}function ad(){for(var o=Oi;o;)o=Fs(o.nextSibling)}function _o(){Oi=_i=null,wn=!1}function tl(o){Er===null?Er=[o]:Er.push(o)}var V0=B.ReactCurrentBatchConfig;function Kr(o,u){if(o&&o.defaultProps){u=N({},u),o=o.defaultProps;for(var m in o)u[m]===void 0&&(u[m]=o[m]);return u}return u}var pu=Fn(null),mu=null,ra=null,ff=null;function nl(){ff=ra=mu=null}function il(o){var u=pu.current;_n(pu),o._currentValue=u}function rl(o,u,m){for(;o!==null;){var A=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,A!==null&&(A.childLanes|=u)):A!==null&&(A.childLanes&u)!==u&&(A.childLanes|=u),o===m)break;o=o.return}}function Gs(o,u){mu=o,ff=ra=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(nt=!0),o.firstContext=null)}function ki(o){var u=o._currentValue;if(ff!==o)if(o={context:o,memoizedValue:u,next:null},ra===null){if(mu===null)throw Error(t(308));ra=o,mu.dependencies={lanes:0,firstContext:o}}else ra=ra.next=o;return u}var Yr=null;function gu(o){Yr===null?Yr=[o]:Yr.push(o)}function hf(o,u,m,A){var E=u.interleaved;return E===null?(m.next=m,gu(u)):(m.next=E.next,E.next=m),u.interleaved=m,Qr(o,A)}function Qr(o,u){o.lanes|=u;var m=o.alternate;for(m!==null&&(m.lanes|=u),m=o,o=o.return;o!==null;)o.childLanes|=u,m=o.alternate,m!==null&&(m.childLanes|=u),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Hs=!1;function vu(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Tr(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function ds(o,u,m){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(un&2)!==0){var E=A.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),A.pending=u,Qr(o,m)}return E=A.interleaved,E===null?(u.next=u,gu(A)):(u.next=E.next,E.next=u),A.interleaved=u,Qr(o,m)}function Tn(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var A=u.lanes;A&=o.pendingLanes,m|=A,u.lanes=m,Na(o,m)}}function Vt(o,u){var m=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,m===A)){var E=null,R=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};R===null?E=R=O:R=R.next=O,m=m.next}while(m!==null);R===null?E=R=u:R=R.next=u}else E=R=u;m={baseState:A.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:A.shared,effects:A.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}function Ln(o,u,m,A){var E=o.updateQueue;Hs=!1;var R=E.firstBaseUpdate,O=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var ie=K,Se=ie.next;ie.next=null,O===null?R=Se:O.next=Se,O=ie;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,K=ze.lastBaseUpdate,K!==O&&(K===null?ze.firstBaseUpdate=Se:K.next=Se,ze.lastBaseUpdate=ie))}if(R!==null){var He=E.baseState;O=0,ze=Se=ie=null,K=R;do{var Ue=K.lane,st=K.eventTime;if((A&Ue)===Ue){ze!==null&&(ze=ze.next={eventTime:st,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var ft=o,gt=K;switch(Ue=u,st=m,gt.tag){case 1:if(ft=gt.payload,typeof ft=="function"){He=ft.call(st,He,Ue);break e}He=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gt.payload,Ue=typeof ft=="function"?ft.call(st,He,Ue):ft,Ue==null)break e;He=N({},He,Ue);break e;case 2:Hs=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Ue=E.effects,Ue===null?E.effects=[K]:Ue.push(K))}else st={eventTime:st,lane:Ue,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ze===null?(Se=ze=st,ie=He):ze=ze.next=st,O|=Ue;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;Ue=K,K=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);if(ze===null&&(ie=He),E.baseState=ie,E.firstBaseUpdate=Se,E.lastBaseUpdate=ze,u=E.shared.interleaved,u!==null){E=u;do O|=E.lane,E=E.next;while(E!==u)}else R===null&&(E.shared.lanes=0);wu|=O,o.lanes=O,o.memoizedState=He}}function zn(o,u,m){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var A=o[u],E=A.callback;if(E!==null){if(A.callback=null,A=m,typeof E!="function")throw Error(t(191,E));E.call(A)}}}var ci=new i.Component().refs;function Ui(o,u,m,A){u=o.memoizedState,m=m(A,u),m=m==null?u:N({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Vs={isMounted:function(o){return(o=o._reactInternals)?pt(o)===o:!1},enqueueSetState:function(o,u,m){o=o._reactInternals;var A=hr(),E=ml(o),R=Tr(A,E);R.payload=u,m!=null&&(R.callback=m),u=ds(o,R,E),u!==null&&(Xs(u,o,E,A),Tn(u,o,E))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var A=hr(),E=ml(o),R=Tr(A,E);R.tag=1,R.payload=u,m!=null&&(R.callback=m),u=ds(o,R,E),u!==null&&(Xs(u,o,E,A),Tn(u,o,E))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=hr(),A=ml(o),E=Tr(m,A);E.tag=2,u!=null&&(E.callback=u),u=ds(o,E,A),u!==null&&(Xs(u,o,A,m),Tn(u,o,A))}};function Kn(o,u,m,A,E,R,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,R,O):u.prototype&&u.prototype.isPureReactComponent?!Ko(m,A)||!Ko(E,R):!0}function sl(o,u,m){var A=!1,E=Os,R=u.contextType;return typeof R=="object"&&R!==null?R=ki(R):(E=Ei(u)?ks:Ai.current,A=u.contextTypes,R=(A=A!=null)?ea(o,E):Os),u=new u(m,R),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vs,o.stateNode=u,u._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=R),u}function sa(o,u,m,A){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,A),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,A),u.state!==o&&Vs.enqueueReplaceState(u,u.state,null)}function ol(o,u,m,A){var E=o.stateNode;E.props=m,E.state=o.memoizedState,E.refs=ci,vu(o);var R=u.contextType;typeof R=="object"&&R!==null?E.context=ki(R):(R=Ei(u)?ks:Ai.current,E.context=ea(o,R)),E.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Ui(o,u,R,m),E.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&Vs.enqueueReplaceState(E,E.state,null),Ln(o,m,E,A),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function oa(o,u,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var A=m.stateNode}if(!A)throw Error(t(147,o));var E=A,R=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===R?u.ref:(u=function(O){var K=E.refs;K===ci&&(K=E.refs={}),O===null?delete K[R]:K[R]=O},u._stringRef=R,u)}if(typeof o!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,o))}return o}function Mo(o,u){throw o=Object.prototype.toString.call(u),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function zi(o){var u=o._init;return u(o._payload)}function df(o){function u(pe,ae){if(o){var ge=pe.deletions;ge===null?(pe.deletions=[ae],pe.flags|=16):ge.push(ae)}}function m(pe,ae){if(!o)return null;for(;ae!==null;)u(pe,ae),ae=ae.sibling;return null}function A(pe,ae){for(pe=new Map;ae!==null;)ae.key!==null?pe.set(ae.key,ae):pe.set(ae.index,ae),ae=ae.sibling;return pe}function E(pe,ae){return pe=vl(pe,ae),pe.index=0,pe.sibling=null,pe}function R(pe,ae,ge){return pe.index=ge,o?(ge=pe.alternate,ge!==null?(ge=ge.index,ge<ae?(pe.flags|=2,ae):ge):(pe.flags|=2,ae)):(pe.flags|=1048576,ae)}function O(pe){return o&&pe.alternate===null&&(pe.flags|=2),pe}function K(pe,ae,ge,Je){return ae===null||ae.tag!==6?(ae=lv(ge,pe.mode,Je),ae.return=pe,ae):(ae=E(ae,ge),ae.return=pe,ae)}function ie(pe,ae,ge,Je){var xt=ge.type;return xt===G?ze(pe,ae,ge.props.children,Je,ge.key):ae!==null&&(ae.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ve&&zi(xt)===ae.type)?(Je=E(ae,ge.props),Je.ref=oa(pe,ae,ge),Je.return=pe,Je):(Je=Im(ge.type,ge.key,ge.props,null,pe.mode,Je),Je.ref=oa(pe,ae,ge),Je.return=pe,Je)}function Se(pe,ae,ge,Je){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=uv(ge,pe.mode,Je),ae.return=pe,ae):(ae=E(ae,ge.children||[]),ae.return=pe,ae)}function ze(pe,ae,ge,Je,xt){return ae===null||ae.tag!==7?(ae=bu(ge,pe.mode,Je,xt),ae.return=pe,ae):(ae=E(ae,ge),ae.return=pe,ae)}function He(pe,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=lv(""+ae,pe.mode,ge),ae.return=pe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return ge=Im(ae.type,ae.key,ae.props,null,pe.mode,ge),ge.ref=oa(pe,null,ae),ge.return=pe,ge;case F:return ae=uv(ae,pe.mode,ge),ae.return=pe,ae;case ve:var Je=ae._init;return He(pe,Je(ae._payload),ge)}if(St(ae)||Y(ae))return ae=bu(ae,pe.mode,ge,null),ae.return=pe,ae;Mo(pe,ae)}return null}function Ue(pe,ae,ge,Je){var xt=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return xt!==null?null:K(pe,ae,""+ge,Je);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case I:return ge.key===xt?ie(pe,ae,ge,Je):null;case F:return ge.key===xt?Se(pe,ae,ge,Je):null;case ve:return xt=ge._init,Ue(pe,ae,xt(ge._payload),Je)}if(St(ge)||Y(ge))return xt!==null?null:ze(pe,ae,ge,Je,null);Mo(pe,ge)}return null}function st(pe,ae,ge,Je,xt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return pe=pe.get(ge)||null,K(ae,pe,""+Je,xt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case I:return pe=pe.get(Je.key===null?ge:Je.key)||null,ie(ae,pe,Je,xt);case F:return pe=pe.get(Je.key===null?ge:Je.key)||null,Se(ae,pe,Je,xt);case ve:var Ct=Je._init;return st(pe,ae,ge,Ct(Je._payload),xt)}if(St(Je)||Y(Je))return pe=pe.get(ge)||null,ze(ae,pe,Je,xt,null);Mo(ae,Je)}return null}function ft(pe,ae,ge,Je){for(var xt=null,Ct=null,Et=ae,It=ae=0,Pi=null;Et!==null&&It<ge.length;It++){Et.index>It?(Pi=Et,Et=null):Pi=Et.sibling;var fn=Ue(pe,Et,ge[It],Je);if(fn===null){Et===null&&(Et=Pi);break}o&&Et&&fn.alternate===null&&u(pe,Et),ae=R(fn,ae,It),Ct===null?xt=fn:Ct.sibling=fn,Ct=fn,Et=Pi}if(It===ge.length)return m(pe,Et),wn&&Us(pe,It),xt;if(Et===null){for(;It<ge.length;It++)Et=He(pe,ge[It],Je),Et!==null&&(ae=R(Et,ae,It),Ct===null?xt=Et:Ct.sibling=Et,Ct=Et);return wn&&Us(pe,It),xt}for(Et=A(pe,Et);It<ge.length;It++)Pi=st(Et,pe,It,ge[It],Je),Pi!==null&&(o&&Pi.alternate!==null&&Et.delete(Pi.key===null?It:Pi.key),ae=R(Pi,ae,It),Ct===null?xt=Pi:Ct.sibling=Pi,Ct=Pi);return o&&Et.forEach(function(yl){return u(pe,yl)}),wn&&Us(pe,It),xt}function gt(pe,ae,ge,Je){var xt=Y(ge);if(typeof xt!="function")throw Error(t(150));if(ge=xt.call(ge),ge==null)throw Error(t(151));for(var Ct=xt=null,Et=ae,It=ae=0,Pi=null,fn=ge.next();Et!==null&&!fn.done;It++,fn=ge.next()){Et.index>It?(Pi=Et,Et=null):Pi=Et.sibling;var yl=Ue(pe,Et,fn.value,Je);if(yl===null){Et===null&&(Et=Pi);break}o&&Et&&yl.alternate===null&&u(pe,Et),ae=R(yl,ae,It),Ct===null?xt=yl:Ct.sibling=yl,Ct=yl,Et=Pi}if(fn.done)return m(pe,Et),wn&&Us(pe,It),xt;if(Et===null){for(;!fn.done;It++,fn=ge.next())fn=He(pe,fn.value,Je),fn!==null&&(ae=R(fn,ae,It),Ct===null?xt=fn:Ct.sibling=fn,Ct=fn);return wn&&Us(pe,It),xt}for(Et=A(pe,Et);!fn.done;It++,fn=ge.next())fn=st(Et,pe,It,fn.value,Je),fn!==null&&(o&&fn.alternate!==null&&Et.delete(fn.key===null?It:fn.key),ae=R(fn,ae,It),Ct===null?xt=fn:Ct.sibling=fn,Ct=fn);return o&&Et.forEach(function(gb){return u(pe,gb)}),wn&&Us(pe,It),xt}function ni(pe,ae,ge,Je){if(typeof ge=="object"&&ge!==null&&ge.type===G&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case I:e:{for(var xt=ge.key,Ct=ae;Ct!==null;){if(Ct.key===xt){if(xt=ge.type,xt===G){if(Ct.tag===7){m(pe,Ct.sibling),ae=E(Ct,ge.props.children),ae.return=pe,pe=ae;break e}}else if(Ct.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ve&&zi(xt)===Ct.type){m(pe,Ct.sibling),ae=E(Ct,ge.props),ae.ref=oa(pe,Ct,ge),ae.return=pe,pe=ae;break e}m(pe,Ct);break}else u(pe,Ct);Ct=Ct.sibling}ge.type===G?(ae=bu(ge.props.children,pe.mode,Je,ge.key),ae.return=pe,pe=ae):(Je=Im(ge.type,ge.key,ge.props,null,pe.mode,Je),Je.ref=oa(pe,ae,ge),Je.return=pe,pe=Je)}return O(pe);case F:e:{for(Ct=ge.key;ae!==null;){if(ae.key===Ct)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){m(pe,ae.sibling),ae=E(ae,ge.children||[]),ae.return=pe,pe=ae;break e}else{m(pe,ae);break}else u(pe,ae);ae=ae.sibling}ae=uv(ge,pe.mode,Je),ae.return=pe,pe=ae}return O(pe);case ve:return Ct=ge._init,ni(pe,ae,Ct(ge._payload),Je)}if(St(ge))return ft(pe,ae,ge,Je);if(Y(ge))return gt(pe,ae,ge,Je);Mo(pe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ae!==null&&ae.tag===6?(m(pe,ae.sibling),ae=E(ae,ge),ae.return=pe,pe=ae):(m(pe,ae),ae=lv(ge,pe.mode,Je),ae.return=pe,pe=ae),O(pe)):m(pe,ae)}return ni}var So=df(!0),aa=df(!1),wo={},br=Fn(wo),Pr=Fn(wo),Co=Fn(wo);function Qi(o){if(o===wo)throw Error(t(174));return o}function al(o,u){switch(mn(Co,u),mn(Pr,o),mn(br,wo),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:je(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=je(u,o)}_n(br),mn(br,u)}function ps(){_n(br),_n(Pr),_n(Co)}function pf(o){Qi(Co.current);var u=Qi(br.current),m=je(u,o.type);u!==m&&(mn(Pr,o),mn(br,m))}function ll(o){Pr.current===o&&(_n(br),_n(Pr))}var Mn=Fn(0);function fi(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ms=[];function qi(){for(var o=0;o<ms.length;o++)ms[o]._workInProgressVersionPrimary=null;ms.length=0}var la=B.ReactCurrentDispatcher,Ti=B.ReactCurrentBatchConfig,Eo=0,Cn=null,Gn=null,hi=null,qr=!1,ul=!1,cl=0,ld=0;function Nn(){throw Error(t(321))}function mf(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!or(o[m],u[m]))return!1;return!0}function gf(o,u,m,A,E,R){if(Eo=R,Cn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,la.current=o===null||o.memoizedState===null?h:x,o=m(A,E),ul){R=0;do{if(ul=!1,cl=0,25<=R)throw Error(t(301));R+=1,hi=Gn=null,u.updateQueue=null,la.current=w,o=m(A,E)}while(ul)}if(la.current=f,u=Gn!==null&&Gn.next!==null,Eo=0,hi=Gn=Cn=null,qr=!1,u)throw Error(t(300));return o}function yu(){var o=cl!==0;return cl=0,o}function ur(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Cn.memoizedState=hi=o:hi=hi.next=o,hi}function Br(){if(Gn===null){var o=Cn.alternate;o=o!==null?o.memoizedState:null}else o=Gn.next;var u=hi===null?Cn.memoizedState:hi.next;if(u!==null)hi=u,Gn=o;else{if(o===null)throw Error(t(310));Gn=o,o={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},hi===null?Cn.memoizedState=hi=o:hi=hi.next=o}return hi}function xu(o,u){return typeof u=="function"?u(o):u}function vf(o){var u=Br(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var A=Gn,E=A.baseQueue,R=m.pending;if(R!==null){if(E!==null){var O=E.next;E.next=R.next,R.next=O}A.baseQueue=E=R,m.pending=null}if(E!==null){R=E.next,A=A.baseState;var K=O=null,ie=null,Se=R;do{var ze=Se.lane;if((Eo&ze)===ze)ie!==null&&(ie=ie.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),A=Se.hasEagerState?Se.eagerState:o(A,Se.action);else{var He={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ie===null?(K=ie=He,O=A):ie=ie.next=He,Cn.lanes|=ze,wu|=ze}Se=Se.next}while(Se!==null&&Se!==R);ie===null?O=A:ie.next=K,or(A,u.memoizedState)||(nt=!0),u.memoizedState=A,u.baseState=O,u.baseQueue=ie,m.lastRenderedState=A}if(o=m.interleaved,o!==null){E=o;do R=E.lane,Cn.lanes|=R,wu|=R,E=E.next;while(E!==o)}else E===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function yf(o){var u=Br(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var A=m.dispatch,E=m.pending,R=u.memoizedState;if(E!==null){m.pending=null;var O=E=E.next;do R=o(R,O.action),O=O.next;while(O!==E);or(R,u.memoizedState)||(nt=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),m.lastRenderedState=R}return[R,A]}function To(){}function cm(o,u){var m=Cn,A=Br(),E=u(),R=!or(A.memoizedState,E);if(R&&(A.memoizedState=E,nt=!0),A=A.queue,Mu(Gi.bind(null,m,A,o),[o]),A.getSnapshot!==u||R||hi!==null&&hi.memoizedState.tag&1){if(m.flags|=2048,Au(9,ud.bind(null,m,A,E,u),void 0,null),bi===null)throw Error(t(349));(Eo&30)!==0||bo(m,u,E)}return E}function bo(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=Cn.updateQueue,u===null?(u={lastEffect:null,stores:null},Cn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function ud(o,u,m,A){u.value=m,u.getSnapshot=A,fm(u)&&cd(o)}function Gi(o,u,m){return m(function(){fm(u)&&cd(o)})}function fm(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!or(o,m)}catch{return!0}}function cd(o){var u=Qr(o,1);u!==null&&Xs(u,o,1,-1)}function hm(o){var u=ur();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:o},u.queue=o,o=o.dispatch=vm.bind(null,Cn,o),[u.memoizedState,o]}function Au(o,u,m,A){return o={tag:o,create:u,destroy:m,deps:A,next:null},u=Cn.updateQueue,u===null?(u={lastEffect:null,stores:null},Cn.updateQueue=u,u.lastEffect=o.next=o):(m=u.lastEffect,m===null?u.lastEffect=o.next=o:(A=m.next,m.next=o,o.next=A,u.lastEffect=o)),o}function fd(){return Br().memoizedState}function _u(o,u,m,A){var E=ur();Cn.flags|=o,E.memoizedState=Au(1|u,m,void 0,A===void 0?null:A)}function xf(o,u,m,A){var E=Br();A=A===void 0?null:A;var R=void 0;if(Gn!==null){var O=Gn.memoizedState;if(R=O.destroy,A!==null&&mf(A,O.deps)){E.memoizedState=Au(u,m,R,A);return}}Cn.flags|=o,E.memoizedState=Au(1|u,m,R,A)}function cr(o,u){return _u(8390656,8,o,u)}function Mu(o,u){return xf(2048,8,o,u)}function dm(o,u){return xf(4,2,o,u)}function Ws(o,u){return xf(4,4,o,u)}function Su(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Po(o,u,m){return m=m!=null?m.concat([o]):null,xf(4,4,Su.bind(null,u,o),m)}function fl(){}function Af(o,u){var m=Br();u=u===void 0?null:u;var A=m.memoizedState;return A!==null&&u!==null&&mf(u,A[1])?A[0]:(m.memoizedState=[o,u],o)}function _f(o,u){var m=Br();u=u===void 0?null:u;var A=m.memoizedState;return A!==null&&u!==null&&mf(u,A[1])?A[0]:(o=o(),m.memoizedState=[o,u],o)}function pm(o,u,m){return(Eo&21)===0?(o.baseState&&(o.baseState=!1,nt=!0),o.memoizedState=m):(or(m,u)||(m=yr(),Cn.lanes|=m,wu|=m,o.baseState=!0),u)}function mm(o,u){var m=sn;sn=m!==0&&4>m?m:4,o(!0);var A=Ti.transition;Ti.transition={};try{o(!1),u()}finally{sn=m,Ti.transition=A}}function hd(){return Br().memoizedState}function gm(o,u,m){var A=ml(o);if(m={lane:A,action:m,hasEagerState:!1,eagerState:null,next:null},Mf(o))ym(u,m);else if(m=hf(o,u,m,A),m!==null){var E=hr();Xs(m,o,A,E),xm(m,u,A)}}function vm(o,u,m){var A=ml(o),E={lane:A,action:m,hasEagerState:!1,eagerState:null,next:null};if(Mf(o))ym(u,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var O=u.lastRenderedState,K=R(O,m);if(E.hasEagerState=!0,E.eagerState=K,or(K,O)){var ie=u.interleaved;ie===null?(E.next=E,gu(u)):(E.next=ie.next,ie.next=E),u.interleaved=E;return}}catch{}finally{}m=hf(o,u,E,A),m!==null&&(E=hr(),Xs(m,o,A,E),xm(m,u,A))}}function Mf(o){var u=o.alternate;return o===Cn||u!==null&&u===Cn}function ym(o,u){ul=qr=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function xm(o,u,m){if((m&4194240)!==0){var A=u.lanes;A&=o.pendingLanes,m|=A,u.lanes=m,Na(o,m)}}var f={readContext:ki,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},h={readContext:ki,useCallback:function(o,u){return ur().memoizedState=[o,u===void 0?null:u],o},useContext:ki,useEffect:cr,useImperativeHandle:function(o,u,m){return m=m!=null?m.concat([o]):null,_u(4194308,4,Su.bind(null,u,o),m)},useLayoutEffect:function(o,u){return _u(4194308,4,o,u)},useInsertionEffect:function(o,u){return _u(4,2,o,u)},useMemo:function(o,u){var m=ur();return u=u===void 0?null:u,o=o(),m.memoizedState=[o,u],o},useReducer:function(o,u,m){var A=ur();return u=m!==void 0?m(u):u,A.memoizedState=A.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},A.queue=o,o=o.dispatch=gm.bind(null,Cn,o),[A.memoizedState,o]},useRef:function(o){var u=ur();return o={current:o},u.memoizedState=o},useState:hm,useDebugValue:fl,useDeferredValue:function(o){return ur().memoizedState=o},useTransition:function(){var o=hm(!1),u=o[0];return o=mm.bind(null,o[1]),ur().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,m){var A=Cn,E=ur();if(wn){if(m===void 0)throw Error(t(407));m=m()}else{if(m=u(),bi===null)throw Error(t(349));(Eo&30)!==0||bo(A,u,m)}E.memoizedState=m;var R={value:m,getSnapshot:u};return E.queue=R,cr(Gi.bind(null,A,R,o),[o]),A.flags|=2048,Au(9,ud.bind(null,A,R,m,u),void 0,null),m},useId:function(){var o=ur(),u=bi.identifierPrefix;if(wn){var m=Cr,A=Ye;m=(A&~(1<<32-xn(A)-1)).toString(32)+m,u=":"+u+"R"+m,m=cl++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=ld++,u=":"+u+"r"+m.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},x={readContext:ki,useCallback:Af,useContext:ki,useEffect:Mu,useImperativeHandle:Po,useInsertionEffect:dm,useLayoutEffect:Ws,useMemo:_f,useReducer:vf,useRef:fd,useState:function(){return vf(xu)},useDebugValue:fl,useDeferredValue:function(o){var u=Br();return pm(u,Gn.memoizedState,o)},useTransition:function(){var o=vf(xu)[0],u=Br().memoizedState;return[o,u]},useMutableSource:To,useSyncExternalStore:cm,useId:hd,unstable_isNewReconciler:!1},w={readContext:ki,useCallback:Af,useContext:ki,useEffect:Mu,useImperativeHandle:Po,useInsertionEffect:dm,useLayoutEffect:Ws,useMemo:_f,useReducer:yf,useRef:fd,useState:function(){return yf(xu)},useDebugValue:fl,useDeferredValue:function(o){var u=Br();return Gn===null?u.memoizedState=o:pm(u,Gn.memoizedState,o)},useTransition:function(){var o=yf(xu)[0],u=Br().memoizedState;return[o,u]},useMutableSource:To,useSyncExternalStore:cm,useId:hd,unstable_isNewReconciler:!1};function P(o,u){try{var m="",A=u;do m+=Pe(A),A=A.return;while(A);var E=m}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:u,stack:E,digest:null}}function L(o,u,m){return{value:o,source:null,stack:m??null,digest:u??null}}function j(o,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var ue=typeof WeakMap=="function"?WeakMap:Map;function Ee(o,u,m){m=Tr(-1,m),m.tag=3,m.payload={element:null};var A=u.value;return m.callback=function(){Tm||(Tm=!0,ev=A),j(o,u)},m}function We(o,u,m){m=Tr(-1,m),m.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var E=u.value;m.payload=function(){return A(E)},m.callback=function(){j(o,u)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(m.callback=function(){j(o,u),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),m}function at(o,u,m){var A=o.pingCache;if(A===null){A=o.pingCache=new ue;var E=new Set;A.set(u,E)}else E=A.get(u),E===void 0&&(E=new Set,A.set(u,E));E.has(m)||(E.add(m),o=sb.bind(null,o,u,m),u.then(o,o))}function Dt(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function wt(o,u,m,A,E){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Tr(-1,1),u.tag=2,ds(m,u,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var gn=B.ReactCurrentOwner,nt=!1;function cn(o,u,m,A){u.child=o===null?aa(u,null,m,A):So(u,o.child,m,A)}function fr(o,u,m,A,E){m=m.render;var R=u.ref;return Gs(u,E),A=gf(o,u,m,A,R,E),m=yu(),o!==null&&!nt?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~E,ua(o,u,E)):(wn&&m&&rd(u),u.flags|=1,cn(o,u,A,E),u.child)}function xe(o,u,m,A,E){if(o===null){var R=m.type;return typeof R=="function"&&!av(R)&&R.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=R,fe(o,u,R,A,E)):(o=Im(m.type,null,A,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,(o.lanes&E)===0){var O=R.memoizedProps;if(m=m.compare,m=m!==null?m:Ko,m(O,A)&&o.ref===u.ref)return ua(o,u,E)}return u.flags|=1,o=vl(R,A),o.ref=u.ref,o.return=u,u.child=o}function fe(o,u,m,A,E){if(o!==null){var R=o.memoizedProps;if(Ko(R,A)&&o.ref===u.ref)if(nt=!1,u.pendingProps=A=R,(o.lanes&E)!==0)(o.flags&131072)!==0&&(nt=!0);else return u.lanes=o.lanes,ua(o,u,E)}return mt(o,u,m,A,E)}function we(o,u,m){var A=u.pendingProps,E=A.children,R=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(wf,Zr),Zr|=m;else{if((m&1073741824)===0)return o=R!==null?R.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,mn(wf,Zr),Zr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=R!==null?R.baseLanes:m,mn(wf,Zr),Zr|=A}else R!==null?(A=R.baseLanes|m,u.memoizedState=null):A=m,mn(wf,Zr),Zr|=A;return cn(o,u,E,m),u.child}function $e(o,u){var m=u.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function mt(o,u,m,A,E){var R=Ei(m)?ks:Ai.current;return R=ea(u,R),Gs(u,E),m=gf(o,u,m,A,R,E),A=yu(),o!==null&&!nt?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~E,ua(o,u,E)):(wn&&A&&rd(u),u.flags|=1,cn(o,u,m,E),u.child)}function kt(o,u,m,A,E){if(Ei(m)){var R=!0;ta(u)}else R=!1;if(Gs(u,E),u.stateNode===null)Mm(o,u),sl(u,m,A),ol(u,m,A,E),A=!0;else if(o===null){var O=u.stateNode,K=u.memoizedProps;O.props=K;var ie=O.context,Se=m.contextType;typeof Se=="object"&&Se!==null?Se=ki(Se):(Se=Ei(m)?ks:Ai.current,Se=ea(u,Se));var ze=m.getDerivedStateFromProps,He=typeof ze=="function"||typeof O.getSnapshotBeforeUpdate=="function";He||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==A||ie!==Se)&&sa(u,O,A,Se),Hs=!1;var Ue=u.memoizedState;O.state=Ue,Ln(u,A,O,E),ie=u.memoizedState,K!==A||Ue!==ie||Fi.current||Hs?(typeof ze=="function"&&(Ui(u,m,ze,A),ie=u.memoizedState),(K=Hs||Kn(u,m,K,A,Ue,ie,Se))?(He||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=A,u.memoizedState=ie),O.props=A,O.state=ie,O.context=Se,A=K):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),A=!1)}else{O=u.stateNode,um(o,u),K=u.memoizedProps,Se=u.type===u.elementType?K:Kr(u.type,K),O.props=Se,He=u.pendingProps,Ue=O.context,ie=m.contextType,typeof ie=="object"&&ie!==null?ie=ki(ie):(ie=Ei(m)?ks:Ai.current,ie=ea(u,ie));var st=m.getDerivedStateFromProps;(ze=typeof st=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==He||Ue!==ie)&&sa(u,O,A,ie),Hs=!1,Ue=u.memoizedState,O.state=Ue,Ln(u,A,O,E);var ft=u.memoizedState;K!==He||Ue!==ft||Fi.current||Hs?(typeof st=="function"&&(Ui(u,m,st,A),ft=u.memoizedState),(Se=Hs||Kn(u,m,Se,A,Ue,ft,ie)||!1)?(ze||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(A,ft,ie),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(A,ft,ie)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=1024),u.memoizedProps=A,u.memoizedState=ft),O.props=A,O.state=ft,O.context=ie,A=Se):(typeof O.componentDidUpdate!="function"||K===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=1024),A=!1)}return Lt(o,u,m,A,R,E)}function Lt(o,u,m,A,E,R){$e(o,u);var O=(u.flags&128)!==0;if(!A&&!O)return E&&nd(u,m,!1),ua(o,u,R);A=u.stateNode,gn.current=u;var K=O&&typeof m.getDerivedStateFromError!="function"?null:A.render();return u.flags|=1,o!==null&&O?(u.child=So(u,o.child,null,R),u.child=So(u,null,K,R)):cn(o,u,K,R),u.memoizedState=A.state,E&&nd(u,m,!0),u.child}function en(o){var u=o.stateNode;u.pendingContext?td(o,u.pendingContext,u.pendingContext!==u.context):u.context&&td(o,u.context,!1),al(o,u.containerInfo)}function ti(o,u,m,A,E){return _o(),tl(E),u.flags|=256,cn(o,u,m,A),u.child}var $t={dehydrated:null,treeContext:null,retryLane:0};function gs(o){return{baseLanes:o,cachePool:null,transitions:null}}function Am(o,u,m){var A=u.pendingProps,E=Mn.current,R=!1,O=(u.flags&128)!==0,K;if((K=O)||(K=o!==null&&o.memoizedState===null?!1:(E&2)!==0),K?(R=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),mn(Mn,E&1),o===null)return uf(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(O=A.children,o=A.fallback,R?(A=u.mode,R=u.child,O={mode:"hidden",children:O},(A&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=O):R=Dm(O,A,0,null),o=bu(o,A,m,null),R.return=u,o.return=u,R.sibling=o,u.child=R,u.child.memoizedState=gs(m),u.memoizedState=$t,o):W0(u,O));if(E=o.memoizedState,E!==null&&(K=E.dehydrated,K!==null))return X2(o,u,O,A,K,E,m);if(R){R=A.fallback,O=u.mode,E=o.child,K=E.sibling;var ie={mode:"hidden",children:A.children};return(O&1)===0&&u.child!==E?(A=u.child,A.childLanes=0,A.pendingProps=ie,u.deletions=null):(A=vl(E,ie),A.subtreeFlags=E.subtreeFlags&14680064),K!==null?R=vl(K,R):(R=bu(R,O,m,null),R.flags|=2),R.return=u,A.return=u,A.sibling=R,u.child=A,A=R,R=u.child,O=o.child.memoizedState,O=O===null?gs(m):{baseLanes:O.baseLanes|m,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=o.childLanes&~m,u.memoizedState=$t,A}return R=o.child,o=R.sibling,A=vl(R,{mode:"visible",children:A.children}),(u.mode&1)===0&&(A.lanes=m),A.return=u,A.sibling=null,o!==null&&(m=u.deletions,m===null?(u.deletions=[o],u.flags|=16):m.push(o)),u.child=A,u.memoizedState=null,A}function W0(o,u){return u=Dm({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function _m(o,u,m,A){return A!==null&&tl(A),So(u,o.child,null,m),o=W0(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function X2(o,u,m,A,E,R,O){if(m)return u.flags&256?(u.flags&=-257,A=L(Error(t(422))),_m(o,u,O,A)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(R=A.fallback,E=u.mode,A=Dm({mode:"visible",children:A.children},E,0,null),R=bu(R,E,O,null),R.flags|=2,A.return=u,R.return=u,A.sibling=R,u.child=A,(u.mode&1)!==0&&So(u,o.child,null,O),u.child.memoizedState=gs(O),u.memoizedState=$t,R);if((u.mode&1)===0)return _m(o,u,O,null);if(E.data==="$!"){if(A=E.nextSibling&&E.nextSibling.dataset,A)var K=A.dgst;return A=K,R=Error(t(419)),A=L(R,A,void 0),_m(o,u,O,A)}if(K=(O&o.childLanes)!==0,nt||K){if(A=bi,A!==null){switch(O&-O){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(A.suspendedLanes|O))!==0?0:E,E!==0&&E!==R.retryLane&&(R.retryLane=E,Qr(o,E),Xs(A,o,E,-1))}return ov(),A=L(Error(t(421))),_m(o,u,O,A)}return E.data==="$?"?(u.flags|=128,u.child=o.child,u=ob.bind(null,o),E._reactRetry=u,null):(o=R.treeContext,Oi=Fs(E.nextSibling),_i=u,wn=!0,Er=null,o!==null&&(Ni[ui++]=Ye,Ni[ui++]=Cr,Ni[ui++]=ia,Ye=o.id,Cr=o.overflow,ia=u),u=W0(u,A.children),u.flags|=4096,u)}function v_(o,u,m){o.lanes|=u;var A=o.alternate;A!==null&&(A.lanes|=u),rl(o.return,u,m)}function j0(o,u,m,A,E){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:A,tail:m,tailMode:E}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=A,R.tail=m,R.tailMode=E)}function y_(o,u,m){var A=u.pendingProps,E=A.revealOrder,R=A.tail;if(cn(o,u,A.children,m),A=Mn.current,(A&2)!==0)A=A&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v_(o,m,u);else if(o.tag===19)v_(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(mn(Mn,A),(u.mode&1)===0)u.memoizedState=null;else switch(E){case"forwards":for(m=u.child,E=null;m!==null;)o=m.alternate,o!==null&&fi(o)===null&&(E=m),m=m.sibling;m=E,m===null?(E=u.child,u.child=null):(E=m.sibling,m.sibling=null),j0(u,!1,E,m,R);break;case"backwards":for(m=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&fi(o)===null){u.child=E;break}o=E.sibling,E.sibling=m,m=E,E=o}j0(u,!0,m,null,R);break;case"together":j0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Mm(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function ua(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),wu|=u.lanes,(m&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(t(153));if(u.child!==null){for(o=u.child,m=vl(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=vl(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function K2(o,u,m){switch(u.tag){case 3:en(u),_o();break;case 5:pf(u);break;case 1:Ei(u.type)&&ta(u);break;case 4:al(u,u.stateNode.containerInfo);break;case 10:var A=u.type._context,E=u.memoizedProps.value;mn(pu,A._currentValue),A._currentValue=E;break;case 13:if(A=u.memoizedState,A!==null)return A.dehydrated!==null?(mn(Mn,Mn.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?Am(o,u,m):(mn(Mn,Mn.current&1),o=ua(o,u,m),o!==null?o.sibling:null);mn(Mn,Mn.current&1);break;case 19:if(A=(m&u.childLanes)!==0,(o.flags&128)!==0){if(A)return y_(o,u,m);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),mn(Mn,Mn.current),A)break;return null;case 22:case 23:return u.lanes=0,we(o,u,m)}return ua(o,u,m)}var x_,J0,A_,__;x_=function(o,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},J0=function(){},A_=function(o,u,m,A){var E=o.memoizedProps;if(E!==A){o=u.stateNode,Qi(br.current);var R=null;switch(m){case"input":E=Ie(o,E),A=Ie(o,A),R=[];break;case"select":E=N({},E,{value:void 0}),A=N({},A,{value:void 0}),R=[];break;case"textarea":E=J(o,E),A=J(o,A),R=[];break;default:typeof E.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=uu)}ne(m,A);var O;m=null;for(Se in E)if(!A.hasOwnProperty(Se)&&E.hasOwnProperty(Se)&&E[Se]!=null)if(Se==="style"){var K=E[Se];for(O in K)K.hasOwnProperty(O)&&(m||(m={}),m[O]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(r.hasOwnProperty(Se)?R||(R=[]):(R=R||[]).push(Se,null));for(Se in A){var ie=A[Se];if(K=E?.[Se],A.hasOwnProperty(Se)&&ie!==K&&(ie!=null||K!=null))if(Se==="style")if(K){for(O in K)!K.hasOwnProperty(O)||ie&&ie.hasOwnProperty(O)||(m||(m={}),m[O]="");for(O in ie)ie.hasOwnProperty(O)&&K[O]!==ie[O]&&(m||(m={}),m[O]=ie[O])}else m||(R||(R=[]),R.push(Se,m)),m=ie;else Se==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,K=K?K.__html:void 0,ie!=null&&K!==ie&&(R=R||[]).push(Se,ie)):Se==="children"?typeof ie!="string"&&typeof ie!="number"||(R=R||[]).push(Se,""+ie):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(r.hasOwnProperty(Se)?(ie!=null&&Se==="onScroll"&&An("scroll",o),R||K===ie||(R=[])):(R=R||[]).push(Se,ie))}m&&(R=R||[]).push("style",m);var Se=R;(u.updateQueue=Se)&&(u.flags|=4)}},__=function(o,u,m,A){m!==A&&(u.flags|=4)};function dd(o,u){if(!wn)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var A=null;m!==null;)m.alternate!==null&&(A=m),m=m.sibling;A===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function Zi(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,A=0;if(u)for(var E=o.child;E!==null;)m|=E.lanes|E.childLanes,A|=E.subtreeFlags&14680064,A|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)m|=E.lanes|E.childLanes,A|=E.subtreeFlags,A|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=A,o.childLanes=m,u}function Y2(o,u,m){var A=u.pendingProps;switch(zs(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zi(u),null;case 1:return Ei(u.type)&&cu(),Zi(u),null;case 3:return A=u.stateNode,ps(),_n(Fi),_n(Ai),qi(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(el(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Er!==null&&(iv(Er),Er=null))),J0(o,u),Zi(u),null;case 5:ll(u);var E=Qi(Co.current);if(m=u.type,o!==null&&u.stateNode!=null)A_(o,u,m,A,E),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!A){if(u.stateNode===null)throw Error(t(166));return Zi(u),null}if(o=Qi(br.current),el(u)){A=u.stateNode,m=u.type;var R=u.memoizedProps;switch(A[ei]=u,A[$a]=R,o=(u.mode&1)!==0,m){case"dialog":An("cancel",A),An("close",A);break;case"iframe":case"object":case"embed":An("load",A);break;case"video":case"audio":for(E=0;E<xo.length;E++)An(xo[E],A);break;case"source":An("error",A);break;case"img":case"image":case"link":An("error",A),An("load",A);break;case"details":An("toggle",A);break;case"input":Ze(A,R),An("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!R.multiple},An("invalid",A);break;case"textarea":H(A,R),An("invalid",A)}ne(m,R),E=null;for(var O in R)if(R.hasOwnProperty(O)){var K=R[O];O==="children"?typeof K=="string"?A.textContent!==K&&(R.suppressHydrationWarning!==!0&&lu(A.textContent,K,o),E=["children",K]):typeof K=="number"&&A.textContent!==""+K&&(R.suppressHydrationWarning!==!0&&lu(A.textContent,K,o),E=["children",""+K]):r.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&An("scroll",A)}switch(m){case"input":Oe(A),yt(A,R,!0);break;case"textarea":Oe(A),ke(A);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(A.onclick=uu)}A=E,u.updateQueue=A,A!==null&&(u.flags|=4)}else{O=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ge(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=O.createElement(m,{is:A.is}):(o=O.createElement(m),m==="select"&&(O=o,A.multiple?O.multiple=!0:A.size&&(O.size=A.size))):o=O.createElementNS(o,m),o[ei]=u,o[$a]=A,x_(o,u,!1,!1),u.stateNode=o;e:{switch(O=De(m,A),m){case"dialog":An("cancel",o),An("close",o),E=A;break;case"iframe":case"object":case"embed":An("load",o),E=A;break;case"video":case"audio":for(E=0;E<xo.length;E++)An(xo[E],o);E=A;break;case"source":An("error",o),E=A;break;case"img":case"image":case"link":An("error",o),An("load",o),E=A;break;case"details":An("toggle",o),E=A;break;case"input":Ze(o,A),E=Ie(o,A),An("invalid",o);break;case"option":E=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},E=N({},A,{value:void 0}),An("invalid",o);break;case"textarea":H(o,A),E=J(o,A),An("invalid",o);break;default:E=A}ne(m,E),K=E;for(R in K)if(K.hasOwnProperty(R)){var ie=K[R];R==="style"?rt(o,ie):R==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&it(o,ie)):R==="children"?typeof ie=="string"?(m!=="textarea"||ie!=="")&&Te(o,ie):typeof ie=="number"&&Te(o,""+ie):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(r.hasOwnProperty(R)?ie!=null&&R==="onScroll"&&An("scroll",o):ie!=null&&b(o,R,ie,O))}switch(m){case"input":Oe(o),yt(o,A,!1);break;case"textarea":Oe(o),ke(o);break;case"option":A.value!=null&&o.setAttribute("value",""+Ve(A.value));break;case"select":o.multiple=!!A.multiple,R=A.value,R!=null?Ft(o,!!A.multiple,R,!1):A.defaultValue!=null&&Ft(o,!!A.multiple,A.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=uu)}switch(m){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zi(u),null;case 6:if(o&&u.stateNode!=null)__(o,u,o.memoizedProps,A);else{if(typeof A!="string"&&u.stateNode===null)throw Error(t(166));if(m=Qi(Co.current),Qi(br.current),el(u)){if(A=u.stateNode,m=u.memoizedProps,A[ei]=u,(R=A.nodeValue!==m)&&(o=_i,o!==null))switch(o.tag){case 3:lu(A.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&lu(A.nodeValue,m,(o.mode&1)!==0)}R&&(u.flags|=4)}else A=(m.nodeType===9?m:m.ownerDocument).createTextNode(A),A[ei]=u,u.stateNode=A}return Zi(u),null;case 13:if(_n(Mn),A=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(wn&&Oi!==null&&(u.mode&1)!==0&&(u.flags&128)===0)ad(),_o(),u.flags|=98560,R=!1;else if(R=el(u),A!==null&&A.dehydrated!==null){if(o===null){if(!R)throw Error(t(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[ei]=u}else _o(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zi(u),R=!1}else Er!==null&&(iv(Er),Er=null),R=!0;if(!R)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Mn.current&1)!==0?Mi===0&&(Mi=3):ov())),u.updateQueue!==null&&(u.flags|=4),Zi(u),null);case 4:return ps(),J0(o,u),o===null&&Qa(u.stateNode.containerInfo),Zi(u),null;case 10:return il(u.type._context),Zi(u),null;case 17:return Ei(u.type)&&cu(),Zi(u),null;case 19:if(_n(Mn),R=u.memoizedState,R===null)return Zi(u),null;if(A=(u.flags&128)!==0,O=R.rendering,O===null)if(A)dd(R,!1);else{if(Mi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(O=fi(o),O!==null){for(u.flags|=128,dd(R,!1),A=O.updateQueue,A!==null&&(u.updateQueue=A,u.flags|=4),u.subtreeFlags=0,A=m,m=u.child;m!==null;)R=m,o=A,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,o=O.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return mn(Mn,Mn.current&1|2),u.child}o=o.sibling}R.tail!==null&&ln()>Cf&&(u.flags|=128,A=!0,dd(R,!1),u.lanes=4194304)}else{if(!A)if(o=fi(O),o!==null){if(u.flags|=128,A=!0,m=o.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),dd(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!wn)return Zi(u),null}else 2*ln()-R.renderingStartTime>Cf&&m!==1073741824&&(u.flags|=128,A=!0,dd(R,!1),u.lanes=4194304);R.isBackwards?(O.sibling=u.child,u.child=O):(m=R.last,m!==null?m.sibling=O:u.child=O,R.last=O)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=ln(),u.sibling=null,m=Mn.current,mn(Mn,A?m&1|2:m&1),u):(Zi(u),null);case 22:case 23:return sv(),A=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(u.flags|=8192),A&&(u.mode&1)!==0?(Zr&1073741824)!==0&&(Zi(u),u.subtreeFlags&6&&(u.flags|=8192)):Zi(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function Q2(o,u){switch(zs(u),u.tag){case 1:return Ei(u.type)&&cu(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ps(),_n(Fi),_n(Ai),qi(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return ll(u),null;case 13:if(_n(Mn),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(t(340));_o()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return _n(Mn),null;case 4:return ps(),null;case 10:return il(u.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var Sm=!1,$i=!1,q2=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Sf(o,u){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(A){Yn(o,u,A)}else m.current=null}function X0(o,u,m){try{m()}catch(A){Yn(o,u,A)}}var M_=!1;function Z2(o,u){if(Za=xr,o=Rn(),si(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var A=m.getSelection&&m.getSelection();if(A&&A.rangeCount!==0){m=A.anchorNode;var E=A.anchorOffset,R=A.focusNode;A=A.focusOffset;try{m.nodeType,R.nodeType}catch{m=null;break e}var O=0,K=-1,ie=-1,Se=0,ze=0,He=o,Ue=null;t:for(;;){for(var st;He!==m||E!==0&&He.nodeType!==3||(K=O+E),He!==R||A!==0&&He.nodeType!==3||(ie=O+A),He.nodeType===3&&(O+=He.nodeValue.length),(st=He.firstChild)!==null;)Ue=He,He=st;for(;;){if(He===o)break t;if(Ue===m&&++Se===E&&(K=O),Ue===R&&++ze===A&&(ie=O),(st=He.nextSibling)!==null)break;He=Ue,Ue=He.parentNode}He=st}m=K===-1||ie===-1?null:{start:K,end:ie}}else m=null}m=m||{start:0,end:0}}else m=null;for(Yh={focusedElem:o,selectionRange:m},xr=!1,ut=u;ut!==null;)if(u=ut,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ut=o;else for(;ut!==null;){u=ut;try{var ft=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var gt=ft.memoizedProps,ni=ft.memoizedState,pe=u.stateNode,ae=pe.getSnapshotBeforeUpdate(u.elementType===u.type?gt:Kr(u.type,gt),ni);pe.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ge=u.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Je){Yn(u,u.return,Je)}if(o=u.sibling,o!==null){o.return=u.return,ut=o;break}ut=u.return}return ft=M_,M_=!1,ft}function pd(o,u,m){var A=u.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var E=A=A.next;do{if((E.tag&o)===o){var R=E.destroy;E.destroy=void 0,R!==void 0&&X0(u,m,R)}E=E.next}while(E!==A)}}function wm(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&o)===o){var A=m.create;m.destroy=A()}m=m.next}while(m!==u)}}function K0(o){var u=o.ref;if(u!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof u=="function"?u(o):u.current=o}}function S_(o){var u=o.alternate;u!==null&&(o.alternate=null,S_(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[ei],delete u[$a],delete u[$o],delete u[tf],delete u[nf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function w_(o){return o.tag===5||o.tag===3||o.tag===4}function C_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||w_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Y0(o,u,m){var A=o.tag;if(A===5||A===6)o=o.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(o,u):m.insertBefore(o,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(o,m)):(u=m,u.appendChild(o)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=uu));else if(A!==4&&(o=o.child,o!==null))for(Y0(o,u,m),o=o.sibling;o!==null;)Y0(o,u,m),o=o.sibling}function Q0(o,u,m){var A=o.tag;if(A===5||A===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(Q0(o,u,m),o=o.sibling;o!==null;)Q0(o,u,m),o=o.sibling}var Hi=null,js=!1;function hl(o,u,m){for(m=m.child;m!==null;)E_(o,u,m),m=m.sibling}function E_(o,u,m){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(yi,m)}catch{}switch(m.tag){case 5:$i||Sf(m,u);case 6:var A=Hi,E=js;Hi=null,hl(o,u,m),Hi=A,js=E,Hi!==null&&(js?(o=Hi,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Hi.removeChild(m.stateNode));break;case 18:Hi!==null&&(js?(o=Hi,m=m.stateNode,o.nodeType===8?ef(o.parentNode,m):o.nodeType===1&&ef(o,m),ql(o)):ef(Hi,m.stateNode));break;case 4:A=Hi,E=js,Hi=m.stateNode.containerInfo,js=!0,hl(o,u,m),Hi=A,js=E;break;case 0:case 11:case 14:case 15:if(!$i&&(A=m.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){E=A=A.next;do{var R=E,O=R.destroy;R=R.tag,O!==void 0&&((R&2)!==0||(R&4)!==0)&&X0(m,u,O),E=E.next}while(E!==A)}hl(o,u,m);break;case 1:if(!$i&&(Sf(m,u),A=m.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=m.memoizedProps,A.state=m.memoizedState,A.componentWillUnmount()}catch(K){Yn(m,u,K)}hl(o,u,m);break;case 21:hl(o,u,m);break;case 22:m.mode&1?($i=(A=$i)||m.memoizedState!==null,hl(o,u,m),$i=A):hl(o,u,m);break;default:hl(o,u,m)}}function T_(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new q2),u.forEach(function(A){var E=ab.bind(null,o,A);m.has(A)||(m.add(A),A.then(E,E))})}}function Js(o,u){var m=u.deletions;if(m!==null)for(var A=0;A<m.length;A++){var E=m[A];try{var R=o,O=u,K=O;e:for(;K!==null;){switch(K.tag){case 5:Hi=K.stateNode,js=!1;break e;case 3:Hi=K.stateNode.containerInfo,js=!0;break e;case 4:Hi=K.stateNode.containerInfo,js=!0;break e}K=K.return}if(Hi===null)throw Error(t(160));E_(R,O,E),Hi=null,js=!1;var ie=E.alternate;ie!==null&&(ie.return=null),E.return=null}catch(Se){Yn(E,u,Se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)b_(u,o),u=u.sibling}function b_(o,u){var m=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Js(u,o),Bo(o),A&4){try{pd(3,o,o.return),wm(3,o)}catch(gt){Yn(o,o.return,gt)}try{pd(5,o,o.return)}catch(gt){Yn(o,o.return,gt)}}break;case 1:Js(u,o),Bo(o),A&512&&m!==null&&Sf(m,m.return);break;case 5:if(Js(u,o),Bo(o),A&512&&m!==null&&Sf(m,m.return),o.flags&32){var E=o.stateNode;try{Te(E,"")}catch(gt){Yn(o,o.return,gt)}}if(A&4&&(E=o.stateNode,E!=null)){var R=o.memoizedProps,O=m!==null?m.memoizedProps:R,K=o.type,ie=o.updateQueue;if(o.updateQueue=null,ie!==null)try{K==="input"&&R.type==="radio"&&R.name!=null&&Ke(E,R),De(K,O);var Se=De(K,R);for(O=0;O<ie.length;O+=2){var ze=ie[O],He=ie[O+1];ze==="style"?rt(E,He):ze==="dangerouslySetInnerHTML"?it(E,He):ze==="children"?Te(E,He):b(E,ze,He,Se)}switch(K){case"input":lt(E,R);break;case"textarea":_e(E,R);break;case"select":var Ue=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!R.multiple;var st=R.value;st!=null?Ft(E,!!R.multiple,st,!1):Ue!==!!R.multiple&&(R.defaultValue!=null?Ft(E,!!R.multiple,R.defaultValue,!0):Ft(E,!!R.multiple,R.multiple?[]:"",!1))}E[$a]=R}catch(gt){Yn(o,o.return,gt)}}break;case 6:if(Js(u,o),Bo(o),A&4){if(o.stateNode===null)throw Error(t(162));E=o.stateNode,R=o.memoizedProps;try{E.nodeValue=R}catch(gt){Yn(o,o.return,gt)}}break;case 3:if(Js(u,o),Bo(o),A&4&&m!==null&&m.memoizedState.isDehydrated)try{ql(u.containerInfo)}catch(gt){Yn(o,o.return,gt)}break;case 4:Js(u,o),Bo(o);break;case 13:Js(u,o),Bo(o),E=o.child,E.flags&8192&&(R=E.memoizedState!==null,E.stateNode.isHidden=R,!R||E.alternate!==null&&E.alternate.memoizedState!==null||($0=ln())),A&4&&T_(o);break;case 22:if(ze=m!==null&&m.memoizedState!==null,o.mode&1?($i=(Se=$i)||ze,Js(u,o),$i=Se):Js(u,o),Bo(o),A&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!ze&&(o.mode&1)!==0)for(ut=o,ze=o.child;ze!==null;){for(He=ut=ze;ut!==null;){switch(Ue=ut,st=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:pd(4,Ue,Ue.return);break;case 1:Sf(Ue,Ue.return);var ft=Ue.stateNode;if(typeof ft.componentWillUnmount=="function"){A=Ue,m=Ue.return;try{u=A,ft.props=u.memoizedProps,ft.state=u.memoizedState,ft.componentWillUnmount()}catch(gt){Yn(A,m,gt)}}break;case 5:Sf(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){R_(He);continue}}st!==null?(st.return=Ue,ut=st):R_(He)}ze=ze.sibling}e:for(ze=null,He=o;;){if(He.tag===5){if(ze===null){ze=He;try{E=He.stateNode,Se?(R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(K=He.stateNode,ie=He.memoizedProps.style,O=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,K.style.display=Mt("display",O))}catch(gt){Yn(o,o.return,gt)}}}else if(He.tag===6){if(ze===null)try{He.stateNode.nodeValue=Se?"":He.memoizedProps}catch(gt){Yn(o,o.return,gt)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===o)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===o)break e;for(;He.sibling===null;){if(He.return===null||He.return===o)break e;ze===He&&(ze=null),He=He.return}ze===He&&(ze=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:Js(u,o),Bo(o),A&4&&T_(o);break;case 21:break;default:Js(u,o),Bo(o)}}function Bo(o){var u=o.flags;if(u&2){try{e:{for(var m=o.return;m!==null;){if(w_(m)){var A=m;break e}m=m.return}throw Error(t(160))}switch(A.tag){case 5:var E=A.stateNode;A.flags&32&&(Te(E,""),A.flags&=-33);var R=C_(o);Q0(o,R,E);break;case 3:case 4:var O=A.stateNode.containerInfo,K=C_(o);Y0(o,K,O);break;default:throw Error(t(161))}}catch(ie){Yn(o,o.return,ie)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function $2(o,u,m){ut=o,P_(o)}function P_(o,u,m){for(var A=(o.mode&1)!==0;ut!==null;){var E=ut,R=E.child;if(E.tag===22&&A){var O=E.memoizedState!==null||Sm;if(!O){var K=E.alternate,ie=K!==null&&K.memoizedState!==null||$i;K=Sm;var Se=$i;if(Sm=O,($i=ie)&&!Se)for(ut=E;ut!==null;)O=ut,ie=O.child,O.tag===22&&O.memoizedState!==null?L_(E):ie!==null?(ie.return=O,ut=ie):L_(E);for(;R!==null;)ut=R,P_(R),R=R.sibling;ut=E,Sm=K,$i=Se}B_(o)}else(E.subtreeFlags&8772)!==0&&R!==null?(R.return=E,ut=R):B_(o)}}function B_(o){for(;ut!==null;){var u=ut;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:$i||wm(5,u);break;case 1:var A=u.stateNode;if(u.flags&4&&!$i)if(m===null)A.componentDidMount();else{var E=u.elementType===u.type?m.memoizedProps:Kr(u.type,m.memoizedProps);A.componentDidUpdate(E,m.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var R=u.updateQueue;R!==null&&zn(u,R,A);break;case 3:var O=u.updateQueue;if(O!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}zn(u,O,m)}break;case 5:var K=u.stateNode;if(m===null&&u.flags&4){m=K;var ie=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&m.focus();break;case"img":ie.src&&(m.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Se=u.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var He=ze.dehydrated;He!==null&&ql(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$i||u.flags&512&&K0(u)}catch(Ue){Yn(u,u.return,Ue)}}if(u===o){ut=null;break}if(m=u.sibling,m!==null){m.return=u.return,ut=m;break}ut=u.return}}function R_(o){for(;ut!==null;){var u=ut;if(u===o){ut=null;break}var m=u.sibling;if(m!==null){m.return=u.return,ut=m;break}ut=u.return}}function L_(o){for(;ut!==null;){var u=ut;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{wm(4,u)}catch(ie){Yn(u,m,ie)}break;case 1:var A=u.stateNode;if(typeof A.componentDidMount=="function"){var E=u.return;try{A.componentDidMount()}catch(ie){Yn(u,E,ie)}}var R=u.return;try{K0(u)}catch(ie){Yn(u,R,ie)}break;case 5:var O=u.return;try{K0(u)}catch(ie){Yn(u,O,ie)}}}catch(ie){Yn(u,u.return,ie)}if(u===o){ut=null;break}var K=u.sibling;if(K!==null){K.return=u.return,ut=K;break}ut=u.return}}var eb=Math.ceil,Cm=B.ReactCurrentDispatcher,q0=B.ReactCurrentOwner,vs=B.ReactCurrentBatchConfig,un=0,bi=null,di=null,Vi=0,Zr=0,wf=Fn(0),Mi=0,md=null,wu=0,Em=0,Z0=0,gd=null,Rr=null,$0=0,Cf=1/0,ca=null,Tm=!1,ev=null,dl=null,bm=!1,pl=null,Pm=0,vd=0,tv=null,Bm=-1,Rm=0;function hr(){return(un&6)!==0?ln():Bm!==-1?Bm:Bm=ln()}function ml(o){return(o.mode&1)===0?1:(un&2)!==0&&Vi!==0?Vi&-Vi:V0.transition!==null?(Rm===0&&(Rm=yr()),Rm):(o=sn,o!==0||(o=window.event,o=o===void 0?16:Kp(o.type)),o)}function Xs(o,u,m,A){if(50<vd)throw vd=0,tv=null,Error(t(185));Xl(o,m,A),((un&2)===0||o!==bi)&&(o===bi&&((un&2)===0&&(Em|=m),Mi===4&&gl(o,Vi)),Lr(o,A),m===1&&un===0&&(u.mode&1)===0&&(Cf=ln()+500,hu&&hs()))}function Lr(o,u){var m=o.callbackNode;Sc(o,u);var A=Jl(o,o===bi?Vi:0);if(A===0)m!==null&&an(m),o.callbackNode=null,o.callbackPriority=0;else if(u=A&-A,o.callbackPriority!==u){if(m!=null&&an(m),u===1)o.tag===0?lm(D_.bind(null,o)):du(D_.bind(null,o)),H0(function(){(un&6)===0&&hs()}),m=null;else{switch(Oa(A)){case 1:m=Ht;break;case 4:m=co;break;case 16:m=Pn;break;case 536870912:m=as;break;default:m=Pn}m=H_(m,I_.bind(null,o))}o.callbackPriority=u,o.callbackNode=m}}function I_(o,u){if(Bm=-1,Rm=0,(un&6)!==0)throw Error(t(327));var m=o.callbackNode;if(Ef()&&o.callbackNode!==m)return null;var A=Jl(o,o===bi?Vi:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||u)u=Lm(o,A);else{u=A;var E=un;un|=2;var R=N_();(bi!==o||Vi!==u)&&(ca=null,Cf=ln()+500,Eu(o,u));do try{ib();break}catch(K){F_(o,K)}while(!0);nl(),Cm.current=R,un=E,di!==null?u=0:(bi=null,Vi=0,u=Mi)}if(u!==0){if(u===2&&(E=wc(o),E!==0&&(A=E,u=nv(o,E))),u===1)throw m=md,Eu(o,0),gl(o,A),Lr(o,ln()),m;if(u===6)gl(o,A);else{if(E=o.current.alternate,(A&30)===0&&!tb(E)&&(u=Lm(o,A),u===2&&(R=wc(o),R!==0&&(A=R,u=nv(o,R))),u===1))throw m=md,Eu(o,0),gl(o,A),Lr(o,ln()),m;switch(o.finishedWork=E,o.finishedLanes=A,u){case 0:case 1:throw Error(t(345));case 2:Tu(o,Rr,ca);break;case 3:if(gl(o,A),(A&130023424)===A&&(u=$0+500-ln(),10<u)){if(Jl(o,0)!==0)break;if(E=o.suspendedLanes,(E&A)!==A){hr(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=qh(Tu.bind(null,o,Rr,ca),u);break}Tu(o,Rr,ca);break;case 4:if(gl(o,A),(A&4194240)===A)break;for(u=o.eventTimes,E=-1;0<A;){var O=31-xn(A);R=1<<O,O=u[O],O>E&&(E=O),A&=~R}if(A=E,A=ln()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*eb(A/1960))-A,10<A){o.timeoutHandle=qh(Tu.bind(null,o,Rr,ca),A);break}Tu(o,Rr,ca);break;case 5:Tu(o,Rr,ca);break;default:throw Error(t(329))}}}return Lr(o,ln()),o.callbackNode===m?I_.bind(null,o):null}function nv(o,u){var m=gd;return o.current.memoizedState.isDehydrated&&(Eu(o,u).flags|=256),o=Lm(o,u),o!==2&&(u=Rr,Rr=m,u!==null&&iv(u)),o}function iv(o){Rr===null?Rr=o:Rr.push.apply(Rr,o)}function tb(o){for(var u=o;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var A=0;A<m.length;A++){var E=m[A],R=E.getSnapshot;E=E.value;try{if(!or(R(),E))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function gl(o,u){for(u&=~Z0,u&=~Em,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var m=31-xn(u),A=1<<m;o[m]=-1,u&=~A}}function D_(o){if((un&6)!==0)throw Error(t(327));Ef();var u=Jl(o,0);if((u&1)===0)return Lr(o,ln()),null;var m=Lm(o,u);if(o.tag!==0&&m===2){var A=wc(o);A!==0&&(u=A,m=nv(o,A))}if(m===1)throw m=md,Eu(o,0),gl(o,u),Lr(o,ln()),m;if(m===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Tu(o,Rr,ca),Lr(o,ln()),null}function rv(o,u){var m=un;un|=1;try{return o(u)}finally{un=m,un===0&&(Cf=ln()+500,hu&&hs())}}function Cu(o){pl!==null&&pl.tag===0&&(un&6)===0&&Ef();var u=un;un|=1;var m=vs.transition,A=sn;try{if(vs.transition=null,sn=1,o)return o()}finally{sn=A,vs.transition=m,un=u,(un&6)===0&&hs()}}function sv(){Zr=wf.current,_n(wf)}function Eu(o,u){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,Zh(m)),di!==null)for(m=di.return;m!==null;){var A=m;switch(zs(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&cu();break;case 3:ps(),_n(Fi),_n(Ai),qi();break;case 5:ll(A);break;case 4:ps();break;case 13:_n(Mn);break;case 19:_n(Mn);break;case 10:il(A.type._context);break;case 22:case 23:sv()}m=m.return}if(bi=o,di=o=vl(o.current,null),Vi=Zr=u,Mi=0,md=null,Z0=Em=wu=0,Rr=gd=null,Yr!==null){for(u=0;u<Yr.length;u++)if(m=Yr[u],A=m.interleaved,A!==null){m.interleaved=null;var E=A.next,R=m.pending;if(R!==null){var O=R.next;R.next=E,A.next=O}m.pending=A}Yr=null}return o}function F_(o,u){do{var m=di;try{if(nl(),la.current=f,qr){for(var A=Cn.memoizedState;A!==null;){var E=A.queue;E!==null&&(E.pending=null),A=A.next}qr=!1}if(Eo=0,hi=Gn=Cn=null,ul=!1,cl=0,q0.current=null,m===null||m.return===null){Mi=1,md=u,di=null;break}e:{var R=o,O=m.return,K=m,ie=u;if(u=Vi,K.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Se=ie,ze=K,He=ze.tag;if((ze.mode&1)===0&&(He===0||He===11||He===15)){var Ue=ze.alternate;Ue?(ze.updateQueue=Ue.updateQueue,ze.memoizedState=Ue.memoizedState,ze.lanes=Ue.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var st=Dt(O);if(st!==null){st.flags&=-257,wt(st,O,K,R,u),st.mode&1&&at(R,Se,u),u=st,ie=Se;var ft=u.updateQueue;if(ft===null){var gt=new Set;gt.add(ie),u.updateQueue=gt}else ft.add(ie);break e}else{if((u&1)===0){at(R,Se,u),ov();break e}ie=Error(t(426))}}else if(wn&&K.mode&1){var ni=Dt(O);if(ni!==null){(ni.flags&65536)===0&&(ni.flags|=256),wt(ni,O,K,R,u),tl(P(ie,K));break e}}R=ie=P(ie,K),Mi!==4&&(Mi=2),gd===null?gd=[R]:gd.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,u&=-u,R.lanes|=u;var pe=Ee(R,ie,u);Vt(R,pe);break e;case 1:K=ie;var ae=R.type,ge=R.stateNode;if((R.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(dl===null||!dl.has(ge)))){R.flags|=65536,u&=-u,R.lanes|=u;var Je=We(R,K,u);Vt(R,Je);break e}}R=R.return}while(R!==null)}k_(m)}catch(xt){u=xt,di===m&&m!==null&&(di=m=m.return);continue}break}while(!0)}function N_(){var o=Cm.current;return Cm.current=f,o===null?f:o}function ov(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),bi===null||(wu&268435455)===0&&(Em&268435455)===0||gl(bi,Vi)}function Lm(o,u){var m=un;un|=2;var A=N_();(bi!==o||Vi!==u)&&(ca=null,Eu(o,u));do try{nb();break}catch(E){F_(o,E)}while(!0);if(nl(),un=m,Cm.current=A,di!==null)throw Error(t(261));return bi=null,Vi=0,Mi}function nb(){for(;di!==null;)O_(di)}function ib(){for(;di!==null&&!vi();)O_(di)}function O_(o){var u=G_(o.alternate,o,Zr);o.memoizedProps=o.pendingProps,u===null?k_(o):di=u,q0.current=null}function k_(o){var u=o;do{var m=u.alternate;if(o=u.return,(u.flags&32768)===0){if(m=Y2(m,u,Zr),m!==null){di=m;return}}else{if(m=Q2(m,u),m!==null){m.flags&=32767,di=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Mi=6,di=null;return}}if(u=u.sibling,u!==null){di=u;return}di=u=o}while(u!==null);Mi===0&&(Mi=5)}function Tu(o,u,m){var A=sn,E=vs.transition;try{vs.transition=null,sn=1,rb(o,u,m,A)}finally{vs.transition=E,sn=A}return null}function rb(o,u,m,A){do Ef();while(pl!==null);if((un&6)!==0)throw Error(t(327));m=o.finishedWork;var E=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var R=m.lanes|m.childLanes;if(k0(o,R),o===bi&&(di=bi=null,Vi=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||bm||(bm=!0,H_(Pn,function(){return Ef(),null})),R=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||R){R=vs.transition,vs.transition=null;var O=sn;sn=1;var K=un;un|=4,q0.current=null,Z2(o,m),b_(m,o),oi(Yh),xr=!!Za,Yh=Za=null,o.current=m,$2(m),rr(),un=K,sn=O,vs.transition=R}else o.current=m;if(bm&&(bm=!1,pl=o,Pm=E),R=o.pendingLanes,R===0&&(dl=null),Ot(m.stateNode),Lr(o,ln()),u!==null)for(A=o.onRecoverableError,m=0;m<u.length;m++)E=u[m],A(E.value,{componentStack:E.stack,digest:E.digest});if(Tm)throw Tm=!1,o=ev,ev=null,o;return(Pm&1)!==0&&o.tag!==0&&Ef(),R=o.pendingLanes,(R&1)!==0?o===tv?vd++:(vd=0,tv=o):vd=0,hs(),null}function Ef(){if(pl!==null){var o=Oa(Pm),u=vs.transition,m=sn;try{if(vs.transition=null,sn=16>o?16:o,pl===null)var A=!1;else{if(o=pl,pl=null,Pm=0,(un&6)!==0)throw Error(t(331));var E=un;for(un|=4,ut=o.current;ut!==null;){var R=ut,O=R.child;if((ut.flags&16)!==0){var K=R.deletions;if(K!==null){for(var ie=0;ie<K.length;ie++){var Se=K[ie];for(ut=Se;ut!==null;){var ze=ut;switch(ze.tag){case 0:case 11:case 15:pd(8,ze,R)}var He=ze.child;if(He!==null)He.return=ze,ut=He;else for(;ut!==null;){ze=ut;var Ue=ze.sibling,st=ze.return;if(S_(ze),ze===Se){ut=null;break}if(Ue!==null){Ue.return=st,ut=Ue;break}ut=st}}}var ft=R.alternate;if(ft!==null){var gt=ft.child;if(gt!==null){ft.child=null;do{var ni=gt.sibling;gt.sibling=null,gt=ni}while(gt!==null)}}ut=R}}if((R.subtreeFlags&2064)!==0&&O!==null)O.return=R,ut=O;else e:for(;ut!==null;){if(R=ut,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:pd(9,R,R.return)}var pe=R.sibling;if(pe!==null){pe.return=R.return,ut=pe;break e}ut=R.return}}var ae=o.current;for(ut=ae;ut!==null;){O=ut;var ge=O.child;if((O.subtreeFlags&2064)!==0&&ge!==null)ge.return=O,ut=ge;else e:for(O=ae;ut!==null;){if(K=ut,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:wm(9,K)}}catch(xt){Yn(K,K.return,xt)}if(K===O){ut=null;break e}var Je=K.sibling;if(Je!==null){Je.return=K.return,ut=Je;break e}ut=K.return}}if(un=E,hs(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(yi,o)}catch{}A=!0}return A}finally{sn=m,vs.transition=u}}return!1}function U_(o,u,m){u=P(m,u),u=Ee(o,u,1),o=ds(o,u,1),u=hr(),o!==null&&(Xl(o,1,u),Lr(o,u))}function Yn(o,u,m){if(o.tag===3)U_(o,o,m);else for(;u!==null;){if(u.tag===3){U_(u,o,m);break}else if(u.tag===1){var A=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(dl===null||!dl.has(A))){o=P(m,o),o=We(u,o,1),u=ds(u,o,1),o=hr(),u!==null&&(Xl(u,1,o),Lr(u,o));break}}u=u.return}}function sb(o,u,m){var A=o.pingCache;A!==null&&A.delete(u),u=hr(),o.pingedLanes|=o.suspendedLanes&m,bi===o&&(Vi&m)===m&&(Mi===4||Mi===3&&(Vi&130023424)===Vi&&500>ln()-$0?Eu(o,0):Z0|=m),Lr(o,u)}function z_(o,u){u===0&&((o.mode&1)===0?u=1:(u=Xn,Xn<<=1,(Xn&130023424)===0&&(Xn=4194304)));var m=hr();o=Qr(o,u),o!==null&&(Xl(o,u,m),Lr(o,m))}function ob(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),z_(o,m)}function ab(o,u){var m=0;switch(o.tag){case 13:var A=o.stateNode,E=o.memoizedState;E!==null&&(m=E.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(t(314))}A!==null&&A.delete(u),z_(o,m)}var G_;G_=function(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps||Fi.current)nt=!0;else{if((o.lanes&m)===0&&(u.flags&128)===0)return nt=!1,K2(o,u,m);nt=(o.flags&131072)!==0}else nt=!1,wn&&(u.flags&1048576)!==0&&id(u,af,u.index);switch(u.lanes=0,u.tag){case 2:var A=u.type;Mm(o,u),o=u.pendingProps;var E=ea(u,Ai.current);Gs(u,m),E=gf(null,u,A,o,E,m);var R=yu();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ei(A)?(R=!0,ta(u)):R=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,vu(u),E.updater=Vs,u.stateNode=E,E._reactInternals=u,ol(u,A,o,m),u=Lt(null,u,A,!0,R,m)):(u.tag=0,wn&&R&&rd(u),cn(null,u,E,m),u=u.child),u;case 16:A=u.elementType;e:{switch(Mm(o,u),o=u.pendingProps,E=A._init,A=E(A._payload),u.type=A,E=u.tag=ub(A),o=Kr(A,o),E){case 0:u=mt(null,u,A,o,m);break e;case 1:u=kt(null,u,A,o,m);break e;case 11:u=fr(null,u,A,o,m);break e;case 14:u=xe(null,u,A,Kr(A.type,o),m);break e}throw Error(t(306,A,""))}return u;case 0:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Kr(A,E),mt(o,u,A,E,m);case 1:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Kr(A,E),kt(o,u,A,E,m);case 3:e:{if(en(u),o===null)throw Error(t(387));A=u.pendingProps,R=u.memoizedState,E=R.element,um(o,u),Ln(u,A,null,m);var O=u.memoizedState;if(A=O.element,R.isDehydrated)if(R={element:A,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){E=P(Error(t(423)),u),u=ti(o,u,A,m,E);break e}else if(A!==E){E=P(Error(t(424)),u),u=ti(o,u,A,m,E);break e}else for(Oi=Fs(u.stateNode.containerInfo.firstChild),_i=u,wn=!0,Er=null,m=aa(u,null,A,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(_o(),A===E){u=ua(o,u,m);break e}cn(o,u,A,m)}u=u.child}return u;case 5:return pf(u),o===null&&uf(u),A=u.type,E=u.pendingProps,R=o!==null?o.memoizedProps:null,O=E.children,Qh(A,E)?O=null:R!==null&&Qh(A,R)&&(u.flags|=32),$e(o,u),cn(o,u,O,m),u.child;case 6:return o===null&&uf(u),null;case 13:return Am(o,u,m);case 4:return al(u,u.stateNode.containerInfo),A=u.pendingProps,o===null?u.child=So(u,null,A,m):cn(o,u,A,m),u.child;case 11:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Kr(A,E),fr(o,u,A,E,m);case 7:return cn(o,u,u.pendingProps,m),u.child;case 8:return cn(o,u,u.pendingProps.children,m),u.child;case 12:return cn(o,u,u.pendingProps.children,m),u.child;case 10:e:{if(A=u.type._context,E=u.pendingProps,R=u.memoizedProps,O=E.value,mn(pu,A._currentValue),A._currentValue=O,R!==null)if(or(R.value,O)){if(R.children===E.children&&!Fi.current){u=ua(o,u,m);break e}}else for(R=u.child,R!==null&&(R.return=u);R!==null;){var K=R.dependencies;if(K!==null){O=R.child;for(var ie=K.firstContext;ie!==null;){if(ie.context===A){if(R.tag===1){ie=Tr(-1,m&-m),ie.tag=2;var Se=R.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?ie.next=ie:(ie.next=ze.next,ze.next=ie),Se.pending=ie}}R.lanes|=m,ie=R.alternate,ie!==null&&(ie.lanes|=m),rl(R.return,m,u),K.lanes|=m;break}ie=ie.next}}else if(R.tag===10)O=R.type===u.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(t(341));O.lanes|=m,K=O.alternate,K!==null&&(K.lanes|=m),rl(O,m,u),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===u){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}cn(o,u,E.children,m),u=u.child}return u;case 9:return E=u.type,A=u.pendingProps.children,Gs(u,m),E=ki(E),A=A(E),u.flags|=1,cn(o,u,A,m),u.child;case 14:return A=u.type,E=Kr(A,u.pendingProps),E=Kr(A.type,E),xe(o,u,A,E,m);case 15:return fe(o,u,u.type,u.pendingProps,m);case 17:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Kr(A,E),Mm(o,u),u.tag=1,Ei(A)?(o=!0,ta(u)):o=!1,Gs(u,m),sl(u,A,E),ol(u,A,E,m),Lt(null,u,A,!0,o,m);case 19:return y_(o,u,m);case 22:return we(o,u,m)}throw Error(t(156,u.tag))};function H_(o,u){return Wt(o,u)}function lb(o,u,m,A){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(o,u,m,A){return new lb(o,u,m,A)}function av(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ub(o){if(typeof o=="function")return av(o)?1:0;if(o!=null){if(o=o.$$typeof,o===re)return 11;if(o===se)return 14}return 2}function vl(o,u){var m=o.alternate;return m===null?(m=ys(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Im(o,u,m,A,E,R){var O=2;if(A=o,typeof o=="function")av(o)&&(O=1);else if(typeof o=="string")O=5;else e:switch(o){case G:return bu(m.children,E,R,u);case U:O=8,E|=8;break;case D:return o=ys(12,m,u,E|2),o.elementType=D,o.lanes=R,o;case Z:return o=ys(13,m,u,E),o.elementType=Z,o.lanes=R,o;case te:return o=ys(19,m,u,E),o.elementType=te,o.lanes=R,o;case de:return Dm(m,E,R,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:O=10;break e;case Q:O=9;break e;case re:O=11;break e;case se:O=14;break e;case ve:O=16,A=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return u=ys(O,m,u,E),u.elementType=o,u.type=A,u.lanes=R,u}function bu(o,u,m,A){return o=ys(7,o,A,u),o.lanes=m,o}function Dm(o,u,m,A){return o=ys(22,o,A,u),o.elementType=de,o.lanes=m,o.stateNode={isHidden:!1},o}function lv(o,u,m){return o=ys(6,o,null,u),o.lanes=m,o}function uv(o,u,m){return u=ys(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function cb(o,u,m,A,E){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=A,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function cv(o,u,m,A,E,R,O,K,ie){return o=new cb(o,u,m,K,ie),u===1?(u=1,R===!0&&(u|=8)):u=0,R=ys(3,null,null,u),o.current=R,R.stateNode=o,R.memoizedState={element:A,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(R),o}function fb(o,u,m){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:A==null?null:""+A,children:o,containerInfo:u,implementation:m}}function V_(o){if(!o)return Os;o=o._reactInternals;e:{if(pt(o)!==o||o.tag!==1)throw Error(t(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ei(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(o.tag===1){var m=o.type;if(Ei(m))return fu(o,m,u)}return u}function W_(o,u,m,A,E,R,O,K,ie){return o=cv(m,A,!0,o,E,R,O,K,ie),o.context=V_(null),m=o.current,A=hr(),E=ml(m),R=Tr(A,E),R.callback=u??null,ds(m,R,E),o.current.lanes=E,Xl(o,E,A),Lr(o,A),o}function Fm(o,u,m,A){var E=u.current,R=hr(),O=ml(E);return m=V_(m),u.context===null?u.context=m:u.pendingContext=m,u=Tr(R,O),u.payload={element:o},A=A===void 0?null:A,A!==null&&(u.callback=A),o=ds(E,u,O),o!==null&&(Xs(o,E,O,R),Tn(o,E,O)),O}function Nm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function j_(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function fv(o,u){j_(o,u),(o=o.alternate)&&j_(o,u)}function hb(){return null}var J_=typeof reportError=="function"?reportError:function(o){console.error(o)};function hv(o){this._internalRoot=o}Om.prototype.render=hv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(t(409));Fm(o,u,null,null)},Om.prototype.unmount=hv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Cu(function(){Fm(null,o,null,null)}),u[lr]=null}};function Om(o){this._internalRoot=o}Om.prototype.unstable_scheduleHydration=function(o){if(o){var u=Cc();o={blockedOn:null,target:o,priority:u};for(var m=0;m<ho.length&&u!==0&&u<ho[m].priority;m++);ho.splice(m,0,o),m===0&&bc(o)}};function dv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function km(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function X_(){}function db(o,u,m,A,E){if(E){if(typeof A=="function"){var R=A;A=function(){var Se=Nm(O);R.call(Se)}}var O=W_(u,A,o,0,null,!1,!1,"",X_);return o._reactRootContainer=O,o[lr]=O.current,Qa(o.nodeType===8?o.parentNode:o),Cu(),O}for(;E=o.lastChild;)o.removeChild(E);if(typeof A=="function"){var K=A;A=function(){var Se=Nm(ie);K.call(Se)}}var ie=cv(o,0,!1,null,null,!1,!1,"",X_);return o._reactRootContainer=ie,o[lr]=ie.current,Qa(o.nodeType===8?o.parentNode:o),Cu(function(){Fm(u,ie,m,A)}),ie}function Um(o,u,m,A,E){var R=m._reactRootContainer;if(R){var O=R;if(typeof E=="function"){var K=E;E=function(){var ie=Nm(O);K.call(ie)}}Fm(u,O,o,E)}else O=db(m,u,o,E,A);return Nm(O)}Kl=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var m=fo(u.pendingLanes);m!==0&&(Na(u,m|1),Lr(u,ln()),(un&6)===0&&(Cf=ln()+500,hs()))}break;case 13:Cu(function(){var A=Qr(o,1);if(A!==null){var E=hr();Xs(A,o,1,E)}}),fv(o,1)}},Lh=function(o){if(o.tag===13){var u=Qr(o,134217728);if(u!==null){var m=hr();Xs(u,o,134217728,m)}fv(o,134217728)}},Xp=function(o){if(o.tag===13){var u=ml(o),m=Qr(o,u);if(m!==null){var A=hr();Xs(m,o,u,A)}fv(o,u)}},Cc=function(){return sn},Ec=function(o,u){var m=sn;try{return sn=o,u()}finally{sn=m}},Me=function(o,u,m){switch(u){case"input":if(lt(o,m),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var A=m[u];if(A!==o&&A.form===o.form){var E=rf(A);if(!E)throw Error(t(90));Be(A),lt(A,E)}}}break;case"textarea":_e(o,m);break;case"select":u=m.value,u!=null&&Ft(o,!!m.multiple,u,!1)}},dn=rv,ri=Cu;var pb={usingClientEntryPoint:!1,Events:[Ns,Un,rf,nn,Yt,rv]},yd={findFiberByHostInstance:Ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mb={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=zt(o),o===null?null:o.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||hb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{yi=zm.inject(mb),Jt=zm}catch{}}return Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pb,Ir.createPortal=function(o,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(u))throw Error(t(200));return fb(o,u,null,m)},Ir.createRoot=function(o,u){if(!dv(o))throw Error(t(299));var m=!1,A="",E=J_;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(A=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),u=cv(o,1,!1,null,null,m,!1,A,E),o[lr]=u.current,Qa(o.nodeType===8?o.parentNode:o),new hv(u)},Ir.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=zt(u),o=o===null?null:o.stateNode,o},Ir.flushSync=function(o){return Cu(o)},Ir.hydrate=function(o,u,m){if(!km(u))throw Error(t(200));return Um(null,o,u,!0,m)},Ir.hydrateRoot=function(o,u,m){if(!dv(o))throw Error(t(405));var A=m!=null&&m.hydratedSources||null,E=!1,R="",O=J_;if(m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),u=W_(u,null,o,1,m??null,E,!1,R,O),o[lr]=u.current,Qa(o),A)for(o=0;o<A.length;o++)m=A[o],E=m._getVersion,E=E(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,E]:u.mutableSourceEagerHydrationData.push(m,E);return new Om(u)},Ir.render=function(o,u,m){if(!km(u))throw Error(t(200));return Um(null,o,u,!1,m)},Ir.unmountComponentAtNode=function(o){if(!km(o))throw Error(t(40));return o._reactRootContainer?(Cu(function(){Um(null,null,o,!1,function(){o._reactRootContainer=null,o[lr]=null})}),!0):!1},Ir.unstable_batchedUpdates=rv,Ir.unstable_renderSubtreeIntoContainer=function(o,u,m,A){if(!km(m))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Um(o,u,m,!1,A)},Ir.version="18.2.0-next-9e3b772b8-20220608",Ir}var t1;function wb(){if(t1)return gv.exports;t1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gv.exports=Sb(),gv.exports}var n1;function Cb(){if(n1)return Gm;n1=1;var i=wb();return Gm.createRoot=i.createRoot,Gm.hydrateRoot=i.hydrateRoot,Gm}var Jw=Cb();const Eb=u0(Jw);function ep(){return ep=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ep.apply(this,arguments)}var Xu;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Xu||(Xu={}));const i1="popstate";function Tb(i){i===void 0&&(i={});function e(n,r){let{pathname:s,search:a,hash:l}=n.location;return Oy("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Xg(r)}return Pb(e,t,null,i)}function Bl(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bb(){return Math.random().toString(36).substr(2,8)}function r1(i,e){return{usr:i.state,key:i.key,idx:e}}function Oy(i,e,t,n){return t===void 0&&(t=null),ep({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?c0(e):e,{state:t,key:e&&e.key||n||bb()})}function Xg(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function c0(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function Pb(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,a=r.history,l=Xu.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(ep({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function g(){l=Xu.Pop;let S=p(),M=S==null?null:S-d;d=S,c&&c({action:l,location:C.location,delta:M})}function v(S,M){l=Xu.Push;let T=Oy(C.location,S,M);d=p()+1;let b=r1(T,d),B=C.createHref(T);try{a.pushState(b,"",B)}catch{r.location.assign(B)}s&&c&&c({action:l,location:C.location,delta:1})}function y(S,M){l=Xu.Replace;let T=Oy(C.location,S,M);d=p();let b=r1(T,d),B=C.createHref(T);a.replaceState(b,"",B),s&&c&&c({action:l,location:C.location,delta:0})}function _(S){let M=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof S=="string"?S:Xg(S);return Bl(M,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,M)}let C={get action(){return l},get location(){return i(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(i1,g),c=S,()=>{r.removeEventListener(i1,g),c=null}},createHref(S){return e(r,S)},createURL:_,encodeLocation(S){let M=_(S);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:y,go(S){return a.go(S)}};return C}var s1;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(s1||(s1={}));function Xw(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function Bb(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?c0(i):i;return{pathname:t?t.startsWith("/")?t:Rb(t,e):e,search:Lb(n),hash:Ib(r)}}function Rb(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function xv(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kw(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yw(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=c0(i):(r=ep({},i),Bl(!r.pathname||!r.pathname.includes("?"),xv("?","pathname","search",r)),Bl(!r.pathname||!r.pathname.includes("#"),xv("#","pathname","hash",r)),Bl(!r.search||!r.search.includes("#"),xv("#","search","hash",r)));let s=i===""||r.pathname==="",a=s?"/":r.pathname,l;if(n||a==null)l=t;else{let g=e.length-1;if(a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}l=g>=0?e[g]:"/"}let c=Bb(r,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Qw=i=>i.join("/").replace(/\/\/+/g,"/"),Lb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ib=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,qw=["post","put","patch","delete"];new Set(qw);const Db=["get",...qw];new Set(Db);const f0=q.createContext(null),Kx=q.createContext(null),Zw=q.createContext({outlet:null,matches:[]});function Fb(i,e){let{relative:t}=e===void 0?{}:e;h0()||Bl(!1);let{basename:n,navigator:r}=q.useContext(f0),{hash:s,pathname:a,search:l}=$w(i,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Qw([n,a])),r.createHref({pathname:c,search:l,hash:s})}function h0(){return q.useContext(Kx)!=null}function Yx(){return h0()||Bl(!1),q.useContext(Kx).location}function Nb(){h0()||Bl(!1);let{basename:i,navigator:e}=q.useContext(f0),{matches:t}=q.useContext(Zw),{pathname:n}=Yx(),r=JSON.stringify(Kw(t).map(l=>l.pathnameBase)),s=q.useRef(!1);return q.useEffect(()=>{s.current=!0}),q.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let d=Yw(l,JSON.parse(r),n,c.relative==="path");i!=="/"&&(d.pathname=d.pathname==="/"?i:Qw([i,d.pathname])),(c.replace?e.replace:e.push)(d,c.state,c)},[i,e,r,n])}function $w(i,e){let{relative:t}=e===void 0?{}:e,{matches:n}=q.useContext(Zw),{pathname:r}=Yx(),s=JSON.stringify(Kw(n).map(a=>a.pathnameBase));return q.useMemo(()=>Yw(i,JSON.parse(s),r,t==="path"),[i,s,r,t])}var o1;(function(i){i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator"})(o1||(o1={}));var a1;(function(i){i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator"})(a1||(a1={}));function Ob(i){let{basename:e="/",children:t=null,location:n,navigationType:r=Xu.Pop,navigator:s,static:a=!1}=i;h0()&&Bl(!1);let l=e.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof n=="string"&&(n=c0(n));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:y="default"}=n,_=q.useMemo(()=>{let C=Xw(d,l);return C==null?null:{location:{pathname:C,search:p,hash:g,state:v,key:y},navigationType:r}},[l,d,p,g,v,y,r]);return _==null?null:q.createElement(f0.Provider,{value:c},q.createElement(Kx.Provider,{children:t,value:_}))}var l1;(function(i){i[i.pending=0]="pending",i[i.success=1]="success",i[i.error=2]="error"})(l1||(l1={}));new Promise(()=>{});function ky(){return ky=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ky.apply(this,arguments)}function kb(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function Ub(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zb(i,e){return i.button===0&&(!e||e==="_self")&&!Ub(i)}const Gb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Hb(i){let{basename:e,children:t,window:n}=i,r=q.useRef();r.current==null&&(r.current=Tb({window:n,v5Compat:!0}));let s=r.current,[a,l]=q.useState({action:s.action,location:s.location});return q.useLayoutEffect(()=>s.listen(l),[s]),q.createElement(Ob,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}const Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jb=q.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:a,state:l,target:c,to:d,preventScrollReset:p}=e,g=kb(e,Gb),{basename:v}=q.useContext(f0),y,_=!1;if(typeof d=="string"&&Wb.test(d)&&(y=d,Vb)){let T=new URL(window.location.href),b=d.startsWith("//")?new URL(T.protocol+d):new URL(d),B=Xw(b.pathname,v);b.origin===T.origin&&B!=null?d=B+b.search+b.hash:_=!0}let C=Fb(d,{relative:r}),S=Jb(d,{replace:a,state:l,target:c,preventScrollReset:p,relative:r});function M(T){n&&n(T),T.defaultPrevented||S(T)}return q.createElement("a",ky({},g,{href:y||C,onClick:_||s?n:M,ref:t,target:c}))});var u1;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmitImpl="useSubmitImpl",i.UseFetcher="useFetcher"})(u1||(u1={}));var c1;(function(i){i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(c1||(c1={}));function Jb(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:a}=e===void 0?{}:e,l=Nb(),c=Yx(),d=$w(i,{relative:a});return q.useCallback(p=>{if(zb(p,t)){p.preventDefault();let g=n!==void 0?n:Xg(c)===Xg(d);l(i,{replace:g,state:r,preventScrollReset:s,relative:a})}},[c,l,d,n,r,t,i,s,a])}const _h="151",zu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eC=0,Uy=1,tC=2,Xb=3,nC=0,d0=1,Wd=2,Ku=3,Fo=0,gr=1,ws=2,Kb=2,Ea=0,tc=1,zy=2,Gy=3,Hy=4,iC=5,ju=100,rC=101,sC=102,Vy=103,Wy=104,oC=200,aC=201,lC=202,uC=203,Qx=204,qx=205,cC=206,fC=207,hC=208,dC=209,pC=210,mC=0,gC=1,vC=2,Kg=3,yC=4,xC=5,AC=6,_C=7,yp=0,MC=1,SC=2,$s=0,wC=1,CC=2,EC=3,Zx=4,TC=5,p0=300,Dl=301,Fl=302,tp=303,np=304,Mh=306,Nl=1e3,Wi=1001,fh=1002,qn=1003,ip=1004,Yb=1004,oh=1005,Qb=1005,Hn=1006,m0=1007,qb=1007,No=1008,Zb=1008,Ba=1009,bC=1010,PC=1011,$x=1012,BC=1013,Pl=1014,Sa=1015,hh=1016,RC=1017,LC=1018,nc=1020,IC=1021,Or=1023,DC=1024,FC=1025,Rl=1026,lc=1027,NC=1028,OC=1029,kC=1030,UC=1031,zC=1033,kg=33776,Ug=33777,zg=33778,Gg=33779,jy=35840,Jy=35841,Xy=35842,Ky=35843,GC=36196,Yy=37492,Qy=37496,qy=37808,Zy=37809,$y=37810,ex=37811,tx=37812,nx=37813,ix=37814,rx=37815,sx=37816,ox=37817,ax=37818,lx=37819,ux=37820,cx=37821,Hg=36492,HC=36283,fx=36284,hx=36285,dx=36286,VC=2200,WC=2201,jC=2202,dh=2300,uc=2301,Vg=2302,Yu=2400,Qu=2401,rp=2402,g0=2500,eA=2501,JC=0,tA=1,Yg=2,Ra=3e3,Sn=3001,XC=3200,KC=3201,Gl=0,YC=1,$b="",qs="srgb",ph="srgb-linear",nA="display-p3",eP=0,Wg=7680,tP=7681,nP=7682,iP=7683,rP=34055,sP=34056,oP=5386,aP=512,lP=513,uP=514,cP=515,fP=516,hP=517,dP=518,QC=519,sp=35044,ic=35048,pP=35040,mP=35045,gP=35049,vP=35041,yP=35046,xP=35050,AP=35042,_P="100",px="300 es",Qg=1035;let Ia=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const er=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let f1=1234567;const rc=Math.PI/180,mh=180/Math.PI;function rs(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(er[i&255]+er[i>>8&255]+er[i>>16&255]+er[i>>24&255]+"-"+er[e&255]+er[e>>8&255]+"-"+er[e>>16&15|64]+er[e>>24&255]+"-"+er[t&63|128]+er[t>>8&255]+"-"+er[t>>16&255]+er[t>>24&255]+er[n&255]+er[n>>8&255]+er[n>>16&255]+er[n>>24&255]).toLowerCase()}function Zn(i,e,t){return Math.max(e,Math.min(t,i))}function iA(i,e){return(i%e+e)%e}function MP(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function SP(i,e,t){return i!==e?(t-i)/(e-i):0}function jd(i,e,t){return(1-t)*i+t*e}function wP(i,e,t,n){return jd(i,e,1-Math.exp(-t*n))}function CP(i,e=1){return e-Math.abs(iA(i,e*2)-e)}function EP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function TP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function bP(i,e){return i+Math.floor(Math.random()*(e-i+1))}function PP(i,e){return i+Math.random()*(e-i)}function BP(i){return i*(.5-Math.random())}function RP(i){i!==void 0&&(f1=i);let e=f1+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function LP(i){return i*rc}function IP(i){return i*mh}function mx(i){return(i&i-1)===0&&i!==0}function qC(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function ZC(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function DP(i,e,t,n,r){const s=Math.cos,a=Math.sin,l=s(t/2),c=a(t/2),d=s((e+n)/2),p=a((e+n)/2),g=s((e-n)/2),v=a((e-n)/2),y=s((n-e)/2),_=a((n-e)/2);switch(r){case"XYX":i.set(l*p,c*g,c*v,l*d);break;case"YZY":i.set(c*v,l*p,c*g,l*d);break;case"ZXZ":i.set(c*g,c*v,l*p,l*d);break;case"XZX":i.set(l*p,c*_,c*y,l*d);break;case"YXY":i.set(c*y,l*p,c*_,l*d);break;case"ZYZ":i.set(c*_,c*y,l*p,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ns(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Kt(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const rA={DEG2RAD:rc,RAD2DEG:mh,generateUUID:rs,clamp:Zn,euclideanModulo:iA,mapLinear:MP,inverseLerp:SP,lerp:jd,damp:wP,pingpong:CP,smoothstep:EP,smootherstep:TP,randInt:bP,randFloat:PP,randFloatSpread:BP,seededRandom:RP,degToRad:LP,radToDeg:IP,isPowerOfTwo:mx,ceilPowerOfTwo:qC,floorPowerOfTwo:ZC,setQuaternionFromProperEuler:DP,normalize:Kt,denormalize:ns};class Re{constructor(e=0,t=0){Re.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qt{constructor(){qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,s,a,l,c,d){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=s,p[5]=c,p[6]=n,p[7]=a,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[3],c=n[6],d=n[1],p=n[4],g=n[7],v=n[2],y=n[5],_=n[8],C=r[0],S=r[3],M=r[6],T=r[1],b=r[4],B=r[7],I=r[2],F=r[5],G=r[8];return s[0]=a*C+l*T+c*I,s[3]=a*S+l*b+c*F,s[6]=a*M+l*B+c*G,s[1]=d*C+p*T+g*I,s[4]=d*S+p*b+g*F,s[7]=d*M+p*B+g*G,s[2]=v*C+y*T+_*I,s[5]=v*S+y*b+_*F,s[8]=v*M+y*B+_*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],d=e[7],p=e[8];return t*a*p-t*l*d-n*s*p+n*l*c+r*s*d-r*a*c}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],d=e[7],p=e[8],g=p*a-l*d,v=l*c-p*s,y=d*s-a*c,_=t*g+n*v+r*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/_;return e[0]=g*C,e[1]=(r*d-p*n)*C,e[2]=(l*n-r*a)*C,e[3]=v*C,e[4]=(p*t-r*c)*C,e[5]=(r*s-l*t)*C,e[6]=y*C,e[7]=(n*c-d*t)*C,e[8]=(a*t-n*s)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,l){const c=Math.cos(s),d=Math.sin(s);return this.set(n*c,n*d,-n*(c*a+d*l)+a+e,-r*d,r*c,-r*(-d*a+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(Av.makeScale(e,t)),this}rotate(e){return this.premultiply(Av.makeRotation(-e)),this}translate(e,t){return this.premultiply(Av.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Av=new qt;function $C(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const FP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zf(i,e){return new FP[i](e)}function op(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function ah(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function _v(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}const NP=new qt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),OP=new qt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function kP(i){return i.convertSRGBToLinear().applyMatrix3(OP)}function UP(i){return i.applyMatrix3(NP).convertLinearToSRGB()}const zP={[ph]:i=>i,[qs]:i=>i.convertSRGBToLinear(),[nA]:kP},GP={[ph]:i=>i,[qs]:i=>i.convertLinearToSRGB(),[nA]:UP},Dr={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return ph},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;const n=zP[e],r=GP[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}};let Tf;class sA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Tf===void 0&&(Tf=op("canvas")),Tf.width=e.width,Tf.height=e.height;const n=Tf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Tf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=op("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=ah(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ah(t[n]/255)*255):t[n]=ah(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qu{constructor(e=null){this.isSource=!0,this.uuid=rs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?s.push(Mv(r[a].image)):s.push(Mv(r[a]))}else s=Mv(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function Mv(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?sA.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let HP=0;class bn extends Ia{constructor(e=bn.DEFAULT_IMAGE,t=bn.DEFAULT_MAPPING,n=Wi,r=Wi,s=Hn,a=No,l=Or,c=Ba,d=bn.DEFAULT_ANISOTROPY,p=Ra){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HP++}),this.uuid=rs(),this.name="",this.source=new qu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==p0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nl:e.x=e.x-Math.floor(e.x);break;case Wi:e.x=e.x<0?0:1;break;case fh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Nl:e.y=e.y-Math.floor(e.y);break;case Wi:e.y=e.y<0?0:1;break;case fh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=p0;bn.DEFAULT_ANISOTROPY=1;class vn{constructor(e=0,t=0,n=0,r=1){vn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const c=e.elements,d=c[0],p=c[4],g=c[8],v=c[1],y=c[5],_=c[9],C=c[2],S=c[6],M=c[10];if(Math.abs(p-v)<.01&&Math.abs(g-C)<.01&&Math.abs(_-S)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+C)<.1&&Math.abs(_+S)<.1&&Math.abs(d+y+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(d+1)/2,B=(y+1)/2,I=(M+1)/2,F=(p+v)/4,G=(g+C)/4,U=(_+S)/4;return b>B&&b>I?b<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(b),r=F/n,s=G/n):B>I?B<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(B),n=F/r,s=U/r):I<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(I),n=G/s,r=U/s),this.set(n,r,s,t),this}let T=Math.sqrt((S-_)*(S-_)+(g-C)*(g-C)+(v-p)*(v-p));return Math.abs(T)<.001&&(T=1),this.x=(S-_)/T,this.y=(g-C)/T,this.z=(v-p)/T,this.w=Math.acos((d+y+M-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class to extends Ia{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vn(0,0,e,t),this.scissorTest=!1,this.viewport=new vn(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new bn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Hn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class v0 extends bn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=qn,this.minFilter=qn,this.wrapR=Wi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VP extends to{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new v0(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class oA extends bn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=qn,this.minFilter=qn,this.wrapR=Wi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WP extends to{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new oA(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class jP extends to{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ri{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,l){let c=n[r+0],d=n[r+1],p=n[r+2],g=n[r+3];const v=s[a+0],y=s[a+1],_=s[a+2],C=s[a+3];if(l===0){e[t+0]=c,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=y,e[t+2]=_,e[t+3]=C;return}if(g!==C||c!==v||d!==y||p!==_){let S=1-l;const M=c*v+d*y+p*_+g*C,T=M>=0?1:-1,b=1-M*M;if(b>Number.EPSILON){const I=Math.sqrt(b),F=Math.atan2(I,M*T);S=Math.sin(S*F)/I,l=Math.sin(l*F)/I}const B=l*T;if(c=c*S+v*B,d=d*S+y*B,p=p*S+_*B,g=g*S+C*B,S===1-l){const I=1/Math.sqrt(c*c+d*d+p*p+g*g);c*=I,d*=I,p*=I,g*=I}}e[t]=c,e[t+1]=d,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,s,a){const l=n[r],c=n[r+1],d=n[r+2],p=n[r+3],g=s[a],v=s[a+1],y=s[a+2],_=s[a+3];return e[t]=l*_+p*g+c*y-d*v,e[t+1]=c*_+p*v+d*g-l*y,e[t+2]=d*_+p*y+l*v-c*g,e[t+3]=p*_-l*g-c*v-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,d=l(n/2),p=l(r/2),g=l(s/2),v=c(n/2),y=c(r/2),_=c(s/2);switch(a){case"XYZ":this._x=v*p*g+d*y*_,this._y=d*y*g-v*p*_,this._z=d*p*_+v*y*g,this._w=d*p*g-v*y*_;break;case"YXZ":this._x=v*p*g+d*y*_,this._y=d*y*g-v*p*_,this._z=d*p*_-v*y*g,this._w=d*p*g+v*y*_;break;case"ZXY":this._x=v*p*g-d*y*_,this._y=d*y*g+v*p*_,this._z=d*p*_+v*y*g,this._w=d*p*g-v*y*_;break;case"ZYX":this._x=v*p*g-d*y*_,this._y=d*y*g+v*p*_,this._z=d*p*_-v*y*g,this._w=d*p*g+v*y*_;break;case"YZX":this._x=v*p*g+d*y*_,this._y=d*y*g+v*p*_,this._z=d*p*_-v*y*g,this._w=d*p*g-v*y*_;break;case"XZY":this._x=v*p*g-d*y*_,this._y=d*y*g-v*p*_,this._z=d*p*_+v*y*g,this._w=d*p*g+v*y*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],l=t[5],c=t[9],d=t[2],p=t[6],g=t[10],v=n+l+g;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(p-c)*y,this._y=(s-d)*y,this._z=(a-r)*y}else if(n>l&&n>g){const y=2*Math.sqrt(1+n-l-g);this._w=(p-c)/y,this._x=.25*y,this._y=(r+a)/y,this._z=(s+d)/y}else if(l>g){const y=2*Math.sqrt(1+l-n-g);this._w=(s-d)/y,this._x=(r+a)/y,this._y=.25*y,this._z=(c+p)/y}else{const y=2*Math.sqrt(1+g-n-l);this._w=(a-r)/y,this._x=(s+d)/y,this._y=(c+p)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,l=t._x,c=t._y,d=t._z,p=t._w;return this._x=n*p+a*l+r*d-s*c,this._y=r*p+a*c+s*l-n*d,this._z=s*p+a*d+n*c-r*l,this._w=a*p-n*l-r*c-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const y=1-t;return this._w=y*a+t*this._w,this._x=y*n+t*this._x,this._y=y*r+t*this._y,this._z=y*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),p=Math.atan2(d,l),g=Math.sin((1-t)*p)/d,v=Math.sin(t*p)/d;return this._w=a*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=s*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class V{constructor(e=0,t=0,n=0){V.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(h1.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(h1.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,l=e.z,c=e.w,d=c*t+a*r-l*n,p=c*n+l*t-s*r,g=c*r+s*n-a*t,v=-s*t-a*n-l*r;return this.x=d*c+v*-s+p*-l-g*-a,this.y=p*c+v*-a+g*-s-d*-l,this.z=g*c+v*-l+d*-a-p*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,l=t.y,c=t.z;return this.x=r*c-s*l,this.y=s*a-n*c,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Sv.copy(this).projectOnVector(e),this.sub(Sv)}reflect(e){return this.sub(Sv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sv=new V,h1=new Ri;class io{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(ha.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(ha.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ha.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),bf.copy(e.boundingBox),bf.applyMatrix4(e.matrixWorld),this.union(bf);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let a=0,l=s.count;a<l;a++)ha.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(ha)}else r.boundingBox===null&&r.computeBoundingBox(),bf.copy(r.boundingBox),bf.applyMatrix4(e.matrixWorld),this.union(bf)}const n=e.children;for(let r=0,s=n.length;r<s;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ha),ha.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ad),Hm.subVectors(this.max,Ad),Pf.subVectors(e.a,Ad),Bf.subVectors(e.b,Ad),Rf.subVectors(e.c,Ad),xl.subVectors(Bf,Pf),Al.subVectors(Rf,Bf),Pu.subVectors(Pf,Rf);let t=[0,-xl.z,xl.y,0,-Al.z,Al.y,0,-Pu.z,Pu.y,xl.z,0,-xl.x,Al.z,0,-Al.x,Pu.z,0,-Pu.x,-xl.y,xl.x,0,-Al.y,Al.x,0,-Pu.y,Pu.x,0];return!wv(t,Pf,Bf,Rf,Hm)||(t=[1,0,0,0,1,0,0,0,1],!wv(t,Pf,Bf,Rf,Hm))?!1:(Vm.crossVectors(xl,Al),t=[Vm.x,Vm.y,Vm.z],wv(t,Pf,Bf,Rf,Hm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ha).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ha).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fa=[new V,new V,new V,new V,new V,new V,new V,new V],ha=new V,bf=new io,Pf=new V,Bf=new V,Rf=new V,xl=new V,Al=new V,Pu=new V,Ad=new V,Hm=new V,Vm=new V,Bu=new V;function wv(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){Bu.fromArray(i,s);const l=r.x*Math.abs(Bu.x)+r.y*Math.abs(Bu.y)+r.z*Math.abs(Bu.z),c=e.dot(Bu),d=t.dot(Bu),p=n.dot(Bu);if(Math.max(-Math.max(c,d,p),Math.min(c,d,p))>l)return!1}return!0}const JP=new io,_d=new V,Cv=new V;class ro{constructor(e=new V,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):JP.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_d.subVectors(e,this.center);const t=_d.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(_d,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Cv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_d.copy(e.center).add(Cv)),this.expandByPoint(_d.copy(e.center).sub(Cv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const da=new V,Ev=new V,Wm=new V,_l=new V,Tv=new V,jm=new V,bv=new V;class Sh{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,da)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=da.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(da.copy(this.origin).addScaledVector(this.direction,t),da.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Ev.copy(e).add(t).multiplyScalar(.5),Wm.copy(t).sub(e).normalize(),_l.copy(this.origin).sub(Ev);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Wm),l=_l.dot(this.direction),c=-_l.dot(Wm),d=_l.lengthSq(),p=Math.abs(1-a*a);let g,v,y,_;if(p>0)if(g=a*c-l,v=a*l-c,_=s*p,g>=0)if(v>=-_)if(v<=_){const C=1/p;g*=C,v*=C,y=g*(g+a*v+2*l)+v*(a*g+v+2*c)+d}else v=s,g=Math.max(0,-(a*v+l)),y=-g*g+v*(v+2*c)+d;else v=-s,g=Math.max(0,-(a*v+l)),y=-g*g+v*(v+2*c)+d;else v<=-_?(g=Math.max(0,-(-a*s+l)),v=g>0?-s:Math.min(Math.max(-s,-c),s),y=-g*g+v*(v+2*c)+d):v<=_?(g=0,v=Math.min(Math.max(-s,-c),s),y=v*(v+2*c)+d):(g=Math.max(0,-(a*s+l)),v=g>0?s:Math.min(Math.max(-s,-c),s),y=-g*g+v*(v+2*c)+d);else v=a>0?-s:s,g=Math.max(0,-(a*v+l)),y=-g*g+v*(v+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(Ev).addScaledVector(Wm,v),y}intersectSphere(e,t){da.subVectors(e.center,this.origin);const n=da.dot(this.direction),r=da.dot(da)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),l=n-a,c=n+a;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,l,c;const d=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(n=(e.min.x-v.x)*d,r=(e.max.x-v.x)*d):(n=(e.max.x-v.x)*d,r=(e.min.x-v.x)*d),p>=0?(s=(e.min.y-v.y)*p,a=(e.max.y-v.y)*p):(s=(e.max.y-v.y)*p,a=(e.min.y-v.y)*p),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),g>=0?(l=(e.min.z-v.z)*g,c=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,c=(e.min.z-v.z)*g),n>c||l>r)||((l>n||n!==n)&&(n=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,da)!==null}intersectTriangle(e,t,n,r,s){Tv.subVectors(t,e),jm.subVectors(n,e),bv.crossVectors(Tv,jm);let a=this.direction.dot(bv),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;_l.subVectors(this.origin,e);const c=l*this.direction.dot(jm.crossVectors(_l,jm));if(c<0)return null;const d=l*this.direction.dot(Tv.cross(_l));if(d<0||c+d>a)return null;const p=-l*_l.dot(bv);return p<0?null:this.at(p/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Rt{constructor(){Rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,s,a,l,c,d,p,g,v,y,_,C,S){const M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=r,M[1]=s,M[5]=a,M[9]=l,M[13]=c,M[2]=d,M[6]=p,M[10]=g,M[14]=v,M[3]=y,M[7]=_,M[11]=C,M[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Rt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Lf.setFromMatrixColumn(e,0).length(),s=1/Lf.setFromMatrixColumn(e,1).length(),a=1/Lf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),l=Math.sin(n),c=Math.cos(r),d=Math.sin(r),p=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const v=a*p,y=a*g,_=l*p,C=l*g;t[0]=c*p,t[4]=-c*g,t[8]=d,t[1]=y+_*d,t[5]=v-C*d,t[9]=-l*c,t[2]=C-v*d,t[6]=_+y*d,t[10]=a*c}else if(e.order==="YXZ"){const v=c*p,y=c*g,_=d*p,C=d*g;t[0]=v+C*l,t[4]=_*l-y,t[8]=a*d,t[1]=a*g,t[5]=a*p,t[9]=-l,t[2]=y*l-_,t[6]=C+v*l,t[10]=a*c}else if(e.order==="ZXY"){const v=c*p,y=c*g,_=d*p,C=d*g;t[0]=v-C*l,t[4]=-a*g,t[8]=_+y*l,t[1]=y+_*l,t[5]=a*p,t[9]=C-v*l,t[2]=-a*d,t[6]=l,t[10]=a*c}else if(e.order==="ZYX"){const v=a*p,y=a*g,_=l*p,C=l*g;t[0]=c*p,t[4]=_*d-y,t[8]=v*d+C,t[1]=c*g,t[5]=C*d+v,t[9]=y*d-_,t[2]=-d,t[6]=l*c,t[10]=a*c}else if(e.order==="YZX"){const v=a*c,y=a*d,_=l*c,C=l*d;t[0]=c*p,t[4]=C-v*g,t[8]=_*g+y,t[1]=g,t[5]=a*p,t[9]=-l*p,t[2]=-d*p,t[6]=y*g+_,t[10]=v-C*g}else if(e.order==="XZY"){const v=a*c,y=a*d,_=l*c,C=l*d;t[0]=c*p,t[4]=-g,t[8]=d*p,t[1]=v*g+C,t[5]=a*p,t[9]=y*g-_,t[2]=_*g-y,t[6]=l*p,t[10]=C*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XP,e,KP)}lookAt(e,t,n){const r=this.elements;return $r.subVectors(e,t),$r.lengthSq()===0&&($r.z=1),$r.normalize(),Ml.crossVectors(n,$r),Ml.lengthSq()===0&&(Math.abs(n.z)===1?$r.x+=1e-4:$r.z+=1e-4,$r.normalize(),Ml.crossVectors(n,$r)),Ml.normalize(),Jm.crossVectors($r,Ml),r[0]=Ml.x,r[4]=Jm.x,r[8]=$r.x,r[1]=Ml.y,r[5]=Jm.y,r[9]=$r.y,r[2]=Ml.z,r[6]=Jm.z,r[10]=$r.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[4],c=n[8],d=n[12],p=n[1],g=n[5],v=n[9],y=n[13],_=n[2],C=n[6],S=n[10],M=n[14],T=n[3],b=n[7],B=n[11],I=n[15],F=r[0],G=r[4],U=r[8],D=r[12],k=r[1],Q=r[5],re=r[9],Z=r[13],te=r[2],se=r[6],ve=r[10],de=r[14],z=r[3],Y=r[7],N=r[11],X=r[15];return s[0]=a*F+l*k+c*te+d*z,s[4]=a*G+l*Q+c*se+d*Y,s[8]=a*U+l*re+c*ve+d*N,s[12]=a*D+l*Z+c*de+d*X,s[1]=p*F+g*k+v*te+y*z,s[5]=p*G+g*Q+v*se+y*Y,s[9]=p*U+g*re+v*ve+y*N,s[13]=p*D+g*Z+v*de+y*X,s[2]=_*F+C*k+S*te+M*z,s[6]=_*G+C*Q+S*se+M*Y,s[10]=_*U+C*re+S*ve+M*N,s[14]=_*D+C*Z+S*de+M*X,s[3]=T*F+b*k+B*te+I*z,s[7]=T*G+b*Q+B*se+I*Y,s[11]=T*U+b*re+B*ve+I*N,s[15]=T*D+b*Z+B*de+I*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],l=e[5],c=e[9],d=e[13],p=e[2],g=e[6],v=e[10],y=e[14],_=e[3],C=e[7],S=e[11],M=e[15];return _*(+s*c*g-r*d*g-s*l*v+n*d*v+r*l*y-n*c*y)+C*(+t*c*y-t*d*v+s*a*v-r*a*y+r*d*p-s*c*p)+S*(+t*d*g-t*l*y-s*a*g+n*a*y+s*l*p-n*d*p)+M*(-r*l*p-t*c*g+t*l*v+r*a*g-n*a*v+n*c*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],d=e[7],p=e[8],g=e[9],v=e[10],y=e[11],_=e[12],C=e[13],S=e[14],M=e[15],T=g*S*d-C*v*d+C*c*y-l*S*y-g*c*M+l*v*M,b=_*v*d-p*S*d-_*c*y+a*S*y+p*c*M-a*v*M,B=p*C*d-_*g*d+_*l*y-a*C*y-p*l*M+a*g*M,I=_*g*c-p*C*c-_*l*v+a*C*v+p*l*S-a*g*S,F=t*T+n*b+r*B+s*I;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/F;return e[0]=T*G,e[1]=(C*v*s-g*S*s-C*r*y+n*S*y+g*r*M-n*v*M)*G,e[2]=(l*S*s-C*c*s+C*r*d-n*S*d-l*r*M+n*c*M)*G,e[3]=(g*c*s-l*v*s-g*r*d+n*v*d+l*r*y-n*c*y)*G,e[4]=b*G,e[5]=(p*S*s-_*v*s+_*r*y-t*S*y-p*r*M+t*v*M)*G,e[6]=(_*c*s-a*S*s-_*r*d+t*S*d+a*r*M-t*c*M)*G,e[7]=(a*v*s-p*c*s+p*r*d-t*v*d-a*r*y+t*c*y)*G,e[8]=B*G,e[9]=(_*g*s-p*C*s-_*n*y+t*C*y+p*n*M-t*g*M)*G,e[10]=(a*C*s-_*l*s+_*n*d-t*C*d-a*n*M+t*l*M)*G,e[11]=(p*l*s-a*g*s-p*n*d+t*g*d+a*n*y-t*l*y)*G,e[12]=I*G,e[13]=(p*C*r-_*g*r+_*n*v-t*C*v-p*n*S+t*g*S)*G,e[14]=(_*l*r-a*C*r-_*n*c+t*C*c+a*n*S-t*l*S)*G,e[15]=(a*g*r-p*l*r+p*n*c-t*g*c-a*n*v+t*l*v)*G,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,l=e.y,c=e.z,d=s*a,p=s*l;return this.set(d*a+n,d*l-r*c,d*c+r*l,0,d*l+r*c,p*l+n,p*c-r*a,0,d*c-r*l,p*c+r*a,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,l=t._z,c=t._w,d=s+s,p=a+a,g=l+l,v=s*d,y=s*p,_=s*g,C=a*p,S=a*g,M=l*g,T=c*d,b=c*p,B=c*g,I=n.x,F=n.y,G=n.z;return r[0]=(1-(C+M))*I,r[1]=(y+B)*I,r[2]=(_-b)*I,r[3]=0,r[4]=(y-B)*F,r[5]=(1-(v+M))*F,r[6]=(S+T)*F,r[7]=0,r[8]=(_+b)*G,r[9]=(S-T)*G,r[10]=(1-(v+C))*G,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=Lf.set(r[0],r[1],r[2]).length();const a=Lf.set(r[4],r[5],r[6]).length(),l=Lf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ks.copy(this);const d=1/s,p=1/a,g=1/l;return Ks.elements[0]*=d,Ks.elements[1]*=d,Ks.elements[2]*=d,Ks.elements[4]*=p,Ks.elements[5]*=p,Ks.elements[6]*=p,Ks.elements[8]*=g,Ks.elements[9]*=g,Ks.elements[10]*=g,t.setFromRotationMatrix(Ks),n.x=s,n.y=a,n.z=l,this}makePerspective(e,t,n,r,s,a){const l=this.elements,c=2*s/(t-e),d=2*s/(n-r),p=(t+e)/(t-e),g=(n+r)/(n-r),v=-(a+s)/(a-s),y=-2*a*s/(a-s);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,a){const l=this.elements,c=1/(t-e),d=1/(n-r),p=1/(a-s),g=(t+e)*c,v=(n+r)*d,y=(a+s)*p;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=-2*p,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Lf=new V,Ks=new Rt,XP=new V(0,0,0),KP=new V(1,1,1),Ml=new V,Jm=new V,$r=new V,d1=new Rt,p1=new Ri;class gc{constructor(e=0,t=0,n=0,r=gc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],l=r[8],c=r[1],d=r[5],p=r[9],g=r[2],v=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,y),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Zn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Zn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-p,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return d1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d1,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return p1.setFromEuler(this),this.setFromQuaternion(p1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gc.DEFAULT_ORDER="XYZ";class sc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YP=0;const m1=new V,If=new Ri,pa=new Rt,Xm=new V,Md=new V,QP=new V,qP=new Ri,g1=new V(1,0,0),v1=new V(0,1,0),y1=new V(0,0,1),ZP={type:"added"},x1={type:"removed"};class tn extends Ia{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YP++}),this.uuid=rs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tn.DEFAULT_UP.clone();const e=new V,t=new gc,n=new Ri,r=new V(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Rt},normalMatrix:{value:new qt}}),this.matrix=new Rt,this.matrixWorld=new Rt,this.matrixAutoUpdate=tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new sc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return If.setFromAxisAngle(e,t),this.quaternion.multiply(If),this}rotateOnWorldAxis(e,t){return If.setFromAxisAngle(e,t),this.quaternion.premultiply(If),this}rotateX(e){return this.rotateOnAxis(g1,e)}rotateY(e){return this.rotateOnAxis(v1,e)}rotateZ(e){return this.rotateOnAxis(y1,e)}translateOnAxis(e,t){return m1.copy(e).applyQuaternion(this.quaternion),this.position.add(m1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(g1,e)}translateY(e){return this.translateOnAxis(v1,e)}translateZ(e){return this.translateOnAxis(y1,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pa.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Xm.copy(e):Xm.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Md.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pa.lookAt(Md,Xm,this.up):pa.lookAt(Xm,Md,this.up),this.quaternion.setFromRotationMatrix(pa),r&&(pa.extractRotation(r.matrixWorld),If.setFromRotationMatrix(pa),this.quaternion.premultiply(If.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ZP)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(x1)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(x1)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),pa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),pa.multiply(e.parent.matrixWorld)),e.applyMatrix4(pa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Md,e,QP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Md,qP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const l=r[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,p=c.length;d<p;d++){const g=c[d];s(e.shapes,g)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(s(e.materials,this.material[c]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(s(e.animations,c))}}if(t){const l=a(e.geometries),c=a(e.materials),d=a(e.textures),p=a(e.images),g=a(e.shapes),v=a(e.skeletons),y=a(e.animations),_=a(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),y.length>0&&(n.animations=y),_.length>0&&(n.nodes=_)}return n.object=r,n;function a(l){const c=[];for(const d in l){const p=l[d];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}tn.DEFAULT_UP=new V(0,1,0);tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ys=new V,ma=new V,Pv=new V,ga=new V,Df=new V,Ff=new V,A1=new V,Bv=new V,Rv=new V,Lv=new V;let Km=!1;class Nr{constructor(e=new V,t=new V,n=new V){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ys.subVectors(e,t),r.cross(Ys);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Ys.subVectors(r,t),ma.subVectors(n,t),Pv.subVectors(e,t);const a=Ys.dot(Ys),l=Ys.dot(ma),c=Ys.dot(Pv),d=ma.dot(ma),p=ma.dot(Pv),g=a*d-l*l;if(g===0)return s.set(-2,-1,-1);const v=1/g,y=(d*c-l*p)*v,_=(a*p-l*c)*v;return s.set(1-y-_,_,y)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,ga),ga.x>=0&&ga.y>=0&&ga.x+ga.y<=1}static getUV(e,t,n,r,s,a,l,c){return Km===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Km=!0),this.getInterpolation(e,t,n,r,s,a,l,c)}static getInterpolation(e,t,n,r,s,a,l,c){return this.getBarycoord(e,t,n,r,ga),c.setScalar(0),c.addScaledVector(s,ga.x),c.addScaledVector(a,ga.y),c.addScaledVector(l,ga.z),c}static isFrontFacing(e,t,n,r){return Ys.subVectors(n,t),ma.subVectors(e,t),Ys.cross(ma).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ys.subVectors(this.c,this.b),ma.subVectors(this.a,this.b),Ys.cross(ma).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Nr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return Km===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Km=!0),Nr.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}getInterpolation(e,t,n,r,s){return Nr.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Nr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,l;Df.subVectors(r,n),Ff.subVectors(s,n),Bv.subVectors(e,n);const c=Df.dot(Bv),d=Ff.dot(Bv);if(c<=0&&d<=0)return t.copy(n);Rv.subVectors(e,r);const p=Df.dot(Rv),g=Ff.dot(Rv);if(p>=0&&g<=p)return t.copy(r);const v=c*g-p*d;if(v<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(n).addScaledVector(Df,a);Lv.subVectors(e,s);const y=Df.dot(Lv),_=Ff.dot(Lv);if(_>=0&&y<=_)return t.copy(s);const C=y*d-c*_;if(C<=0&&d>=0&&_<=0)return l=d/(d-_),t.copy(n).addScaledVector(Ff,l);const S=p*_-y*g;if(S<=0&&g-p>=0&&y-_>=0)return A1.subVectors(s,r),l=(g-p)/(g-p+(y-_)),t.copy(r).addScaledVector(A1,l);const M=1/(S+C+v);return a=C*M,l=v*M,t.copy(n).addScaledVector(Df,a).addScaledVector(Ff,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let $P=0;class gi extends Ia{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$P++}),this.uuid=rs(),this.name="",this.type="Material",this.blending=tc,this.side=Fo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Qx,this.blendDst=qx,this.blendEquation=ju,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Kg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=QC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wg,this.stencilZFail=Wg,this.stencilZPass=Wg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==tc&&(n.blending=this.blending),this.side!==Fo&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const eE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qs={h:0,s:0,l:0},Ym={h:0,s:0,l:0};function Iv(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class et{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Dr.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Dr.workingColorSpace){return this.r=e,this.g=t,this.b=n,Dr.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Dr.workingColorSpace){if(e=iA(e,1),t=Zn(t,0,1),n=Zn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=Iv(a,s,e+1/3),this.g=Iv(a,s,e),this.b=Iv(a,s,e-1/3)}return Dr.toWorkingColorSpace(this,r),this}setStyle(e,t=qs){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Dr.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Dr.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(s[1])/360,d=parseFloat(s[2])/100,p=parseFloat(s[3])/100;return n(s[4]),this.setHSL(c,d,p,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=qs){const n=eE[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ah(e.r),this.g=ah(e.g),this.b=ah(e.b),this}copyLinearToSRGB(e){return this.r=_v(e.r),this.g=_v(e.g),this.b=_v(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qs){return Dr.fromWorkingColorSpace(tr.copy(this),e),Zn(tr.r*255,0,255)<<16^Zn(tr.g*255,0,255)<<8^Zn(tr.b*255,0,255)<<0}getHexString(e=qs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Dr.workingColorSpace){Dr.fromWorkingColorSpace(tr.copy(this),t);const n=tr.r,r=tr.g,s=tr.b,a=Math.max(n,r,s),l=Math.min(n,r,s);let c,d;const p=(l+a)/2;if(l===a)c=0,d=0;else{const g=a-l;switch(d=p<=.5?g/(a+l):g/(2-a-l),a){case n:c=(r-s)/g+(r<s?6:0);break;case r:c=(s-n)/g+2;break;case s:c=(n-r)/g+4;break}c/=6}return e.h=c,e.s=d,e.l=p,e}getRGB(e,t=Dr.workingColorSpace){return Dr.fromWorkingColorSpace(tr.copy(this),t),e.r=tr.r,e.g=tr.g,e.b=tr.b,e}getStyle(e=qs){Dr.fromWorkingColorSpace(tr.copy(this),e);const t=tr.r,n=tr.g,r=tr.b;return e!==qs?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${t*255|0},${n*255|0},${r*255|0})`}offsetHSL(e,t,n){return this.getHSL(Qs),Qs.h+=e,Qs.s+=t,Qs.l+=n,this.setHSL(Qs.h,Qs.s,Qs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Qs),e.getHSL(Ym);const n=jd(Qs.h,Ym.h,t),r=jd(Qs.s,Ym.s,t),s=jd(Qs.l,Ym.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const tr=new et;et.NAMES=eE;class is extends gi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Aa=e3();function e3(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):d<-14?(n[c]=1024>>-d-14,n[c|256]=1024>>-d-14|32768,r[c]=-d-1,r[c|256]=-d-1):d<=15?(n[c]=d+15<<10,n[c|256]=d+15<<10|32768,r[c]=13,r[c|256]=13):d<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,p=0;for(;(d&8388608)===0;)d<<=1,p-=8388608;d&=-8388609,p+=947912704,s[c]=d|p}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:l}}function Fr(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Zn(i,-65504,65504),Aa.floatView[0]=i;const e=Aa.uint32View[0],t=e>>23&511;return Aa.baseTable[t]+((e&8388607)>>Aa.shiftTable[t])}function Gd(i){const e=i>>10;return Aa.uint32View[0]=Aa.mantissaTable[Aa.offsetTable[e]+(i&1023)]+Aa.exponentTable[e],Aa.floatView[0]}const t3={toHalfFloat:Fr,fromHalfFloat:Gd},pi=new V,Qm=new Re;class hn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=sp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Qm.fromBufferAttribute(this,t),Qm.applyMatrix3(e),this.setXY(t,Qm.x,Qm.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix3(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ns(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ns(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ns(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ns(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),s=Kt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class n3 extends hn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class i3 extends hn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class r3 extends hn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class s3 extends hn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class aA extends hn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class o3 extends hn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class lA extends hn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class a3 extends hn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Gd(this.array[e*this.itemSize]);return this.normalized&&(t=ns(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=Fr(t),this}getY(e){let t=Gd(this.array[e*this.itemSize+1]);return this.normalized&&(t=ns(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=Fr(t),this}getZ(e){let t=Gd(this.array[e*this.itemSize+2]);return this.normalized&&(t=ns(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=Fr(t),this}getW(e){let t=Gd(this.array[e*this.itemSize+3]);return this.normalized&&(t=ns(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=Fr(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.array[e+0]=Fr(t),this.array[e+1]=Fr(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=Fr(t),this.array[e+1]=Fr(n),this.array[e+2]=Fr(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),s=Kt(s,this.array)),this.array[e+0]=Fr(t),this.array[e+1]=Fr(n),this.array[e+2]=Fr(r),this.array[e+3]=Fr(s),this}}class ht extends hn{constructor(e,t,n){super(new Float32Array(e),t,n)}}class l3 extends hn{constructor(e,t,n){super(new Float64Array(e),t,n)}}let u3=0;const xs=new Rt,Dv=new tn,Nf=new V,es=new io,Sd=new io,Bi=new V;class Ut extends Ia{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:u3++}),this.uuid=rs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($C(e)?lA:aA)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new qt().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xs.makeRotationFromQuaternion(e),this.applyMatrix4(xs),this}rotateX(e){return xs.makeRotationX(e),this.applyMatrix4(xs),this}rotateY(e){return xs.makeRotationY(e),this.applyMatrix4(xs),this}rotateZ(e){return xs.makeRotationZ(e),this.applyMatrix4(xs),this}translate(e,t,n){return xs.makeTranslation(e,t,n),this.applyMatrix4(xs),this}scale(e,t,n){return xs.makeScale(e,t,n),this.applyMatrix4(xs),this}lookAt(e){return Dv.lookAt(e),Dv.updateMatrix(),this.applyMatrix4(Dv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nf).negate(),this.translate(Nf.x,Nf.y,Nf.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ht(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new io);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];es.setFromBufferAttribute(s),this.morphTargetsRelative?(Bi.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(Bi),Bi.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(Bi)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ro);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);return}if(e){const n=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];Sd.setFromBufferAttribute(l),this.morphTargetsRelative?(Bi.addVectors(es.min,Sd.min),es.expandByPoint(Bi),Bi.addVectors(es.max,Sd.max),es.expandByPoint(Bi)):(es.expandByPoint(Sd.min),es.expandByPoint(Sd.max))}es.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)Bi.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Bi));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],c=this.morphTargetsRelative;for(let d=0,p=l.count;d<p;d++)Bi.fromBufferAttribute(l,d),c&&(Nf.fromBufferAttribute(e,d),Bi.add(Nf)),r=Math.max(r,n.distanceToSquared(Bi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,d=[],p=[];for(let k=0;k<l;k++)d[k]=new V,p[k]=new V;const g=new V,v=new V,y=new V,_=new Re,C=new Re,S=new Re,M=new V,T=new V;function b(k,Q,re){g.fromArray(r,k*3),v.fromArray(r,Q*3),y.fromArray(r,re*3),_.fromArray(a,k*2),C.fromArray(a,Q*2),S.fromArray(a,re*2),v.sub(g),y.sub(g),C.sub(_),S.sub(_);const Z=1/(C.x*S.y-S.x*C.y);isFinite(Z)&&(M.copy(v).multiplyScalar(S.y).addScaledVector(y,-C.y).multiplyScalar(Z),T.copy(y).multiplyScalar(C.x).addScaledVector(v,-S.x).multiplyScalar(Z),d[k].add(M),d[Q].add(M),d[re].add(M),p[k].add(T),p[Q].add(T),p[re].add(T))}let B=this.groups;B.length===0&&(B=[{start:0,count:n.length}]);for(let k=0,Q=B.length;k<Q;++k){const re=B[k],Z=re.start,te=re.count;for(let se=Z,ve=Z+te;se<ve;se+=3)b(n[se+0],n[se+1],n[se+2])}const I=new V,F=new V,G=new V,U=new V;function D(k){G.fromArray(s,k*3),U.copy(G);const Q=d[k];I.copy(Q),I.sub(G.multiplyScalar(G.dot(Q))).normalize(),F.crossVectors(U,Q);const Z=F.dot(p[k])<0?-1:1;c[k*4]=I.x,c[k*4+1]=I.y,c[k*4+2]=I.z,c[k*4+3]=Z}for(let k=0,Q=B.length;k<Q;++k){const re=B[k],Z=re.start,te=re.count;for(let se=Z,ve=Z+te;se<ve;se+=3)D(n[se+0]),D(n[se+1]),D(n[se+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new hn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,y=n.count;v<y;v++)n.setXYZ(v,0,0,0);const r=new V,s=new V,a=new V,l=new V,c=new V,d=new V,p=new V,g=new V;if(e)for(let v=0,y=e.count;v<y;v+=3){const _=e.getX(v+0),C=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,C),a.fromBufferAttribute(t,S),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),l.fromBufferAttribute(n,_),c.fromBufferAttribute(n,C),d.fromBufferAttribute(n,S),l.add(p),c.add(p),d.add(p),n.setXYZ(_,l.x,l.y,l.z),n.setXYZ(C,c.x,c.y,c.z),n.setXYZ(S,d.x,d.y,d.z)}else for(let v=0,y=t.count;v<y;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),n.setXYZ(v+0,p.x,p.y,p.z),n.setXYZ(v+1,p.x,p.y,p.z),n.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Bi.fromBufferAttribute(e,t),Bi.normalize(),e.setXYZ(t,Bi.x,Bi.y,Bi.z)}toNonIndexed(){function e(l,c){const d=l.array,p=l.itemSize,g=l.normalized,v=new d.constructor(c.length*p);let y=0,_=0;for(let C=0,S=c.length;C<S;C++){l.isInterleavedBufferAttribute?y=c[C]*l.data.stride+l.offset:y=c[C]*p;for(let M=0;M<p;M++)v[_++]=d[y++]}return new hn(v,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ut,n=this.index.array,r=this.attributes;for(const l in r){const c=r[l],d=e(c,n);t.setAttribute(l,d)}const s=this.morphAttributes;for(const l in s){const c=[],d=s[l];for(let p=0,g=d.length;p<g;p++){const v=d[p],y=e(v,n);c.push(y)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];p.push(y.toJSON(e.data))}p.length>0&&(r[c]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const p=r[d];this.setAttribute(d,p.clone(t))}const s=e.morphAttributes;for(const d in s){const p=[],g=s[d];for(let v=0,y=g.length;v<y;v++)p.push(g[v].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,p=a.length;d<p;d++){const g=a[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _1=new Rt,Ro=new Sh,qm=new ro,M1=new V,Of=new V,kf=new V,Uf=new V,Fv=new V,Zm=new V,$m=new Re,eg=new Re,tg=new Re,S1=new V,w1=new V,C1=new V,ng=new V,ig=new V;class Si extends tn{constructor(e=new Ut,t=new is){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){Zm.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const p=l[c],g=s[c];p!==0&&(Fv.fromBufferAttribute(g,e),a?Zm.addScaledVector(Fv,p):Zm.addScaledVector(Fv.sub(t),p))}t.add(Zm)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),qm.copy(n.boundingSphere),qm.applyMatrix4(s),Ro.copy(e.ray).recast(e.near),qm.containsPoint(Ro.origin)===!1&&(Ro.intersectSphere(qm,M1)===null||Ro.origin.distanceToSquared(M1)>(e.far-e.near)**2))||(_1.copy(s).invert(),Ro.copy(e.ray).applyMatrix4(_1),n.boundingBox!==null&&Ro.intersectsBox(n.boundingBox)===!1))return;let a;const l=n.index,c=n.attributes.position,d=n.attributes.uv,p=n.attributes.uv2,g=n.attributes.normal,v=n.groups,y=n.drawRange;if(l!==null)if(Array.isArray(r))for(let _=0,C=v.length;_<C;_++){const S=v[_],M=r[S.materialIndex],T=Math.max(S.start,y.start),b=Math.min(l.count,Math.min(S.start+S.count,y.start+y.count));for(let B=T,I=b;B<I;B+=3){const F=l.getX(B),G=l.getX(B+1),U=l.getX(B+2);a=rg(this,M,e,Ro,d,p,g,F,G,U),a&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=S.materialIndex,t.push(a))}}else{const _=Math.max(0,y.start),C=Math.min(l.count,y.start+y.count);for(let S=_,M=C;S<M;S+=3){const T=l.getX(S),b=l.getX(S+1),B=l.getX(S+2);a=rg(this,r,e,Ro,d,p,g,T,b,B),a&&(a.faceIndex=Math.floor(S/3),t.push(a))}}else if(c!==void 0)if(Array.isArray(r))for(let _=0,C=v.length;_<C;_++){const S=v[_],M=r[S.materialIndex],T=Math.max(S.start,y.start),b=Math.min(c.count,Math.min(S.start+S.count,y.start+y.count));for(let B=T,I=b;B<I;B+=3){const F=B,G=B+1,U=B+2;a=rg(this,M,e,Ro,d,p,g,F,G,U),a&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=S.materialIndex,t.push(a))}}else{const _=Math.max(0,y.start),C=Math.min(c.count,y.start+y.count);for(let S=_,M=C;S<M;S+=3){const T=S,b=S+1,B=S+2;a=rg(this,r,e,Ro,d,p,g,T,b,B),a&&(a.faceIndex=Math.floor(S/3),t.push(a))}}}}function c3(i,e,t,n,r,s,a,l){let c;if(e.side===gr?c=n.intersectTriangle(a,s,r,!0,l):c=n.intersectTriangle(r,s,a,e.side===Fo,l),c===null)return null;ig.copy(l),ig.applyMatrix4(i.matrixWorld);const d=t.ray.origin.distanceTo(ig);return d<t.near||d>t.far?null:{distance:d,point:ig.clone(),object:i}}function rg(i,e,t,n,r,s,a,l,c,d){i.getVertexPosition(l,Of),i.getVertexPosition(c,kf),i.getVertexPosition(d,Uf);const p=c3(i,e,t,n,Of,kf,Uf,ng);if(p){r&&($m.fromBufferAttribute(r,l),eg.fromBufferAttribute(r,c),tg.fromBufferAttribute(r,d),p.uv=Nr.getInterpolation(ng,Of,kf,Uf,$m,eg,tg,new Re)),s&&($m.fromBufferAttribute(s,l),eg.fromBufferAttribute(s,c),tg.fromBufferAttribute(s,d),p.uv2=Nr.getInterpolation(ng,Of,kf,Uf,$m,eg,tg,new Re)),a&&(S1.fromBufferAttribute(a,l),w1.fromBufferAttribute(a,c),C1.fromBufferAttribute(a,d),p.normal=Nr.getInterpolation(ng,Of,kf,Uf,S1,w1,C1,new V),p.normal.dot(n.direction)>0&&p.normal.multiplyScalar(-1));const g={a:l,b:c,c:d,normal:new V,materialIndex:0};Nr.getNormal(Of,kf,Uf,g.normal),p.face=g}return p}class Hl extends Ut{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const l=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],d=[],p=[],g=[];let v=0,y=0;_("z","y","x",-1,-1,n,t,e,a,s,0),_("z","y","x",1,-1,n,t,-e,a,s,1),_("x","z","y",1,1,e,n,t,r,a,2),_("x","z","y",1,-1,e,n,-t,r,a,3),_("x","y","z",1,-1,e,t,n,r,s,4),_("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(c),this.setAttribute("position",new ht(d,3)),this.setAttribute("normal",new ht(p,3)),this.setAttribute("uv",new ht(g,2));function _(C,S,M,T,b,B,I,F,G,U,D){const k=B/G,Q=I/U,re=B/2,Z=I/2,te=F/2,se=G+1,ve=U+1;let de=0,z=0;const Y=new V;for(let N=0;N<ve;N++){const X=N*Q-Z;for(let ee=0;ee<se;ee++){const oe=ee*k-re;Y[C]=oe*T,Y[S]=X*b,Y[M]=te,d.push(Y.x,Y.y,Y.z),Y[C]=0,Y[S]=0,Y[M]=F>0?1:-1,p.push(Y.x,Y.y,Y.z),g.push(ee/G),g.push(1-N/U),de+=1}}for(let N=0;N<U;N++)for(let X=0;X<G;X++){const ee=v+X+se*N,oe=v+X+se*(N+1),le=v+(X+1)+se*(N+1),Pe=v+(X+1)+se*N;c.push(ee,oe,Pe),c.push(oe,le,Pe),z+=6}l.addGroup(y,z,D),y+=z,v+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gh(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function pr(i){const e={};for(let t=0;t<i.length;t++){const n=gh(i[t]);for(const r in n)e[r]=n[r]}return e}function f3(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function tE(i){return i.getRenderTarget()===null&&i.outputEncoding===Sn?qs:ph}const nE={clone:gh,merge:pr};var h3=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,d3=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Oo extends gi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=h3,this.fragmentShader=d3,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gh(e.uniforms),this.uniformsGroups=f3(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class xp extends tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rt,this.projectionMatrix=new Rt,this.projectionMatrixInverse=new Rt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class On extends xp{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=mh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return mh*2*Math.atan(Math.tan(rc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rc*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,d=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*n/d,r*=a.width/c,n*=a.height/d}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const zf=-90,Gf=1;class uA extends tn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new On(zf,Gf,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new On(zf,Gf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const a=new On(zf,Gf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const l=new On(zf,Gf,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);const c=new On(zf,Gf,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);const d=new On(zf,Gf,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,a,l,c,d]=this.children,p=e.getRenderTarget(),g=e.toneMapping,v=e.xr.enabled;e.toneMapping=$s,e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=y,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(p),e.toneMapping=g,e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class Ap extends bn{constructor(e,t,n,r,s,a,l,c,d,p){e=e!==void 0?e:[],t=t!==void 0?t:Dl,super(e,t,n,r,s,a,l,c,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class cA extends to{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Ap(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Hn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Hl(5,5,5),s=new Oo({name:"CubemapFromEquirect",uniforms:gh(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:gr,blending:Ea});s.uniforms.tEquirect.value=t;const a=new Si(r,s),l=t.minFilter;return t.minFilter===No&&(t.minFilter=Hn),new uA(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}const Nv=new V,p3=new V,m3=new qt;class xa{constructor(e=new V(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Nv.subVectors(n,t).cross(p3.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Nv),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||m3.getNormalMatrix(e),r=this.coplanarPoint(Nv).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ru=new ro,sg=new V;class y0{constructor(e=new xa,t=new xa,n=new xa,r=new xa,s=new xa,a=new xa){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],a=n[2],l=n[3],c=n[4],d=n[5],p=n[6],g=n[7],v=n[8],y=n[9],_=n[10],C=n[11],S=n[12],M=n[13],T=n[14],b=n[15];return t[0].setComponents(l-r,g-c,C-v,b-S).normalize(),t[1].setComponents(l+r,g+c,C+v,b+S).normalize(),t[2].setComponents(l+s,g+d,C+y,b+M).normalize(),t[3].setComponents(l-s,g-d,C-y,b-M).normalize(),t[4].setComponents(l-a,g-p,C-_,b-T).normalize(),t[5].setComponents(l+a,g+p,C+_,b+T).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ru.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ru.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ru)}intersectsSprite(e){return Ru.center.set(0,0,0),Ru.radius=.7071067811865476,Ru.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ru)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(sg.x=r.normal.x>0?e.max.x:e.min.x,sg.y=r.normal.y>0?e.max.y:e.min.y,sg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(sg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function iE(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function g3(i,e){const t=e.isWebGL2,n=new WeakMap;function r(d,p){const g=d.array,v=d.usage,y=i.createBuffer();i.bindBuffer(p,y),i.bufferData(p,g,v),d.onUploadCallback();let _;if(g instanceof Float32Array)_=5126;else if(g instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(g instanceof Int16Array)_=5122;else if(g instanceof Uint32Array)_=5125;else if(g instanceof Int32Array)_=5124;else if(g instanceof Int8Array)_=5120;else if(g instanceof Uint8Array)_=5121;else if(g instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:y,type:_,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function s(d,p,g){const v=p.array,y=p.updateRange;i.bindBuffer(g,d),y.count===-1?i.bufferSubData(g,0,v):(t?i.bufferSubData(g,y.offset*v.BYTES_PER_ELEMENT,v,y.offset,y.count):i.bufferSubData(g,y.offset*v.BYTES_PER_ELEMENT,v.subarray(y.offset,y.offset+y.count)),y.count=-1),p.onUploadCallback()}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const p=n.get(d);p&&(i.deleteBuffer(p.buffer),n.delete(d))}function c(d,p){if(d.isGLBufferAttribute){const v=n.get(d);(!v||v.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=n.get(d);g===void 0?n.set(d,r(d,p)):g.version<d.version&&(s(g.buffer,d,p),g.version=d.version)}return{get:a,remove:l,update:c}}class wh extends Ut{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,l=Math.floor(n),c=Math.floor(r),d=l+1,p=c+1,g=e/l,v=t/c,y=[],_=[],C=[],S=[];for(let M=0;M<p;M++){const T=M*v-a;for(let b=0;b<d;b++){const B=b*g-s;_.push(B,-T,0),C.push(0,0,1),S.push(b/l),S.push(1-M/c)}}for(let M=0;M<c;M++)for(let T=0;T<l;T++){const b=T+d*M,B=T+d*(M+1),I=T+1+d*(M+1),F=T+1+d*M;y.push(b,B,F),y.push(B,I,F)}this.setIndex(y),this.setAttribute("position",new ht(_,3)),this.setAttribute("normal",new ht(C,3)),this.setAttribute("uv",new ht(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wh(e.width,e.height,e.widthSegments,e.heightSegments)}}var v3=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,y3=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,x3=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,A3=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_3=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,M3=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,S3="vec3 transformed = vec3( position );",w3=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,C3=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,E3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,T3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,b3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,P3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,B3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,R3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,L3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,I3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,D3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,F3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,N3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,O3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,k3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,U3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,z3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,G3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,H3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,V3="gl_FragColor = linearToOutputTexel( gl_FragColor );",W3=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,j3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,J3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,X3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,K3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Y3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Q3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,q3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Z3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,eB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,nB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,iB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,sB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oB=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,aB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,uB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,fB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,hB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,gB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,xB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,AB=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_B=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,SB=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,CB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,EB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,TB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,bB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,BB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,RB=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,LB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,FB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,NB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,OB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,UB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,zB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,GB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,HB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,WB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,jB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,JB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,KB=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,YB=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,QB=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ZB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$B=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,eR=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tR=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nR=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iR=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rR=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sR=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oR=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,aR=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,lR=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uR=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_UV2
	attribute vec2 uv2;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cR=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,fR=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hR=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dR=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mR=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vR=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yR=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xR=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,AR=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_R=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SR=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wR=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CR=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ER=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TR=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bR=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PR=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BR=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,RR=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LR=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,IR=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DR=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FR=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NR=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,OR=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kR=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UR=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zR=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,GR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HR=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VR=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,WR=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Xt={alphamap_fragment:v3,alphamap_pars_fragment:y3,alphatest_fragment:x3,alphatest_pars_fragment:A3,aomap_fragment:_3,aomap_pars_fragment:M3,begin_vertex:S3,beginnormal_vertex:w3,bsdfs:C3,iridescence_fragment:E3,bumpmap_pars_fragment:T3,clipping_planes_fragment:b3,clipping_planes_pars_fragment:P3,clipping_planes_pars_vertex:B3,clipping_planes_vertex:R3,color_fragment:L3,color_pars_fragment:I3,color_pars_vertex:D3,color_vertex:F3,common:N3,cube_uv_reflection_fragment:O3,defaultnormal_vertex:k3,displacementmap_pars_vertex:U3,displacementmap_vertex:z3,emissivemap_fragment:G3,emissivemap_pars_fragment:H3,encodings_fragment:V3,encodings_pars_fragment:W3,envmap_fragment:j3,envmap_common_pars_fragment:J3,envmap_pars_fragment:X3,envmap_pars_vertex:K3,envmap_physical_pars_fragment:oB,envmap_vertex:Y3,fog_vertex:Q3,fog_pars_vertex:q3,fog_fragment:Z3,fog_pars_fragment:$3,gradientmap_pars_fragment:eB,lightmap_fragment:tB,lightmap_pars_fragment:nB,lights_lambert_fragment:iB,lights_lambert_pars_fragment:rB,lights_pars_begin:sB,lights_toon_fragment:aB,lights_toon_pars_fragment:lB,lights_phong_fragment:uB,lights_phong_pars_fragment:cB,lights_physical_fragment:fB,lights_physical_pars_fragment:hB,lights_fragment_begin:dB,lights_fragment_maps:pB,lights_fragment_end:mB,logdepthbuf_fragment:gB,logdepthbuf_pars_fragment:vB,logdepthbuf_pars_vertex:yB,logdepthbuf_vertex:xB,map_fragment:AB,map_pars_fragment:_B,map_particle_fragment:MB,map_particle_pars_fragment:SB,metalnessmap_fragment:wB,metalnessmap_pars_fragment:CB,morphcolor_vertex:EB,morphnormal_vertex:TB,morphtarget_pars_vertex:bB,morphtarget_vertex:PB,normal_fragment_begin:BB,normal_fragment_maps:RB,normal_pars_fragment:LB,normal_pars_vertex:IB,normal_vertex:DB,normalmap_pars_fragment:FB,clearcoat_normal_fragment_begin:NB,clearcoat_normal_fragment_maps:OB,clearcoat_pars_fragment:kB,iridescence_pars_fragment:UB,output_fragment:zB,packing:GB,premultiplied_alpha_fragment:HB,project_vertex:VB,dithering_fragment:WB,dithering_pars_fragment:jB,roughnessmap_fragment:JB,roughnessmap_pars_fragment:XB,shadowmap_pars_fragment:KB,shadowmap_pars_vertex:YB,shadowmap_vertex:QB,shadowmask_pars_fragment:qB,skinbase_vertex:ZB,skinning_pars_vertex:$B,skinning_vertex:eR,skinnormal_vertex:tR,specularmap_fragment:nR,specularmap_pars_fragment:iR,tonemapping_fragment:rR,tonemapping_pars_fragment:sR,transmission_fragment:oR,transmission_pars_fragment:aR,uv_pars_fragment:lR,uv_pars_vertex:uR,uv_vertex:cR,worldpos_vertex:fR,background_vert:hR,background_frag:dR,backgroundCube_vert:pR,backgroundCube_frag:mR,cube_vert:gR,cube_frag:vR,depth_vert:yR,depth_frag:xR,distanceRGBA_vert:AR,distanceRGBA_frag:_R,equirect_vert:MR,equirect_frag:SR,linedashed_vert:wR,linedashed_frag:CR,meshbasic_vert:ER,meshbasic_frag:TR,meshlambert_vert:bR,meshlambert_frag:PR,meshmatcap_vert:BR,meshmatcap_frag:RR,meshnormal_vert:LR,meshnormal_frag:IR,meshphong_vert:DR,meshphong_frag:FR,meshphysical_vert:NR,meshphysical_frag:OR,meshtoon_vert:kR,meshtoon_frag:UR,points_vert:zR,points_frag:GR,shadow_vert:HR,shadow_frag:VR,sprite_vert:WR,sprite_frag:jR},Qe={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new qt},alphaMap:{value:null},alphaMapTransform:{value:new qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new qt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new qt},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new qt},alphaMap:{value:null},alphaTest:{value:0}}},Zs={basic:{uniforms:pr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:pr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:pr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:pr([Qe.common,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.roughnessmap,Qe.metalnessmap,Qe.fog,Qe.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:pr([Qe.common,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.gradientmap,Qe.fog,Qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:pr([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:pr([Qe.points,Qe.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:pr([Qe.common,Qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:pr([Qe.common,Qe.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:pr([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:pr([Qe.sprite,Qe.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:pr([Qe.common,Qe.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:pr([Qe.lights,Qe.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};Zs.physical={uniforms:pr([Zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new qt},clearcoatNormalScale:{value:new Re(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new qt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new qt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new qt},transmissionSamplerSize:{value:new Re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new qt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new qt}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const og={r:0,b:0,g:0};function JR(i,e,t,n,r,s,a){const l=new et(0);let c=s===!0?0:1,d,p,g=null,v=0,y=null;function _(S,M){let T=!1,b=M.isScene===!0?M.background:null;b&&b.isTexture&&(b=(M.backgroundBlurriness>0?t:e).get(b));const B=i.xr,I=B.getSession&&B.getSession();I&&I.environmentBlendMode==="additive"&&(b=null),b===null?C(l,c):b&&b.isColor&&(C(b,1),T=!0),(i.autoClear||T)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Mh)?(p===void 0&&(p=new Si(new Hl(1,1,1),new Oo({name:"BackgroundCubeMaterial",uniforms:gh(Zs.backgroundCube.uniforms),vertexShader:Zs.backgroundCube.vertexShader,fragmentShader:Zs.backgroundCube.fragmentShader,side:gr,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(F,G,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),p.material.uniforms.envMap.value=b,p.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,p.material.toneMapped=b.encoding!==Sn,(g!==b||v!==b.version||y!==i.toneMapping)&&(p.material.needsUpdate=!0,g=b,v=b.version,y=i.toneMapping),p.layers.enableAll(),S.unshift(p,p.geometry,p.material,0,0,null)):b&&b.isTexture&&(d===void 0&&(d=new Si(new wh(2,2),new Oo({name:"BackgroundMaterial",uniforms:gh(Zs.background.uniforms),vertexShader:Zs.background.vertexShader,fragmentShader:Zs.background.fragmentShader,side:Fo,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=b,d.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,d.material.toneMapped=b.encoding!==Sn,b.matrixAutoUpdate===!0&&b.updateMatrix(),d.material.uniforms.uvTransform.value.copy(b.matrix),(g!==b||v!==b.version||y!==i.toneMapping)&&(d.material.needsUpdate=!0,g=b,v=b.version,y=i.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null))}function C(S,M){S.getRGB(og,tE(i)),n.buffers.color.setClear(og.r,og.g,og.b,M,a)}return{getClearColor:function(){return l},setClearColor:function(S,M=1){l.set(S),c=M,C(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(S){c=S,C(l,c)},render:_}}function XR(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||s!==null,l={},c=S(null);let d=c,p=!1;function g(te,se,ve,de,z){let Y=!1;if(a){const N=C(de,ve,se);d!==N&&(d=N,y(d.object)),Y=M(te,de,ve,z),Y&&T(te,de,ve,z)}else{const N=se.wireframe===!0;(d.geometry!==de.id||d.program!==ve.id||d.wireframe!==N)&&(d.geometry=de.id,d.program=ve.id,d.wireframe=N,Y=!0)}z!==null&&t.update(z,34963),(Y||p)&&(p=!1,U(te,se,ve,de),z!==null&&i.bindBuffer(34963,t.get(z).buffer))}function v(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}function y(te){return n.isWebGL2?i.bindVertexArray(te):s.bindVertexArrayOES(te)}function _(te){return n.isWebGL2?i.deleteVertexArray(te):s.deleteVertexArrayOES(te)}function C(te,se,ve){const de=ve.wireframe===!0;let z=l[te.id];z===void 0&&(z={},l[te.id]=z);let Y=z[se.id];Y===void 0&&(Y={},z[se.id]=Y);let N=Y[de];return N===void 0&&(N=S(v()),Y[de]=N),N}function S(te){const se=[],ve=[],de=[];for(let z=0;z<r;z++)se[z]=0,ve[z]=0,de[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:ve,attributeDivisors:de,object:te,attributes:{},index:null}}function M(te,se,ve,de){const z=d.attributes,Y=se.attributes;let N=0;const X=ve.getAttributes();for(const ee in X)if(X[ee].location>=0){const le=z[ee];let Pe=Y[ee];if(Pe===void 0&&(ee==="instanceMatrix"&&te.instanceMatrix&&(Pe=te.instanceMatrix),ee==="instanceColor"&&te.instanceColor&&(Pe=te.instanceColor)),le===void 0||le.attribute!==Pe||Pe&&le.data!==Pe.data)return!0;N++}return d.attributesNum!==N||d.index!==de}function T(te,se,ve,de){const z={},Y=se.attributes;let N=0;const X=ve.getAttributes();for(const ee in X)if(X[ee].location>=0){let le=Y[ee];le===void 0&&(ee==="instanceMatrix"&&te.instanceMatrix&&(le=te.instanceMatrix),ee==="instanceColor"&&te.instanceColor&&(le=te.instanceColor));const Pe={};Pe.attribute=le,le&&le.data&&(Pe.data=le.data),z[ee]=Pe,N++}d.attributes=z,d.attributesNum=N,d.index=de}function b(){const te=d.newAttributes;for(let se=0,ve=te.length;se<ve;se++)te[se]=0}function B(te){I(te,0)}function I(te,se){const ve=d.newAttributes,de=d.enabledAttributes,z=d.attributeDivisors;ve[te]=1,de[te]===0&&(i.enableVertexAttribArray(te),de[te]=1),z[te]!==se&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](te,se),z[te]=se)}function F(){const te=d.newAttributes,se=d.enabledAttributes;for(let ve=0,de=se.length;ve<de;ve++)se[ve]!==te[ve]&&(i.disableVertexAttribArray(ve),se[ve]=0)}function G(te,se,ve,de,z,Y){n.isWebGL2===!0&&(ve===5124||ve===5125)?i.vertexAttribIPointer(te,se,ve,z,Y):i.vertexAttribPointer(te,se,ve,de,z,Y)}function U(te,se,ve,de){if(n.isWebGL2===!1&&(te.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const z=de.attributes,Y=ve.getAttributes(),N=se.defaultAttributeValues;for(const X in Y){const ee=Y[X];if(ee.location>=0){let oe=z[X];if(oe===void 0&&(X==="instanceMatrix"&&te.instanceMatrix&&(oe=te.instanceMatrix),X==="instanceColor"&&te.instanceColor&&(oe=te.instanceColor)),oe!==void 0){const le=oe.normalized,Pe=oe.itemSize,Ce=t.get(oe);if(Ce===void 0)continue;const ce=Ce.buffer,Ve=Ce.type,qe=Ce.bytesPerElement;if(oe.isInterleavedBufferAttribute){const Fe=oe.data,Oe=Fe.stride,Be=oe.offset;if(Fe.isInstancedInterleavedBuffer){for(let Ae=0;Ae<ee.locationSize;Ae++)I(ee.location+Ae,Fe.meshPerAttribute);te.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let Ae=0;Ae<ee.locationSize;Ae++)B(ee.location+Ae);i.bindBuffer(34962,ce);for(let Ae=0;Ae<ee.locationSize;Ae++)G(ee.location+Ae,Pe/ee.locationSize,Ve,le,Oe*qe,(Be+Pe/ee.locationSize*Ae)*qe)}else{if(oe.isInstancedBufferAttribute){for(let Fe=0;Fe<ee.locationSize;Fe++)I(ee.location+Fe,oe.meshPerAttribute);te.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Fe=0;Fe<ee.locationSize;Fe++)B(ee.location+Fe);i.bindBuffer(34962,ce);for(let Fe=0;Fe<ee.locationSize;Fe++)G(ee.location+Fe,Pe/ee.locationSize,Ve,le,Pe*qe,Pe/ee.locationSize*Fe*qe)}}else if(N!==void 0){const le=N[X];if(le!==void 0)switch(le.length){case 2:i.vertexAttrib2fv(ee.location,le);break;case 3:i.vertexAttrib3fv(ee.location,le);break;case 4:i.vertexAttrib4fv(ee.location,le);break;default:i.vertexAttrib1fv(ee.location,le)}}}}F()}function D(){re();for(const te in l){const se=l[te];for(const ve in se){const de=se[ve];for(const z in de)_(de[z].object),delete de[z];delete se[ve]}delete l[te]}}function k(te){if(l[te.id]===void 0)return;const se=l[te.id];for(const ve in se){const de=se[ve];for(const z in de)_(de[z].object),delete de[z];delete se[ve]}delete l[te.id]}function Q(te){for(const se in l){const ve=l[se];if(ve[te.id]===void 0)continue;const de=ve[te.id];for(const z in de)_(de[z].object),delete de[z];delete ve[te.id]}}function re(){Z(),p=!0,d!==c&&(d=c,y(d.object))}function Z(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:g,reset:re,resetDefaultState:Z,dispose:D,releaseStatesOfGeometry:k,releaseStatesOfProgram:Q,initAttributes:b,enableAttribute:B,disableUnusedAttributes:F}}function KR(i,e,t,n){const r=n.isWebGL2;let s;function a(d){s=d}function l(d,p){i.drawArrays(s,d,p),t.update(p,s,1)}function c(d,p,g){if(g===0)return;let v,y;if(r)v=i,y="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,d,p,g),t.update(p,s,g)}this.setMode=a,this.render=l,this.renderInstances=c}function YR(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const G=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(G){if(G==="highp"){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";G="mediump"}return G==="mediump"&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext";let l=t.precision!==void 0?t.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const d=a||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,g=i.getParameter(34930),v=i.getParameter(35660),y=i.getParameter(3379),_=i.getParameter(34076),C=i.getParameter(34921),S=i.getParameter(36347),M=i.getParameter(36348),T=i.getParameter(36349),b=v>0,B=a||e.has("OES_texture_float"),I=b&&B,F=a?i.getParameter(36183):0;return{isWebGL2:a,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:p,maxTextures:g,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:_,maxAttributes:C,maxVertexUniforms:S,maxVaryings:M,maxFragmentUniforms:T,vertexTextures:b,floatFragmentTextures:B,floatVertexTextures:I,maxSamples:F}}function QR(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new xa,l=new qt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const y=g.length!==0||v||n!==0||r;return r=v,n=g.length,y},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,v){t=p(g,v,0)},this.setState=function(g,v,y){const _=g.clippingPlanes,C=g.clipIntersection,S=g.clipShadows,M=i.get(g);if(!r||_===null||_.length===0||s&&!S)s?p(null):d();else{const T=s?0:n,b=T*4;let B=M.clippingState||null;c.value=B,B=p(_,v,b,y);for(let I=0;I!==b;++I)B[I]=t[I];M.clippingState=B,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=T}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(g,v,y,_){const C=g!==null?g.length:0;let S=null;if(C!==0){if(S=c.value,_!==!0||S===null){const M=y+C*4,T=v.matrixWorldInverse;l.getNormalMatrix(T),(S===null||S.length<M)&&(S=new Float32Array(M));for(let b=0,B=y;b!==C;++b,B+=4)a.copy(g[b]).applyMatrix4(T,l),a.normal.toArray(S,B),S[B+3]=a.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,S}}function qR(i){let e=new WeakMap;function t(a,l){return l===tp?a.mapping=Dl:l===np&&(a.mapping=Fl),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===tp||l===np)if(e.has(a)){const c=e.get(a).texture;return t(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const d=new cA(c.height/2);return d.fromEquirectangularTexture(i,a),e.set(a,d),a.addEventListener("dispose",r),t(d.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class eo extends xp{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,l=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,a=s+d*this.view.width,l-=p*this.view.offsetY,c=l-p*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const $f=4,E1=[.125,.215,.35,.446,.526,.582],Ju=20,Ov=new eo,T1=new et;let kv=null;const Hu=(1+Math.sqrt(5))/2,Hf=1/Hu,b1=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,Hu,Hf),new V(0,Hu,-Hf),new V(Hf,0,Hu),new V(-Hf,0,Hu),new V(Hu,Hf,0),new V(-Hu,Hf,0)];class gx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){kv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=R1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=B1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kv),e.scissorTest=!1,ag(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Dl||e.mapping===Fl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kv=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Hn,minFilter:Hn,generateMipmaps:!1,type:hh,format:Or,encoding:Ra,depthBuffer:!1},r=P1(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=P1(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ZR(s)),this._blurMaterial=$R(s,e,t)}return r}_compileMaterial(e){const t=new Si(this._lodPlanes[0],e);this._renderer.compile(t,Ov)}_sceneToCubeUV(e,t,n,r){const l=new On(90,1,t,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,g=p.autoClear,v=p.toneMapping;p.getClearColor(T1),p.toneMapping=$s,p.autoClear=!1;const y=new is({name:"PMREM.Background",side:gr,depthWrite:!1,depthTest:!1}),_=new Si(new Hl,y);let C=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,C=!0):(y.color.copy(T1),C=!0);for(let M=0;M<6;M++){const T=M%3;T===0?(l.up.set(0,c[M],0),l.lookAt(d[M],0,0)):T===1?(l.up.set(0,0,c[M]),l.lookAt(0,d[M],0)):(l.up.set(0,c[M],0),l.lookAt(0,0,d[M]));const b=this._cubeSize;ag(r,T*b,M>2?b:0,b,b),p.setRenderTarget(r),C&&p.render(_,l),p.render(e,l)}_.geometry.dispose(),_.material.dispose(),p.toneMapping=v,p.autoClear=g,e.background=S}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Dl||e.mapping===Fl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=R1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=B1());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Si(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;ag(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(a,Ov)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=b1[(r-1)%b1.length];this._blur(e,r-1,r,s,a)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,l){const c=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Si(this._lodPlanes[r],d),v=d.uniforms,y=this._sizeLods[n]-1,_=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*Ju-1),C=s/_,S=isFinite(s)?1+Math.floor(p*C):Ju;S>Ju&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Ju}`);const M=[];let T=0;for(let G=0;G<Ju;++G){const U=G/C,D=Math.exp(-U*U/2);M.push(D),G===0?T+=D:G<S&&(T+=2*D)}for(let G=0;G<M.length;G++)M[G]=M[G]/T;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=M,v.latitudinal.value=a==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:b}=this;v.dTheta.value=_,v.mipInt.value=b-n;const B=this._sizeLods[r],I=3*B*(r>b-$f?r-b+$f:0),F=4*(this._cubeSize-B);ag(t,I,F,3*B,2*B),c.setRenderTarget(t),c.render(g,Ov)}}function ZR(i){const e=[],t=[],n=[];let r=i;const s=i-$f+1+E1.length;for(let a=0;a<s;a++){const l=Math.pow(2,r);t.push(l);let c=1/l;a>i-$f?c=E1[a-i+$f-1]:a===0&&(c=0),n.push(c);const d=1/(l-2),p=-d,g=1+d,v=[p,p,g,p,g,g,p,p,g,g,p,g],y=6,_=6,C=3,S=2,M=1,T=new Float32Array(C*_*y),b=new Float32Array(S*_*y),B=new Float32Array(M*_*y);for(let F=0;F<y;F++){const G=F%3*2/3-1,U=F>2?0:-1,D=[G,U,0,G+2/3,U,0,G+2/3,U+1,0,G,U,0,G+2/3,U+1,0,G,U+1,0];T.set(D,C*_*F),b.set(v,S*_*F);const k=[F,F,F,F,F,F];B.set(k,M*_*F)}const I=new Ut;I.setAttribute("position",new hn(T,C)),I.setAttribute("uv",new hn(b,S)),I.setAttribute("faceIndex",new hn(B,M)),e.push(I),r>$f&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function P1(i,e,t){const n=new to(i,e,t);return n.texture.mapping=Mh,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ag(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function $R(i,e,t){const n=new Float32Array(Ju),r=new V(0,1,0);return new Oo({name:"SphericalGaussianBlur",defines:{n:Ju,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ea,depthTest:!1,depthWrite:!1})}function B1(){return new Oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ea,depthTest:!1,depthWrite:!1})}function R1(){return new Oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ea,depthTest:!1,depthWrite:!1})}function fA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eL(i){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const c=l.mapping,d=c===tp||c===np,p=c===Dl||c===Fl;if(d||p)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let g=e.get(l);return t===null&&(t=new gx(i)),g=d?t.fromEquirectangular(l,g):t.fromCubemap(l,g),e.set(l,g),g.texture}else{if(e.has(l))return e.get(l).texture;{const g=l.image;if(d&&g&&g.height>0||p&&g&&r(g)){t===null&&(t=new gx(i));const v=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,v),l.addEventListener("dispose",s),v.texture}else return null}}}return l}function r(l){let c=0;const d=6;for(let p=0;p<d;p++)l[p]!==void 0&&c++;return c===d}function s(l){const c=l.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function tL(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function nL(i,e,t,n){const r={},s=new WeakMap;function a(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);v.removeEventListener("dispose",a),delete r[v.id];const y=s.get(v);y&&(e.remove(y),s.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function c(g){const v=g.attributes;for(const _ in v)e.update(v[_],34962);const y=g.morphAttributes;for(const _ in y){const C=y[_];for(let S=0,M=C.length;S<M;S++)e.update(C[S],34962)}}function d(g){const v=[],y=g.index,_=g.attributes.position;let C=0;if(y!==null){const T=y.array;C=y.version;for(let b=0,B=T.length;b<B;b+=3){const I=T[b+0],F=T[b+1],G=T[b+2];v.push(I,F,F,G,G,I)}}else{const T=_.array;C=_.version;for(let b=0,B=T.length/3-1;b<B;b+=3){const I=b+0,F=b+1,G=b+2;v.push(I,F,F,G,G,I)}}const S=new($C(v)?lA:aA)(v,1);S.version=C;const M=s.get(g);M&&e.remove(M),s.set(g,S)}function p(g){const v=s.get(g);if(v){const y=g.index;y!==null&&v.version<y.version&&d(g)}else d(g);return s.get(g)}return{get:l,update:c,getWireframeAttribute:p}}function iL(i,e,t,n){const r=n.isWebGL2;let s;function a(v){s=v}let l,c;function d(v){l=v.type,c=v.bytesPerElement}function p(v,y){i.drawElements(s,y,l,v*c),t.update(y,s,1)}function g(v,y,_){if(_===0)return;let C,S;if(r)C=i,S="drawElementsInstanced";else if(C=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",C===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}C[S](s,y,l,v*c,_),t.update(y,s,_)}this.setMode=a,this.setIndex=d,this.render=p,this.renderInstances=g}function rL(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(s/3);break;case 1:t.lines+=l*(s/2);break;case 3:t.lines+=l*(s-1);break;case 2:t.lines+=l*s;break;case 0:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function sL(i,e){return i[0]-e[0]}function oL(i,e){return Math.abs(e[1])-Math.abs(i[1])}function aL(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,a=new vn,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function c(d,p,g){const v=d.morphTargetInfluences;if(e.isWebGL2===!0){const _=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,C=_!==void 0?_.length:0;let S=s.get(p);if(S===void 0||S.count!==C){let se=function(){Z.dispose(),s.delete(p),p.removeEventListener("dispose",se)};var y=se;S!==void 0&&S.texture.dispose();const b=p.morphAttributes.position!==void 0,B=p.morphAttributes.normal!==void 0,I=p.morphAttributes.color!==void 0,F=p.morphAttributes.position||[],G=p.morphAttributes.normal||[],U=p.morphAttributes.color||[];let D=0;b===!0&&(D=1),B===!0&&(D=2),I===!0&&(D=3);let k=p.attributes.position.count*D,Q=1;k>e.maxTextureSize&&(Q=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const re=new Float32Array(k*Q*4*C),Z=new v0(re,k,Q,C);Z.type=Sa,Z.needsUpdate=!0;const te=D*4;for(let ve=0;ve<C;ve++){const de=F[ve],z=G[ve],Y=U[ve],N=k*Q*4*ve;for(let X=0;X<de.count;X++){const ee=X*te;b===!0&&(a.fromBufferAttribute(de,X),re[N+ee+0]=a.x,re[N+ee+1]=a.y,re[N+ee+2]=a.z,re[N+ee+3]=0),B===!0&&(a.fromBufferAttribute(z,X),re[N+ee+4]=a.x,re[N+ee+5]=a.y,re[N+ee+6]=a.z,re[N+ee+7]=0),I===!0&&(a.fromBufferAttribute(Y,X),re[N+ee+8]=a.x,re[N+ee+9]=a.y,re[N+ee+10]=a.z,re[N+ee+11]=Y.itemSize===4?a.w:1)}}S={count:C,texture:Z,size:new Re(k,Q)},s.set(p,S),p.addEventListener("dispose",se)}let M=0;for(let b=0;b<v.length;b++)M+=v[b];const T=p.morphTargetsRelative?1:1-M;g.getUniforms().setValue(i,"morphTargetBaseInfluence",T),g.getUniforms().setValue(i,"morphTargetInfluences",v),g.getUniforms().setValue(i,"morphTargetsTexture",S.texture,t),g.getUniforms().setValue(i,"morphTargetsTextureSize",S.size)}else{const _=v===void 0?0:v.length;let C=n[p.id];if(C===void 0||C.length!==_){C=[];for(let B=0;B<_;B++)C[B]=[B,0];n[p.id]=C}for(let B=0;B<_;B++){const I=C[B];I[0]=B,I[1]=v[B]}C.sort(oL);for(let B=0;B<8;B++)B<_&&C[B][1]?(l[B][0]=C[B][0],l[B][1]=C[B][1]):(l[B][0]=Number.MAX_SAFE_INTEGER,l[B][1]=0);l.sort(sL);const S=p.morphAttributes.position,M=p.morphAttributes.normal;let T=0;for(let B=0;B<8;B++){const I=l[B],F=I[0],G=I[1];F!==Number.MAX_SAFE_INTEGER&&G?(S&&p.getAttribute("morphTarget"+B)!==S[F]&&p.setAttribute("morphTarget"+B,S[F]),M&&p.getAttribute("morphNormal"+B)!==M[F]&&p.setAttribute("morphNormal"+B,M[F]),r[B]=G,T+=G):(S&&p.hasAttribute("morphTarget"+B)===!0&&p.deleteAttribute("morphTarget"+B),M&&p.hasAttribute("morphNormal"+B)===!0&&p.deleteAttribute("morphNormal"+B),r[B]=0)}const b=p.morphTargetsRelative?1:1-T;g.getUniforms().setValue(i,"morphTargetBaseInfluence",b),g.getUniforms().setValue(i,"morphTargetInfluences",r)}}return{update:c}}function lL(i,e,t,n){let r=new WeakMap;function s(c){const d=n.render.frame,p=c.geometry,g=e.get(c,p);return r.get(g)!==d&&(e.update(g),r.set(g,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),t.update(c.instanceMatrix,34962),c.instanceColor!==null&&t.update(c.instanceColor,34962)),g}function a(){r=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:a}}const rE=new bn,sE=new v0,oE=new oA,aE=new Ap,L1=[],I1=[],D1=new Float32Array(16),F1=new Float32Array(9),N1=new Float32Array(4);function Ch(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=L1[r];if(s===void 0&&(s=new Float32Array(r),L1[r]=s),e!==0){n.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=t,i[a].toArray(s,l)}return s}function wi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Ci(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function x0(i,e){let t=I1[e];t===void 0&&(t=new Int32Array(e),I1[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function uL(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function cL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;i.uniform2fv(this.addr,e),Ci(t,e)}}function fL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(wi(t,e))return;i.uniform3fv(this.addr,e),Ci(t,e)}}function hL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;i.uniform4fv(this.addr,e),Ci(t,e)}}function dL(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(wi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Ci(t,e)}else{if(wi(t,n))return;N1.set(n),i.uniformMatrix2fv(this.addr,!1,N1),Ci(t,n)}}function pL(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(wi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Ci(t,e)}else{if(wi(t,n))return;F1.set(n),i.uniformMatrix3fv(this.addr,!1,F1),Ci(t,n)}}function mL(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(wi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Ci(t,e)}else{if(wi(t,n))return;D1.set(n),i.uniformMatrix4fv(this.addr,!1,D1),Ci(t,n)}}function gL(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function vL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;i.uniform2iv(this.addr,e),Ci(t,e)}}function yL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wi(t,e))return;i.uniform3iv(this.addr,e),Ci(t,e)}}function xL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;i.uniform4iv(this.addr,e),Ci(t,e)}}function AL(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function _L(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;i.uniform2uiv(this.addr,e),Ci(t,e)}}function ML(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wi(t,e))return;i.uniform3uiv(this.addr,e),Ci(t,e)}}function SL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;i.uniform4uiv(this.addr,e),Ci(t,e)}}function wL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||rE,r)}function CL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||oE,r)}function EL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||aE,r)}function TL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||sE,r)}function bL(i){switch(i){case 5126:return uL;case 35664:return cL;case 35665:return fL;case 35666:return hL;case 35674:return dL;case 35675:return pL;case 35676:return mL;case 5124:case 35670:return gL;case 35667:case 35671:return vL;case 35668:case 35672:return yL;case 35669:case 35673:return xL;case 5125:return AL;case 36294:return _L;case 36295:return ML;case 36296:return SL;case 35678:case 36198:case 36298:case 36306:case 35682:return wL;case 35679:case 36299:case 36307:return CL;case 35680:case 36300:case 36308:case 36293:return EL;case 36289:case 36303:case 36311:case 36292:return TL}}function PL(i,e){i.uniform1fv(this.addr,e)}function BL(i,e){const t=Ch(e,this.size,2);i.uniform2fv(this.addr,t)}function RL(i,e){const t=Ch(e,this.size,3);i.uniform3fv(this.addr,t)}function LL(i,e){const t=Ch(e,this.size,4);i.uniform4fv(this.addr,t)}function IL(i,e){const t=Ch(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function DL(i,e){const t=Ch(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function FL(i,e){const t=Ch(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function NL(i,e){i.uniform1iv(this.addr,e)}function OL(i,e){i.uniform2iv(this.addr,e)}function kL(i,e){i.uniform3iv(this.addr,e)}function UL(i,e){i.uniform4iv(this.addr,e)}function zL(i,e){i.uniform1uiv(this.addr,e)}function GL(i,e){i.uniform2uiv(this.addr,e)}function HL(i,e){i.uniform3uiv(this.addr,e)}function VL(i,e){i.uniform4uiv(this.addr,e)}function WL(i,e,t){const n=this.cache,r=e.length,s=x0(t,r);wi(n,s)||(i.uniform1iv(this.addr,s),Ci(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||rE,s[a])}function jL(i,e,t){const n=this.cache,r=e.length,s=x0(t,r);wi(n,s)||(i.uniform1iv(this.addr,s),Ci(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||oE,s[a])}function JL(i,e,t){const n=this.cache,r=e.length,s=x0(t,r);wi(n,s)||(i.uniform1iv(this.addr,s),Ci(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||aE,s[a])}function XL(i,e,t){const n=this.cache,r=e.length,s=x0(t,r);wi(n,s)||(i.uniform1iv(this.addr,s),Ci(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||sE,s[a])}function KL(i){switch(i){case 5126:return PL;case 35664:return BL;case 35665:return RL;case 35666:return LL;case 35674:return IL;case 35675:return DL;case 35676:return FL;case 5124:case 35670:return NL;case 35667:case 35671:return OL;case 35668:case 35672:return kL;case 35669:case 35673:return UL;case 5125:return zL;case 36294:return GL;case 36295:return HL;case 36296:return VL;case 35678:case 36198:case 36298:case 36306:case 35682:return WL;case 35679:case 36299:case 36307:return jL;case 35680:case 36300:case 36308:case 36293:return JL;case 36289:case 36303:case 36311:case 36292:return XL}}class YL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=bL(t.type)}}class QL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=KL(t.type)}}class qL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const l=r[s];l.setValue(e,t[l.id],n)}}}const Uv=/(\w+)(\])?(\[|\.)?/g;function O1(i,e){i.seq.push(e),i.map[e.id]=e}function ZL(i,e,t){const n=i.name,r=n.length;for(Uv.lastIndex=0;;){const s=Uv.exec(n),a=Uv.lastIndex;let l=s[1];const c=s[2]==="]",d=s[3];if(c&&(l=l|0),d===void 0||d==="["&&a+2===r){O1(t,d===void 0?new YL(l,i,e):new QL(l,i,e));break}else{let g=t.map[l];g===void 0&&(g=new qL(l),O1(t,g)),t=g}}}class jg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);ZL(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const l=t[s],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function k1(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}let $L=0;function eI(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}function tI(i){switch(i){case Ra:return["Linear","( value )"];case Sn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}function U1(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+eI(i.getShaderSource(e),a)}else return r}function nI(i,e){const t=tI(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function iI(i,e){let t;switch(e){case wC:t="Linear";break;case CC:t="Reinhard";break;case EC:t="OptimizedCineon";break;case Zx:t="ACESFilmic";break;case TC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function rI(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hd).join(`
`)}function sI(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function oI(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:l}}return t}function Hd(i){return i!==""}function z1(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function G1(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const aI=/^[ \t]*#include +<([\w\d./]+)>/gm;function vx(i){return i.replace(aI,lI)}function lI(i,e){const t=Xt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return vx(t)}const uI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function H1(i){return i.replace(uI,cI)}function cI(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function V1(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fI(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===d0?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Wd?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ku&&(e="SHADOWMAP_TYPE_VSM"),e}function hI(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Dl:case Fl:e="ENVMAP_TYPE_CUBE";break;case Mh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function dI(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Fl:e="ENVMAP_MODE_REFRACTION";break}return e}function pI(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case yp:e="ENVMAP_BLENDING_MULTIPLY";break;case MC:e="ENVMAP_BLENDING_MIX";break;case SC:e="ENVMAP_BLENDING_ADD";break}return e}function mI(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function gI(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,l=t.fragmentShader;const c=fI(t),d=hI(t),p=dI(t),g=pI(t),v=mI(t),y=t.isWebGL2?"":rI(t),_=sI(s),C=r.createProgram();let S,M,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=[_].filter(Hd).join(`
`),S.length>0&&(S+=`
`),M=[y,_].filter(Hd).join(`
`),M.length>0&&(M+=`
`)):(S=[V1(t),"#define SHADER_NAME "+t.shaderName,_,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hd).join(`
`),M=[y,V1(t),"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$s?"#define TONE_MAPPING":"",t.toneMapping!==$s?Xt.tonemapping_pars_fragment:"",t.toneMapping!==$s?iI("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Xt.encodings_pars_fragment,nI("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Hd).join(`
`)),a=vx(a),a=z1(a,t),a=G1(a,t),l=vx(l),l=z1(l,t),l=G1(l,t),a=H1(a),l=H1(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,S=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,M=["#define varying in",t.glslVersion===px?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===px?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const b=T+S+a,B=T+M+l,I=k1(r,35633,b),F=k1(r,35632,B);if(r.attachShader(C,I),r.attachShader(C,F),t.index0AttributeName!==void 0?r.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(C,0,"position"),r.linkProgram(C),i.debug.checkShaderErrors){const D=r.getProgramInfoLog(C).trim(),k=r.getShaderInfoLog(I).trim(),Q=r.getShaderInfoLog(F).trim();let re=!0,Z=!0;if(r.getProgramParameter(C,35714)===!1)if(re=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,C,I,F);else{const te=U1(r,I,"vertex"),se=U1(r,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(C,35715)+`

Program Info Log: `+D+`
`+te+`
`+se)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(k===""||Q==="")&&(Z=!1);Z&&(this.diagnostics={runnable:re,programLog:D,vertexShader:{log:k,prefix:S},fragmentShader:{log:Q,prefix:M}})}r.deleteShader(I),r.deleteShader(F);let G;this.getUniforms=function(){return G===void 0&&(G=new jg(r,C)),G};let U;return this.getAttributes=function(){return U===void 0&&(U=oI(r,C)),U},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(C),this.program=void 0},this.name=t.shaderName,this.id=$L++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=I,this.fragmentShader=F,this}let vI=0;class yI{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new xI(e),t.set(e,n)),n}}class xI{constructor(e){this.id=vI++,this.code=e,this.usedTimes=0}}function AI(i,e,t,n,r,s,a){const l=new sc,c=new yI,d=[],p=r.isWebGL2,g=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(D){return D===1?"uv2":"uv"}function S(D,k,Q,re,Z){const te=re.fog,se=Z.geometry,ve=D.isMeshStandardMaterial?re.environment:null,de=(D.isMeshStandardMaterial?t:e).get(D.envMap||ve),z=de&&de.mapping===Mh?de.image.height:null,Y=_[D.type];D.precision!==null&&(y=r.getMaxPrecision(D.precision),y!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",y,"instead."));const N=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,X=N!==void 0?N.length:0;let ee=0;se.morphAttributes.position!==void 0&&(ee=1),se.morphAttributes.normal!==void 0&&(ee=2),se.morphAttributes.color!==void 0&&(ee=3);let oe,le,Pe,Ce;if(Y){const Xe=Zs[Y];oe=Xe.vertexShader,le=Xe.fragmentShader}else oe=D.vertexShader,le=D.fragmentShader,c.update(D),Pe=c.getVertexShaderID(D),Ce=c.getFragmentShaderID(D);const ce=i.getRenderTarget(),Ve=Z.isInstancedMesh===!0,qe=!!D.map,Fe=!!D.matcap,Oe=!!de,Be=!!D.aoMap,Ae=!!D.lightMap,Ie=!!D.bumpMap,Ze=!!D.normalMap,Ke=!!D.displacementMap,lt=!!D.emissiveMap,yt=!!D.metalnessMap,ct=!!D.roughnessMap,St=D.clearcoat>0,Ft=D.iridescence>0,J=D.sheen>0,H=D.transmission>0,_e=St&&!!D.clearcoatMap,ke=St&&!!D.clearcoatNormalMap,Ge=St&&!!D.clearcoatRoughnessMap,je=Ft&&!!D.iridescenceMap,At=Ft&&!!D.iridescenceThicknessMap,it=J&&!!D.sheenColorMap,Te=J&&!!D.sheenRoughnessMap,ot=!!D.specularMap,_t=!!D.specularColorMap,Mt=!!D.specularIntensityMap,rt=H&&!!D.transmissionMap,dt=H&&!!D.thicknessMap,ne=!!D.gradientMap,De=!!D.alphaMap,tt=D.alphaTest>0,$=!!D.extensions,Me=!!se.attributes.uv2;return{isWebGL2:p,shaderID:Y,shaderName:D.type,vertexShader:oe,fragmentShader:le,defines:D.defines,customVertexShaderID:Pe,customFragmentShaderID:Ce,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:y,instancing:Ve,instancingColor:Ve&&Z.instanceColor!==null,supportsVertexTextures:v,outputEncoding:ce===null?i.outputEncoding:ce.isXRRenderTarget===!0?ce.texture.encoding:Ra,map:qe,matcap:Fe,envMap:Oe,envMapMode:Oe&&de.mapping,envMapCubeUVHeight:z,aoMap:Be,lightMap:Ae,bumpMap:Ie,normalMap:Ze,displacementMap:v&&Ke,emissiveMap:lt,normalMapObjectSpace:Ze&&D.normalMapType===YC,normalMapTangentSpace:Ze&&D.normalMapType===Gl,decodeVideoTexture:qe&&D.map.isVideoTexture===!0&&D.map.encoding===Sn,metalnessMap:yt,roughnessMap:ct,clearcoat:St,clearcoatMap:_e,clearcoatNormalMap:ke,clearcoatRoughnessMap:Ge,iridescence:Ft,iridescenceMap:je,iridescenceThicknessMap:At,sheen:J,sheenColorMap:it,sheenRoughnessMap:Te,specularMap:ot,specularColorMap:_t,specularIntensityMap:Mt,transmission:H,transmissionMap:rt,thicknessMap:dt,gradientMap:ne,opaque:D.transparent===!1&&D.blending===tc,alphaMap:De,alphaTest:tt,combine:D.combine,mapUv:qe&&C(D.map.channel),aoMapUv:Be&&C(D.aoMap.channel),lightMapUv:Ae&&C(D.lightMap.channel),bumpMapUv:Ie&&C(D.bumpMap.channel),normalMapUv:Ze&&C(D.normalMap.channel),displacementMapUv:Ke&&C(D.displacementMap.channel),emissiveMapUv:lt&&C(D.emissiveMap.channel),metalnessMapUv:yt&&C(D.metalnessMap.channel),roughnessMapUv:ct&&C(D.roughnessMap.channel),clearcoatMapUv:_e&&C(D.clearcoatMap.channel),clearcoatNormalMapUv:ke&&C(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ge&&C(D.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&C(D.iridescenceMap.channel),iridescenceThicknessMapUv:At&&C(D.iridescenceThicknessMap.channel),sheenColorMapUv:it&&C(D.sheenColorMap.channel),sheenRoughnessMapUv:Te&&C(D.sheenRoughnessMap.channel),specularMapUv:ot&&C(D.specularMap.channel),specularColorMapUv:_t&&C(D.specularColorMap.channel),specularIntensityMapUv:Mt&&C(D.specularIntensityMap.channel),transmissionMapUv:rt&&C(D.transmissionMap.channel),thicknessMapUv:dt&&C(D.thicknessMap.channel),alphaMapUv:De&&C(D.alphaMap.channel),vertexTangents:Ze&&!!se.attributes.tangent,vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,vertexUvs2:Me,pointsUvs:Z.isPoints===!0&&!!se.attributes.uv&&(qe||De),fog:!!te,useFog:D.fog===!0,fogExp2:te&&te.isFogExp2,flatShading:D.flatShading===!0,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:Z.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ee,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:D.dithering,shadowMapEnabled:i.shadowMap.enabled&&Q.length>0,shadowMapType:i.shadowMap.type,toneMapping:D.toneMapped?i.toneMapping:$s,useLegacyLights:i.useLegacyLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===ws,flipSided:D.side===gr,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:$&&D.extensions.derivatives===!0,extensionFragDepth:$&&D.extensions.fragDepth===!0,extensionDrawBuffers:$&&D.extensions.drawBuffers===!0,extensionShaderTextureLOD:$&&D.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:p||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||n.has("EXT_shader_texture_lod"),customProgramCacheKey:D.customProgramCacheKey()}}function M(D){const k=[];if(D.shaderID?k.push(D.shaderID):(k.push(D.customVertexShaderID),k.push(D.customFragmentShaderID)),D.defines!==void 0)for(const Q in D.defines)k.push(Q),k.push(D.defines[Q]);return D.isRawShaderMaterial===!1&&(T(k,D),b(k,D),k.push(i.outputEncoding)),k.push(D.customProgramCacheKey),k.join()}function T(D,k){D.push(k.precision),D.push(k.outputEncoding),D.push(k.envMapMode),D.push(k.envMapCubeUVHeight),D.push(k.mapUv),D.push(k.alphaMapUv),D.push(k.lightMapUv),D.push(k.aoMapUv),D.push(k.bumpMapUv),D.push(k.normalMapUv),D.push(k.displacementMapUv),D.push(k.emissiveMapUv),D.push(k.metalnessMapUv),D.push(k.roughnessMapUv),D.push(k.clearcoatMapUv),D.push(k.clearcoatNormalMapUv),D.push(k.clearcoatRoughnessMapUv),D.push(k.iridescenceMapUv),D.push(k.iridescenceThicknessMapUv),D.push(k.sheenColorMapUv),D.push(k.sheenRoughnessMapUv),D.push(k.specularMapUv),D.push(k.specularColorMapUv),D.push(k.specularIntensityMapUv),D.push(k.transmissionMapUv),D.push(k.thicknessMapUv),D.push(k.combine),D.push(k.fogExp2),D.push(k.sizeAttenuation),D.push(k.morphTargetsCount),D.push(k.morphAttributeCount),D.push(k.numDirLights),D.push(k.numPointLights),D.push(k.numSpotLights),D.push(k.numSpotLightMaps),D.push(k.numHemiLights),D.push(k.numRectAreaLights),D.push(k.numDirLightShadows),D.push(k.numPointLightShadows),D.push(k.numSpotLightShadows),D.push(k.numSpotLightShadowsWithMaps),D.push(k.shadowMapType),D.push(k.toneMapping),D.push(k.numClippingPlanes),D.push(k.numClipIntersection),D.push(k.depthPacking)}function b(D,k){l.disableAll(),k.isWebGL2&&l.enable(0),k.supportsVertexTextures&&l.enable(1),k.instancing&&l.enable(2),k.instancingColor&&l.enable(3),k.matcap&&l.enable(4),k.envMap&&l.enable(5),k.normalMapObjectSpace&&l.enable(6),k.normalMapTangentSpace&&l.enable(7),k.clearcoat&&l.enable(8),k.iridescence&&l.enable(9),k.alphaTest&&l.enable(10),k.vertexColors&&l.enable(11),k.vertexAlphas&&l.enable(12),k.vertexUvs2&&l.enable(13),k.vertexTangents&&l.enable(14),D.push(l.mask),l.disableAll(),k.fog&&l.enable(0),k.useFog&&l.enable(1),k.flatShading&&l.enable(2),k.logarithmicDepthBuffer&&l.enable(3),k.skinning&&l.enable(4),k.morphTargets&&l.enable(5),k.morphNormals&&l.enable(6),k.morphColors&&l.enable(7),k.premultipliedAlpha&&l.enable(8),k.shadowMapEnabled&&l.enable(9),k.useLegacyLights&&l.enable(10),k.doubleSided&&l.enable(11),k.flipSided&&l.enable(12),k.useDepthPacking&&l.enable(13),k.dithering&&l.enable(14),k.transmission&&l.enable(15),k.sheen&&l.enable(16),k.decodeVideoTexture&&l.enable(17),k.opaque&&l.enable(18),k.pointsUvs&&l.enable(19),D.push(l.mask)}function B(D){const k=_[D.type];let Q;if(k){const re=Zs[k];Q=nE.clone(re.uniforms)}else Q=D.uniforms;return Q}function I(D,k){let Q;for(let re=0,Z=d.length;re<Z;re++){const te=d[re];if(te.cacheKey===k){Q=te,++Q.usedTimes;break}}return Q===void 0&&(Q=new gI(i,k,D,s),d.push(Q)),Q}function F(D){if(--D.usedTimes===0){const k=d.indexOf(D);d[k]=d[d.length-1],d.pop(),D.destroy()}}function G(D){c.remove(D)}function U(){c.dispose()}return{getParameters:S,getProgramCacheKey:M,getUniforms:B,acquireProgram:I,releaseProgram:F,releaseShaderCache:G,programs:d,dispose:U}}function _I(){let i=new WeakMap;function e(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function t(s){i.delete(s)}function n(s,a,l){i.get(s)[a]=l}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function MI(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function W1(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function j1(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(g,v,y,_,C,S){let M=i[e];return M===void 0?(M={id:g.id,object:g,geometry:v,material:y,groupOrder:_,renderOrder:g.renderOrder,z:C,group:S},i[e]=M):(M.id=g.id,M.object=g,M.geometry=v,M.material=y,M.groupOrder=_,M.renderOrder=g.renderOrder,M.z=C,M.group=S),e++,M}function l(g,v,y,_,C,S){const M=a(g,v,y,_,C,S);y.transmission>0?n.push(M):y.transparent===!0?r.push(M):t.push(M)}function c(g,v,y,_,C,S){const M=a(g,v,y,_,C,S);y.transmission>0?n.unshift(M):y.transparent===!0?r.unshift(M):t.unshift(M)}function d(g,v){t.length>1&&t.sort(g||MI),n.length>1&&n.sort(v||W1),r.length>1&&r.sort(v||W1)}function p(){for(let g=e,v=i.length;g<v;g++){const y=i[g];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:l,unshift:c,finish:p,sort:d}}function SI(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new j1,i.set(n,[a])):r>=s.length?(a=new j1,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function wI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new V,color:new et};break;case"SpotLight":t={position:new V,direction:new V,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new et,groundColor:new et};break;case"RectAreaLight":t={color:new et,position:new V,halfWidth:new V,halfHeight:new V};break}return i[e.id]=t,t}}}function CI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let EI=0;function TI(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function bI(i,e){const t=new wI,n=CI(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let p=0;p<9;p++)r.probe.push(new V);const s=new V,a=new Rt,l=new Rt;function c(p,g){let v=0,y=0,_=0;for(let Q=0;Q<9;Q++)r.probe[Q].set(0,0,0);let C=0,S=0,M=0,T=0,b=0,B=0,I=0,F=0,G=0,U=0;p.sort(TI);const D=g===!0?Math.PI:1;for(let Q=0,re=p.length;Q<re;Q++){const Z=p[Q],te=Z.color,se=Z.intensity,ve=Z.distance,de=Z.shadow&&Z.shadow.map?Z.shadow.map.texture:null;if(Z.isAmbientLight)v+=te.r*se*D,y+=te.g*se*D,_+=te.b*se*D;else if(Z.isLightProbe)for(let z=0;z<9;z++)r.probe[z].addScaledVector(Z.sh.coefficients[z],se);else if(Z.isDirectionalLight){const z=t.get(Z);if(z.color.copy(Z.color).multiplyScalar(Z.intensity*D),Z.castShadow){const Y=Z.shadow,N=n.get(Z);N.shadowBias=Y.bias,N.shadowNormalBias=Y.normalBias,N.shadowRadius=Y.radius,N.shadowMapSize=Y.mapSize,r.directionalShadow[C]=N,r.directionalShadowMap[C]=de,r.directionalShadowMatrix[C]=Z.shadow.matrix,B++}r.directional[C]=z,C++}else if(Z.isSpotLight){const z=t.get(Z);z.position.setFromMatrixPosition(Z.matrixWorld),z.color.copy(te).multiplyScalar(se*D),z.distance=ve,z.coneCos=Math.cos(Z.angle),z.penumbraCos=Math.cos(Z.angle*(1-Z.penumbra)),z.decay=Z.decay,r.spot[M]=z;const Y=Z.shadow;if(Z.map&&(r.spotLightMap[G]=Z.map,G++,Y.updateMatrices(Z),Z.castShadow&&U++),r.spotLightMatrix[M]=Y.matrix,Z.castShadow){const N=n.get(Z);N.shadowBias=Y.bias,N.shadowNormalBias=Y.normalBias,N.shadowRadius=Y.radius,N.shadowMapSize=Y.mapSize,r.spotShadow[M]=N,r.spotShadowMap[M]=de,F++}M++}else if(Z.isRectAreaLight){const z=t.get(Z);z.color.copy(te).multiplyScalar(se),z.halfWidth.set(Z.width*.5,0,0),z.halfHeight.set(0,Z.height*.5,0),r.rectArea[T]=z,T++}else if(Z.isPointLight){const z=t.get(Z);if(z.color.copy(Z.color).multiplyScalar(Z.intensity*D),z.distance=Z.distance,z.decay=Z.decay,Z.castShadow){const Y=Z.shadow,N=n.get(Z);N.shadowBias=Y.bias,N.shadowNormalBias=Y.normalBias,N.shadowRadius=Y.radius,N.shadowMapSize=Y.mapSize,N.shadowCameraNear=Y.camera.near,N.shadowCameraFar=Y.camera.far,r.pointShadow[S]=N,r.pointShadowMap[S]=de,r.pointShadowMatrix[S]=Z.shadow.matrix,I++}r.point[S]=z,S++}else if(Z.isHemisphereLight){const z=t.get(Z);z.skyColor.copy(Z.color).multiplyScalar(se*D),z.groundColor.copy(Z.groundColor).multiplyScalar(se*D),r.hemi[b]=z,b++}}T>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_FLOAT_1,r.rectAreaLTC2=Qe.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_HALF_1,r.rectAreaLTC2=Qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=y,r.ambient[2]=_;const k=r.hash;(k.directionalLength!==C||k.pointLength!==S||k.spotLength!==M||k.rectAreaLength!==T||k.hemiLength!==b||k.numDirectionalShadows!==B||k.numPointShadows!==I||k.numSpotShadows!==F||k.numSpotMaps!==G)&&(r.directional.length=C,r.spot.length=M,r.rectArea.length=T,r.point.length=S,r.hemi.length=b,r.directionalShadow.length=B,r.directionalShadowMap.length=B,r.pointShadow.length=I,r.pointShadowMap.length=I,r.spotShadow.length=F,r.spotShadowMap.length=F,r.directionalShadowMatrix.length=B,r.pointShadowMatrix.length=I,r.spotLightMatrix.length=F+G-U,r.spotLightMap.length=G,r.numSpotLightShadowsWithMaps=U,k.directionalLength=C,k.pointLength=S,k.spotLength=M,k.rectAreaLength=T,k.hemiLength=b,k.numDirectionalShadows=B,k.numPointShadows=I,k.numSpotShadows=F,k.numSpotMaps=G,r.version=EI++)}function d(p,g){let v=0,y=0,_=0,C=0,S=0;const M=g.matrixWorldInverse;for(let T=0,b=p.length;T<b;T++){const B=p[T];if(B.isDirectionalLight){const I=r.directional[v];I.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(M),v++}else if(B.isSpotLight){const I=r.spot[_];I.position.setFromMatrixPosition(B.matrixWorld),I.position.applyMatrix4(M),I.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(M),_++}else if(B.isRectAreaLight){const I=r.rectArea[C];I.position.setFromMatrixPosition(B.matrixWorld),I.position.applyMatrix4(M),l.identity(),a.copy(B.matrixWorld),a.premultiply(M),l.extractRotation(a),I.halfWidth.set(B.width*.5,0,0),I.halfHeight.set(0,B.height*.5,0),I.halfWidth.applyMatrix4(l),I.halfHeight.applyMatrix4(l),C++}else if(B.isPointLight){const I=r.point[y];I.position.setFromMatrixPosition(B.matrixWorld),I.position.applyMatrix4(M),y++}else if(B.isHemisphereLight){const I=r.hemi[S];I.direction.setFromMatrixPosition(B.matrixWorld),I.direction.transformDirection(M),S++}}}return{setup:c,setupView:d,state:r}}function J1(i,e){const t=new bI(i,e),n=[],r=[];function s(){n.length=0,r.length=0}function a(g){n.push(g)}function l(g){r.push(g)}function c(g){t.setup(n,g)}function d(g){t.setupView(n,g)}return{init:s,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:c,setupLightsView:d,pushLight:a,pushShadow:l}}function PI(i,e){let t=new WeakMap;function n(s,a=0){const l=t.get(s);let c;return l===void 0?(c=new J1(i,e),t.set(s,[c])):a>=l.length?(c=new J1(i,e),l.push(c)):c=l[a],c}function r(){t=new WeakMap}return{get:n,dispose:r}}class hA extends gi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dA extends gi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const BI=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,RI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function LI(i,e,t){let n=new y0;const r=new Re,s=new Re,a=new vn,l=new hA({depthPacking:KC}),c=new dA,d={},p=t.maxTextureSize,g={[Fo]:gr,[gr]:Fo,[ws]:ws},v=new Oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:BI,fragmentShader:RI}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const _=new Ut;_.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Si(_,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d0,this.render=function(B,I,F){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||B.length===0)return;const G=i.getRenderTarget(),U=i.getActiveCubeFace(),D=i.getActiveMipmapLevel(),k=i.state;k.setBlending(Ea),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let Q=0,re=B.length;Q<re;Q++){const Z=B[Q],te=Z.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const se=te.getFrameExtents();if(r.multiply(se),s.copy(te.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/se.x),r.x=s.x*se.x,te.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/se.y),r.y=s.y*se.y,te.mapSize.y=s.y)),te.map===null){const de=this.type!==Ku?{minFilter:qn,magFilter:qn}:{};te.map=new to(r.x,r.y,de),te.map.texture.name=Z.name+".shadowMap",te.camera.updateProjectionMatrix()}i.setRenderTarget(te.map),i.clear();const ve=te.getViewportCount();for(let de=0;de<ve;de++){const z=te.getViewport(de);a.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),k.viewport(a),te.updateMatrices(Z,de),n=te.getFrustum(),b(I,F,te.camera,Z,this.type)}te.isPointLightShadow!==!0&&this.type===Ku&&M(te,F),te.needsUpdate=!1}S.needsUpdate=!1,i.setRenderTarget(G,U,D)};function M(B,I){const F=e.update(C);v.defines.VSM_SAMPLES!==B.blurSamples&&(v.defines.VSM_SAMPLES=B.blurSamples,y.defines.VSM_SAMPLES=B.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new to(r.x,r.y)),v.uniforms.shadow_pass.value=B.map.texture,v.uniforms.resolution.value=B.mapSize,v.uniforms.radius.value=B.radius,i.setRenderTarget(B.mapPass),i.clear(),i.renderBufferDirect(I,null,F,v,C,null),y.uniforms.shadow_pass.value=B.mapPass.texture,y.uniforms.resolution.value=B.mapSize,y.uniforms.radius.value=B.radius,i.setRenderTarget(B.map),i.clear(),i.renderBufferDirect(I,null,F,y,C,null)}function T(B,I,F,G){let U=null;const D=F.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if(D!==void 0)U=D;else if(U=F.isPointLight===!0?c:l,i.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const k=U.uuid,Q=I.uuid;let re=d[k];re===void 0&&(re={},d[k]=re);let Z=re[Q];Z===void 0&&(Z=U.clone(),re[Q]=Z),U=Z}if(U.visible=I.visible,U.wireframe=I.wireframe,G===Ku?U.side=I.shadowSide!==null?I.shadowSide:I.side:U.side=I.shadowSide!==null?I.shadowSide:g[I.side],U.alphaMap=I.alphaMap,U.alphaTest=I.alphaTest,U.map=I.map,U.clipShadows=I.clipShadows,U.clippingPlanes=I.clippingPlanes,U.clipIntersection=I.clipIntersection,U.displacementMap=I.displacementMap,U.displacementScale=I.displacementScale,U.displacementBias=I.displacementBias,U.wireframeLinewidth=I.wireframeLinewidth,U.linewidth=I.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const k=i.properties.get(U);k.light=F}return U}function b(B,I,F,G,U){if(B.visible===!1)return;if(B.layers.test(I.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&U===Ku)&&(!B.frustumCulled||n.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,B.matrixWorld);const Q=e.update(B),re=B.material;if(Array.isArray(re)){const Z=Q.groups;for(let te=0,se=Z.length;te<se;te++){const ve=Z[te],de=re[ve.materialIndex];if(de&&de.visible){const z=T(B,de,G,U);i.renderBufferDirect(F,null,Q,z,B,ve)}}}else if(re.visible){const Z=T(B,re,G,U);i.renderBufferDirect(F,null,Q,Z,B,null)}}const k=B.children;for(let Q=0,re=k.length;Q<re;Q++)b(k[Q],I,F,G,U)}}function II(i,e,t){const n=t.isWebGL2;function r(){let $=!1;const Me=new vn;let Ne=null;const Xe=new vn(0,0,0,0);return{setMask:function(vt){Ne!==vt&&!$&&(i.colorMask(vt,vt,vt,vt),Ne=vt)},setLocked:function(vt){$=vt},setClear:function(vt,nn,Yt,dn,ri){ri===!0&&(vt*=dn,nn*=dn,Yt*=dn),Me.set(vt,nn,Yt,dn),Xe.equals(Me)===!1&&(i.clearColor(vt,nn,Yt,dn),Xe.copy(Me))},reset:function(){$=!1,Ne=null,Xe.set(-1,0,0,0)}}}function s(){let $=!1,Me=null,Ne=null,Xe=null;return{setTest:function(vt){vt?ce(2929):Ve(2929)},setMask:function(vt){Me!==vt&&!$&&(i.depthMask(vt),Me=vt)},setFunc:function(vt){if(Ne!==vt){switch(vt){case mC:i.depthFunc(512);break;case gC:i.depthFunc(519);break;case vC:i.depthFunc(513);break;case Kg:i.depthFunc(515);break;case yC:i.depthFunc(514);break;case xC:i.depthFunc(518);break;case AC:i.depthFunc(516);break;case _C:i.depthFunc(517);break;default:i.depthFunc(515)}Ne=vt}},setLocked:function(vt){$=vt},setClear:function(vt){Xe!==vt&&(i.clearDepth(vt),Xe=vt)},reset:function(){$=!1,Me=null,Ne=null,Xe=null}}}function a(){let $=!1,Me=null,Ne=null,Xe=null,vt=null,nn=null,Yt=null,dn=null,ri=null;return{setTest:function(rn){$||(rn?ce(2960):Ve(2960))},setMask:function(rn){Me!==rn&&!$&&(i.stencilMask(rn),Me=rn)},setFunc:function(rn,Dn,kn){(Ne!==rn||Xe!==Dn||vt!==kn)&&(i.stencilFunc(rn,Dn,kn),Ne=rn,Xe=Dn,vt=kn)},setOp:function(rn,Dn,kn){(nn!==rn||Yt!==Dn||dn!==kn)&&(i.stencilOp(rn,Dn,kn),nn=rn,Yt=Dn,dn=kn)},setLocked:function(rn){$=rn},setClear:function(rn){ri!==rn&&(i.clearStencil(rn),ri=rn)},reset:function(){$=!1,Me=null,Ne=null,Xe=null,vt=null,nn=null,Yt=null,dn=null,ri=null}}}const l=new r,c=new s,d=new a,p=new WeakMap,g=new WeakMap;let v={},y={},_=new WeakMap,C=[],S=null,M=!1,T=null,b=null,B=null,I=null,F=null,G=null,U=null,D=!1,k=null,Q=null,re=null,Z=null,te=null;const se=i.getParameter(35661);let ve=!1,de=0;const z=i.getParameter(7938);z.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(z)[1]),ve=de>=1):z.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),ve=de>=2);let Y=null,N={};const X=i.getParameter(3088),ee=i.getParameter(2978),oe=new vn().fromArray(X),le=new vn().fromArray(ee);function Pe($,Me,Ne){const Xe=new Uint8Array(4),vt=i.createTexture();i.bindTexture($,vt),i.texParameteri($,10241,9728),i.texParameteri($,10240,9728);for(let nn=0;nn<Ne;nn++)i.texImage2D(Me+nn,0,6408,1,1,0,6408,5121,Xe);return vt}const Ce={};Ce[3553]=Pe(3553,3553,1),Ce[34067]=Pe(34067,34069,6),l.setClear(0,0,0,1),c.setClear(1),d.setClear(0),ce(2929),c.setFunc(Kg),Ke(!1),lt(Uy),ce(2884),Ie(Ea);function ce($){v[$]!==!0&&(i.enable($),v[$]=!0)}function Ve($){v[$]!==!1&&(i.disable($),v[$]=!1)}function qe($,Me){return y[$]!==Me?(i.bindFramebuffer($,Me),y[$]=Me,n&&($===36009&&(y[36160]=Me),$===36160&&(y[36009]=Me)),!0):!1}function Fe($,Me){let Ne=C,Xe=!1;if($)if(Ne=_.get(Me),Ne===void 0&&(Ne=[],_.set(Me,Ne)),$.isWebGLMultipleRenderTargets){const vt=$.texture;if(Ne.length!==vt.length||Ne[0]!==36064){for(let nn=0,Yt=vt.length;nn<Yt;nn++)Ne[nn]=36064+nn;Ne.length=vt.length,Xe=!0}}else Ne[0]!==36064&&(Ne[0]=36064,Xe=!0);else Ne[0]!==1029&&(Ne[0]=1029,Xe=!0);Xe&&(t.isWebGL2?i.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function Oe($){return S!==$?(i.useProgram($),S=$,!0):!1}const Be={[ju]:32774,[rC]:32778,[sC]:32779};if(n)Be[Vy]=32775,Be[Wy]=32776;else{const $=e.get("EXT_blend_minmax");$!==null&&(Be[Vy]=$.MIN_EXT,Be[Wy]=$.MAX_EXT)}const Ae={[oC]:0,[aC]:1,[lC]:768,[Qx]:770,[pC]:776,[hC]:774,[cC]:772,[uC]:769,[qx]:771,[dC]:775,[fC]:773};function Ie($,Me,Ne,Xe,vt,nn,Yt,dn){if($===Ea){M===!0&&(Ve(3042),M=!1);return}if(M===!1&&(ce(3042),M=!0),$!==iC){if($!==T||dn!==D){if((b!==ju||F!==ju)&&(i.blendEquation(32774),b=ju,F=ju),dn)switch($){case tc:i.blendFuncSeparate(1,771,1,771);break;case zy:i.blendFunc(1,1);break;case Gy:i.blendFuncSeparate(0,769,0,1);break;case Hy:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case tc:i.blendFuncSeparate(770,771,1,771);break;case zy:i.blendFunc(770,1);break;case Gy:i.blendFuncSeparate(0,769,0,1);break;case Hy:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}B=null,I=null,G=null,U=null,T=$,D=dn}return}vt=vt||Me,nn=nn||Ne,Yt=Yt||Xe,(Me!==b||vt!==F)&&(i.blendEquationSeparate(Be[Me],Be[vt]),b=Me,F=vt),(Ne!==B||Xe!==I||nn!==G||Yt!==U)&&(i.blendFuncSeparate(Ae[Ne],Ae[Xe],Ae[nn],Ae[Yt]),B=Ne,I=Xe,G=nn,U=Yt),T=$,D=!1}function Ze($,Me){$.side===ws?Ve(2884):ce(2884);let Ne=$.side===gr;Me&&(Ne=!Ne),Ke(Ne),$.blending===tc&&$.transparent===!1?Ie(Ea):Ie($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),c.setFunc($.depthFunc),c.setTest($.depthTest),c.setMask($.depthWrite),l.setMask($.colorWrite);const Xe=$.stencilWrite;d.setTest(Xe),Xe&&(d.setMask($.stencilWriteMask),d.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),d.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),ct($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?ce(32926):Ve(32926)}function Ke($){k!==$&&($?i.frontFace(2304):i.frontFace(2305),k=$)}function lt($){$!==eC?(ce(2884),$!==Q&&($===Uy?i.cullFace(1029):$===tC?i.cullFace(1028):i.cullFace(1032))):Ve(2884),Q=$}function yt($){$!==re&&(ve&&i.lineWidth($),re=$)}function ct($,Me,Ne){$?(ce(32823),(Z!==Me||te!==Ne)&&(i.polygonOffset(Me,Ne),Z=Me,te=Ne)):Ve(32823)}function St($){$?ce(3089):Ve(3089)}function Ft($){$===void 0&&($=33984+se-1),Y!==$&&(i.activeTexture($),Y=$)}function J($,Me,Ne){Ne===void 0&&(Y===null?Ne=33984+se-1:Ne=Y);let Xe=N[Ne];Xe===void 0&&(Xe={type:void 0,texture:void 0},N[Ne]=Xe),(Xe.type!==$||Xe.texture!==Me)&&(Y!==Ne&&(i.activeTexture(Ne),Y=Ne),i.bindTexture($,Me||Ce[$]),Xe.type=$,Xe.texture=Me)}function H(){const $=N[Y];$!==void 0&&$.type!==void 0&&(i.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function _e(){try{i.compressedTexImage2D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ke(){try{i.compressedTexImage3D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ge(){try{i.texSubImage2D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function je(){try{i.texSubImage3D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function At(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function it(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Te(){try{i.texStorage2D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ot(){try{i.texStorage3D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function _t(){try{i.texImage2D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Mt(){try{i.texImage3D.apply(i,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function rt($){oe.equals($)===!1&&(i.scissor($.x,$.y,$.z,$.w),oe.copy($))}function dt($){le.equals($)===!1&&(i.viewport($.x,$.y,$.z,$.w),le.copy($))}function ne($,Me){let Ne=g.get(Me);Ne===void 0&&(Ne=new WeakMap,g.set(Me,Ne));let Xe=Ne.get($);Xe===void 0&&(Xe=i.getUniformBlockIndex(Me,$.name),Ne.set($,Xe))}function De($,Me){const Xe=g.get(Me).get($);p.get(Me)!==Xe&&(i.uniformBlockBinding(Me,Xe,$.__bindingPointIndex),p.set(Me,Xe))}function tt(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),n===!0&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),v={},Y=null,N={},y={},_=new WeakMap,C=[],S=null,M=!1,T=null,b=null,B=null,I=null,F=null,G=null,U=null,D=!1,k=null,Q=null,re=null,Z=null,te=null,oe.set(0,0,i.canvas.width,i.canvas.height),le.set(0,0,i.canvas.width,i.canvas.height),l.reset(),c.reset(),d.reset()}return{buffers:{color:l,depth:c,stencil:d},enable:ce,disable:Ve,bindFramebuffer:qe,drawBuffers:Fe,useProgram:Oe,setBlending:Ie,setMaterial:Ze,setFlipSided:Ke,setCullFace:lt,setLineWidth:yt,setPolygonOffset:ct,setScissorTest:St,activeTexture:Ft,bindTexture:J,unbindTexture:H,compressedTexImage2D:_e,compressedTexImage3D:ke,texImage2D:_t,texImage3D:Mt,updateUBOMapping:ne,uniformBlockBinding:De,texStorage2D:Te,texStorage3D:ot,texSubImage2D:Ge,texSubImage3D:je,compressedTexSubImage2D:At,compressedTexSubImage3D:it,scissor:rt,viewport:dt,reset:tt}}function DI(i,e,t,n,r,s,a){const l=r.isWebGL2,c=r.maxTextures,d=r.maxCubemapSize,p=r.maxTextureSize,g=r.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let C;const S=new WeakMap;let M=!1;try{M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(J,H){return M?new OffscreenCanvas(J,H):op("canvas")}function b(J,H,_e,ke){let Ge=1;if((J.width>ke||J.height>ke)&&(Ge=ke/Math.max(J.width,J.height)),Ge<1||H===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const je=H?ZC:Math.floor,At=je(Ge*J.width),it=je(Ge*J.height);C===void 0&&(C=T(At,it));const Te=_e?T(At,it):C;return Te.width=At,Te.height=it,Te.getContext("2d").drawImage(J,0,0,At,it),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+At+"x"+it+")."),Te}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function B(J){return mx(J.width)&&mx(J.height)}function I(J){return l?!1:J.wrapS!==Wi||J.wrapT!==Wi||J.minFilter!==qn&&J.minFilter!==Hn}function F(J,H){return J.generateMipmaps&&H&&J.minFilter!==qn&&J.minFilter!==Hn}function G(J){i.generateMipmap(J)}function U(J,H,_e,ke,Ge=!1){if(l===!1)return H;if(J!==null){if(i[J]!==void 0)return i[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let je=H;return H===6403&&(_e===5126&&(je=33326),_e===5131&&(je=33325),_e===5121&&(je=33321)),H===33319&&(_e===5126&&(je=33328),_e===5131&&(je=33327),_e===5121&&(je=33323)),H===6408&&(_e===5126&&(je=34836),_e===5131&&(je=34842),_e===5121&&(je=ke===Sn&&Ge===!1?35907:32856),_e===32819&&(je=32854),_e===32820&&(je=32855)),(je===33325||je===33326||je===33327||je===33328||je===34842||je===34836)&&e.get("EXT_color_buffer_float"),je}function D(J,H,_e){return F(J,_e)===!0||J.isFramebufferTexture&&J.minFilter!==qn&&J.minFilter!==Hn?Math.log2(Math.max(H.width,H.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?H.mipmaps.length:1}function k(J){return J===qn||J===ip||J===oh?9728:9729}function Q(J){const H=J.target;H.removeEventListener("dispose",Q),Z(H),H.isVideoTexture&&_.delete(H)}function re(J){const H=J.target;H.removeEventListener("dispose",re),se(H)}function Z(J){const H=n.get(J);if(H.__webglInit===void 0)return;const _e=J.source,ke=S.get(_e);if(ke){const Ge=ke[H.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&te(J),Object.keys(ke).length===0&&S.delete(_e)}n.remove(J)}function te(J){const H=n.get(J);i.deleteTexture(H.__webglTexture);const _e=J.source,ke=S.get(_e);delete ke[H.__cacheKey],a.memory.textures--}function se(J){const H=J.texture,_e=n.get(J),ke=n.get(H);if(ke.__webglTexture!==void 0&&(i.deleteTexture(ke.__webglTexture),a.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++)i.deleteFramebuffer(_e.__webglFramebuffer[Ge]),_e.__webglDepthbuffer&&i.deleteRenderbuffer(_e.__webglDepthbuffer[Ge]);else{if(i.deleteFramebuffer(_e.__webglFramebuffer),_e.__webglDepthbuffer&&i.deleteRenderbuffer(_e.__webglDepthbuffer),_e.__webglMultisampledFramebuffer&&i.deleteFramebuffer(_e.__webglMultisampledFramebuffer),_e.__webglColorRenderbuffer)for(let Ge=0;Ge<_e.__webglColorRenderbuffer.length;Ge++)_e.__webglColorRenderbuffer[Ge]&&i.deleteRenderbuffer(_e.__webglColorRenderbuffer[Ge]);_e.__webglDepthRenderbuffer&&i.deleteRenderbuffer(_e.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Ge=0,je=H.length;Ge<je;Ge++){const At=n.get(H[Ge]);At.__webglTexture&&(i.deleteTexture(At.__webglTexture),a.memory.textures--),n.remove(H[Ge])}n.remove(H),n.remove(J)}let ve=0;function de(){ve=0}function z(){const J=ve;return J>=c&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+c),ve+=1,J}function Y(J){const H=[];return H.push(J.wrapS),H.push(J.wrapT),H.push(J.wrapR||0),H.push(J.magFilter),H.push(J.minFilter),H.push(J.anisotropy),H.push(J.internalFormat),H.push(J.format),H.push(J.type),H.push(J.generateMipmaps),H.push(J.premultiplyAlpha),H.push(J.flipY),H.push(J.unpackAlignment),H.push(J.encoding),H.join()}function N(J,H){const _e=n.get(J);if(J.isVideoTexture&&St(J),J.isRenderTargetTexture===!1&&J.version>0&&_e.__version!==J.version){const ke=J.image;if(ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ve(_e,J,H);return}}t.bindTexture(3553,_e.__webglTexture,33984+H)}function X(J,H){const _e=n.get(J);if(J.version>0&&_e.__version!==J.version){Ve(_e,J,H);return}t.bindTexture(35866,_e.__webglTexture,33984+H)}function ee(J,H){const _e=n.get(J);if(J.version>0&&_e.__version!==J.version){Ve(_e,J,H);return}t.bindTexture(32879,_e.__webglTexture,33984+H)}function oe(J,H){const _e=n.get(J);if(J.version>0&&_e.__version!==J.version){qe(_e,J,H);return}t.bindTexture(34067,_e.__webglTexture,33984+H)}const le={[Nl]:10497,[Wi]:33071,[fh]:33648},Pe={[qn]:9728,[ip]:9984,[oh]:9986,[Hn]:9729,[m0]:9985,[No]:9987};function Ce(J,H,_e){if(_e?(i.texParameteri(J,10242,le[H.wrapS]),i.texParameteri(J,10243,le[H.wrapT]),(J===32879||J===35866)&&i.texParameteri(J,32882,le[H.wrapR]),i.texParameteri(J,10240,Pe[H.magFilter]),i.texParameteri(J,10241,Pe[H.minFilter])):(i.texParameteri(J,10242,33071),i.texParameteri(J,10243,33071),(J===32879||J===35866)&&i.texParameteri(J,32882,33071),(H.wrapS!==Wi||H.wrapT!==Wi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(J,10240,k(H.magFilter)),i.texParameteri(J,10241,k(H.minFilter)),H.minFilter!==qn&&H.minFilter!==Hn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ke=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===qn||H.minFilter!==oh&&H.minFilter!==No||H.type===Sa&&e.has("OES_texture_float_linear")===!1||l===!1&&H.type===hh&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||n.get(H).__currentAnisotropy)&&(i.texParameterf(J,ke.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy)}}function ce(J,H){let _e=!1;J.__webglInit===void 0&&(J.__webglInit=!0,H.addEventListener("dispose",Q));const ke=H.source;let Ge=S.get(ke);Ge===void 0&&(Ge={},S.set(ke,Ge));const je=Y(H);if(je!==J.__cacheKey){Ge[je]===void 0&&(Ge[je]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,_e=!0),Ge[je].usedTimes++;const At=Ge[J.__cacheKey];At!==void 0&&(Ge[J.__cacheKey].usedTimes--,At.usedTimes===0&&te(H)),J.__cacheKey=je,J.__webglTexture=Ge[je].texture}return _e}function Ve(J,H,_e){let ke=3553;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(ke=35866),H.isData3DTexture&&(ke=32879);const Ge=ce(J,H),je=H.source;t.bindTexture(ke,J.__webglTexture,33984+_e);const At=n.get(je);if(je.version!==At.__version||Ge===!0){t.activeTexture(33984+_e),i.pixelStorei(37440,H.flipY),i.pixelStorei(37441,H.premultiplyAlpha),i.pixelStorei(3317,H.unpackAlignment),i.pixelStorei(37443,0);const it=I(H)&&B(H.image)===!1;let Te=b(H.image,it,!1,p);Te=Ft(H,Te);const ot=B(Te)||l,_t=s.convert(H.format,H.encoding);let Mt=s.convert(H.type),rt=U(H.internalFormat,_t,Mt,H.encoding,H.isVideoTexture);Ce(ke,H,ot);let dt;const ne=H.mipmaps,De=l&&H.isVideoTexture!==!0,tt=At.__version===void 0||Ge===!0,$=D(H,Te,ot);if(H.isDepthTexture)rt=6402,l?H.type===Sa?rt=36012:H.type===Pl?rt=33190:H.type===nc?rt=35056:rt=33189:H.type===Sa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Rl&&rt===6402&&H.type!==$x&&H.type!==Pl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Pl,Mt=s.convert(H.type)),H.format===lc&&rt===6402&&(rt=34041,H.type!==nc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=nc,Mt=s.convert(H.type))),tt&&(De?t.texStorage2D(3553,1,rt,Te.width,Te.height):t.texImage2D(3553,0,rt,Te.width,Te.height,0,_t,Mt,null));else if(H.isDataTexture)if(ne.length>0&&ot){De&&tt&&t.texStorage2D(3553,$,rt,ne[0].width,ne[0].height);for(let Me=0,Ne=ne.length;Me<Ne;Me++)dt=ne[Me],De?t.texSubImage2D(3553,Me,0,0,dt.width,dt.height,_t,Mt,dt.data):t.texImage2D(3553,Me,rt,dt.width,dt.height,0,_t,Mt,dt.data);H.generateMipmaps=!1}else De?(tt&&t.texStorage2D(3553,$,rt,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,Te.width,Te.height,_t,Mt,Te.data)):t.texImage2D(3553,0,rt,Te.width,Te.height,0,_t,Mt,Te.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){De&&tt&&t.texStorage3D(35866,$,rt,ne[0].width,ne[0].height,Te.depth);for(let Me=0,Ne=ne.length;Me<Ne;Me++)dt=ne[Me],H.format!==Or?_t!==null?De?t.compressedTexSubImage3D(35866,Me,0,0,0,dt.width,dt.height,Te.depth,_t,dt.data,0,0):t.compressedTexImage3D(35866,Me,rt,dt.width,dt.height,Te.depth,0,dt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage3D(35866,Me,0,0,0,dt.width,dt.height,Te.depth,_t,Mt,dt.data):t.texImage3D(35866,Me,rt,dt.width,dt.height,Te.depth,0,_t,Mt,dt.data)}else{De&&tt&&t.texStorage2D(3553,$,rt,ne[0].width,ne[0].height);for(let Me=0,Ne=ne.length;Me<Ne;Me++)dt=ne[Me],H.format!==Or?_t!==null?De?t.compressedTexSubImage2D(3553,Me,0,0,dt.width,dt.height,_t,dt.data):t.compressedTexImage2D(3553,Me,rt,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage2D(3553,Me,0,0,dt.width,dt.height,_t,Mt,dt.data):t.texImage2D(3553,Me,rt,dt.width,dt.height,0,_t,Mt,dt.data)}else if(H.isDataArrayTexture)De?(tt&&t.texStorage3D(35866,$,rt,Te.width,Te.height,Te.depth),t.texSubImage3D(35866,0,0,0,0,Te.width,Te.height,Te.depth,_t,Mt,Te.data)):t.texImage3D(35866,0,rt,Te.width,Te.height,Te.depth,0,_t,Mt,Te.data);else if(H.isData3DTexture)De?(tt&&t.texStorage3D(32879,$,rt,Te.width,Te.height,Te.depth),t.texSubImage3D(32879,0,0,0,0,Te.width,Te.height,Te.depth,_t,Mt,Te.data)):t.texImage3D(32879,0,rt,Te.width,Te.height,Te.depth,0,_t,Mt,Te.data);else if(H.isFramebufferTexture){if(tt)if(De)t.texStorage2D(3553,$,rt,Te.width,Te.height);else{let Me=Te.width,Ne=Te.height;for(let Xe=0;Xe<$;Xe++)t.texImage2D(3553,Xe,rt,Me,Ne,0,_t,Mt,null),Me>>=1,Ne>>=1}}else if(ne.length>0&&ot){De&&tt&&t.texStorage2D(3553,$,rt,ne[0].width,ne[0].height);for(let Me=0,Ne=ne.length;Me<Ne;Me++)dt=ne[Me],De?t.texSubImage2D(3553,Me,0,0,_t,Mt,dt):t.texImage2D(3553,Me,rt,_t,Mt,dt);H.generateMipmaps=!1}else De?(tt&&t.texStorage2D(3553,$,rt,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,_t,Mt,Te)):t.texImage2D(3553,0,rt,_t,Mt,Te);F(H,ot)&&G(ke),At.__version=je.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function qe(J,H,_e){if(H.image.length!==6)return;const ke=ce(J,H),Ge=H.source;t.bindTexture(34067,J.__webglTexture,33984+_e);const je=n.get(Ge);if(Ge.version!==je.__version||ke===!0){t.activeTexture(33984+_e),i.pixelStorei(37440,H.flipY),i.pixelStorei(37441,H.premultiplyAlpha),i.pixelStorei(3317,H.unpackAlignment),i.pixelStorei(37443,0);const At=H.isCompressedTexture||H.image[0].isCompressedTexture,it=H.image[0]&&H.image[0].isDataTexture,Te=[];for(let Me=0;Me<6;Me++)!At&&!it?Te[Me]=b(H.image[Me],!1,!0,d):Te[Me]=it?H.image[Me].image:H.image[Me],Te[Me]=Ft(H,Te[Me]);const ot=Te[0],_t=B(ot)||l,Mt=s.convert(H.format,H.encoding),rt=s.convert(H.type),dt=U(H.internalFormat,Mt,rt,H.encoding),ne=l&&H.isVideoTexture!==!0,De=je.__version===void 0||ke===!0;let tt=D(H,ot,_t);Ce(34067,H,_t);let $;if(At){ne&&De&&t.texStorage2D(34067,tt,dt,ot.width,ot.height);for(let Me=0;Me<6;Me++){$=Te[Me].mipmaps;for(let Ne=0;Ne<$.length;Ne++){const Xe=$[Ne];H.format!==Or?Mt!==null?ne?t.compressedTexSubImage2D(34069+Me,Ne,0,0,Xe.width,Xe.height,Mt,Xe.data):t.compressedTexImage2D(34069+Me,Ne,dt,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ne?t.texSubImage2D(34069+Me,Ne,0,0,Xe.width,Xe.height,Mt,rt,Xe.data):t.texImage2D(34069+Me,Ne,dt,Xe.width,Xe.height,0,Mt,rt,Xe.data)}}}else{$=H.mipmaps,ne&&De&&($.length>0&&tt++,t.texStorage2D(34067,tt,dt,Te[0].width,Te[0].height));for(let Me=0;Me<6;Me++)if(it){ne?t.texSubImage2D(34069+Me,0,0,0,Te[Me].width,Te[Me].height,Mt,rt,Te[Me].data):t.texImage2D(34069+Me,0,dt,Te[Me].width,Te[Me].height,0,Mt,rt,Te[Me].data);for(let Ne=0;Ne<$.length;Ne++){const vt=$[Ne].image[Me].image;ne?t.texSubImage2D(34069+Me,Ne+1,0,0,vt.width,vt.height,Mt,rt,vt.data):t.texImage2D(34069+Me,Ne+1,dt,vt.width,vt.height,0,Mt,rt,vt.data)}}else{ne?t.texSubImage2D(34069+Me,0,0,0,Mt,rt,Te[Me]):t.texImage2D(34069+Me,0,dt,Mt,rt,Te[Me]);for(let Ne=0;Ne<$.length;Ne++){const Xe=$[Ne];ne?t.texSubImage2D(34069+Me,Ne+1,0,0,Mt,rt,Xe.image[Me]):t.texImage2D(34069+Me,Ne+1,dt,Mt,rt,Xe.image[Me])}}}F(H,_t)&&G(34067),je.__version=Ge.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function Fe(J,H,_e,ke,Ge){const je=s.convert(_e.format,_e.encoding),At=s.convert(_e.type),it=U(_e.internalFormat,je,At,_e.encoding);n.get(H).__hasExternalTextures||(Ge===32879||Ge===35866?t.texImage3D(Ge,0,it,H.width,H.height,H.depth,0,je,At,null):t.texImage2D(Ge,0,it,H.width,H.height,0,je,At,null)),t.bindFramebuffer(36160,J),ct(H)?v.framebufferTexture2DMultisampleEXT(36160,ke,Ge,n.get(_e).__webglTexture,0,yt(H)):(Ge===3553||Ge>=34069&&Ge<=34074)&&i.framebufferTexture2D(36160,ke,Ge,n.get(_e).__webglTexture,0),t.bindFramebuffer(36160,null)}function Oe(J,H,_e){if(i.bindRenderbuffer(36161,J),H.depthBuffer&&!H.stencilBuffer){let ke=33189;if(_e||ct(H)){const Ge=H.depthTexture;Ge&&Ge.isDepthTexture&&(Ge.type===Sa?ke=36012:Ge.type===Pl&&(ke=33190));const je=yt(H);ct(H)?v.renderbufferStorageMultisampleEXT(36161,je,ke,H.width,H.height):i.renderbufferStorageMultisample(36161,je,ke,H.width,H.height)}else i.renderbufferStorage(36161,ke,H.width,H.height);i.framebufferRenderbuffer(36160,36096,36161,J)}else if(H.depthBuffer&&H.stencilBuffer){const ke=yt(H);_e&&ct(H)===!1?i.renderbufferStorageMultisample(36161,ke,35056,H.width,H.height):ct(H)?v.renderbufferStorageMultisampleEXT(36161,ke,35056,H.width,H.height):i.renderbufferStorage(36161,34041,H.width,H.height),i.framebufferRenderbuffer(36160,33306,36161,J)}else{const ke=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Ge=0;Ge<ke.length;Ge++){const je=ke[Ge],At=s.convert(je.format,je.encoding),it=s.convert(je.type),Te=U(je.internalFormat,At,it,je.encoding),ot=yt(H);_e&&ct(H)===!1?i.renderbufferStorageMultisample(36161,ot,Te,H.width,H.height):ct(H)?v.renderbufferStorageMultisampleEXT(36161,ot,Te,H.width,H.height):i.renderbufferStorage(36161,Te,H.width,H.height)}}i.bindRenderbuffer(36161,null)}function Be(J,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,J),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),N(H.depthTexture,0);const ke=n.get(H.depthTexture).__webglTexture,Ge=yt(H);if(H.depthTexture.format===Rl)ct(H)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,ke,0,Ge):i.framebufferTexture2D(36160,36096,3553,ke,0);else if(H.depthTexture.format===lc)ct(H)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,ke,0,Ge):i.framebufferTexture2D(36160,33306,3553,ke,0);else throw new Error("Unknown depthTexture format")}function Ae(J){const H=n.get(J),_e=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!H.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");Be(H.__webglFramebuffer,J)}else if(_e){H.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)t.bindFramebuffer(36160,H.__webglFramebuffer[ke]),H.__webglDepthbuffer[ke]=i.createRenderbuffer(),Oe(H.__webglDepthbuffer[ke],J,!1)}else t.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=i.createRenderbuffer(),Oe(H.__webglDepthbuffer,J,!1);t.bindFramebuffer(36160,null)}function Ie(J,H,_e){const ke=n.get(J);H!==void 0&&Fe(ke.__webglFramebuffer,J,J.texture,36064,3553),_e!==void 0&&Ae(J)}function Ze(J){const H=J.texture,_e=n.get(J),ke=n.get(H);J.addEventListener("dispose",re),J.isWebGLMultipleRenderTargets!==!0&&(ke.__webglTexture===void 0&&(ke.__webglTexture=i.createTexture()),ke.__version=H.version,a.memory.textures++);const Ge=J.isWebGLCubeRenderTarget===!0,je=J.isWebGLMultipleRenderTargets===!0,At=B(J)||l;if(Ge){_e.__webglFramebuffer=[];for(let it=0;it<6;it++)_e.__webglFramebuffer[it]=i.createFramebuffer()}else{if(_e.__webglFramebuffer=i.createFramebuffer(),je)if(r.drawBuffers){const it=J.texture;for(let Te=0,ot=it.length;Te<ot;Te++){const _t=n.get(it[Te]);_t.__webglTexture===void 0&&(_t.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&J.samples>0&&ct(J)===!1){const it=je?H:[H];_e.__webglMultisampledFramebuffer=i.createFramebuffer(),_e.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,_e.__webglMultisampledFramebuffer);for(let Te=0;Te<it.length;Te++){const ot=it[Te];_e.__webglColorRenderbuffer[Te]=i.createRenderbuffer(),i.bindRenderbuffer(36161,_e.__webglColorRenderbuffer[Te]);const _t=s.convert(ot.format,ot.encoding),Mt=s.convert(ot.type),rt=U(ot.internalFormat,_t,Mt,ot.encoding,J.isXRRenderTarget===!0),dt=yt(J);i.renderbufferStorageMultisample(36161,dt,rt,J.width,J.height),i.framebufferRenderbuffer(36160,36064+Te,36161,_e.__webglColorRenderbuffer[Te])}i.bindRenderbuffer(36161,null),J.depthBuffer&&(_e.__webglDepthRenderbuffer=i.createRenderbuffer(),Oe(_e.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(36160,null)}}if(Ge){t.bindTexture(34067,ke.__webglTexture),Ce(34067,H,At);for(let it=0;it<6;it++)Fe(_e.__webglFramebuffer[it],J,H,36064,34069+it);F(H,At)&&G(34067),t.unbindTexture()}else if(je){const it=J.texture;for(let Te=0,ot=it.length;Te<ot;Te++){const _t=it[Te],Mt=n.get(_t);t.bindTexture(3553,Mt.__webglTexture),Ce(3553,_t,At),Fe(_e.__webglFramebuffer,J,_t,36064+Te,3553),F(_t,At)&&G(3553)}t.unbindTexture()}else{let it=3553;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(l?it=J.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(it,ke.__webglTexture),Ce(it,H,At),Fe(_e.__webglFramebuffer,J,H,36064,it),F(H,At)&&G(it),t.unbindTexture()}J.depthBuffer&&Ae(J)}function Ke(J){const H=B(J)||l,_e=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let ke=0,Ge=_e.length;ke<Ge;ke++){const je=_e[ke];if(F(je,H)){const At=J.isWebGLCubeRenderTarget?34067:3553,it=n.get(je).__webglTexture;t.bindTexture(At,it),G(At),t.unbindTexture()}}}function lt(J){if(l&&J.samples>0&&ct(J)===!1){const H=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],_e=J.width,ke=J.height;let Ge=16384;const je=[],At=J.stencilBuffer?33306:36096,it=n.get(J),Te=J.isWebGLMultipleRenderTargets===!0;if(Te)for(let ot=0;ot<H.length;ot++)t.bindFramebuffer(36160,it.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ot,36161,null),t.bindFramebuffer(36160,it.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ot,3553,null,0);t.bindFramebuffer(36008,it.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,it.__webglFramebuffer);for(let ot=0;ot<H.length;ot++){je.push(36064+ot),J.depthBuffer&&je.push(At);const _t=it.__ignoreDepthValues!==void 0?it.__ignoreDepthValues:!1;if(_t===!1&&(J.depthBuffer&&(Ge|=256),J.stencilBuffer&&(Ge|=1024)),Te&&i.framebufferRenderbuffer(36008,36064,36161,it.__webglColorRenderbuffer[ot]),_t===!0&&(i.invalidateFramebuffer(36008,[At]),i.invalidateFramebuffer(36009,[At])),Te){const Mt=n.get(H[ot]).__webglTexture;i.framebufferTexture2D(36009,36064,3553,Mt,0)}i.blitFramebuffer(0,0,_e,ke,0,0,_e,ke,Ge,9728),y&&i.invalidateFramebuffer(36008,je)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Te)for(let ot=0;ot<H.length;ot++){t.bindFramebuffer(36160,it.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ot,36161,it.__webglColorRenderbuffer[ot]);const _t=n.get(H[ot]).__webglTexture;t.bindFramebuffer(36160,it.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ot,3553,_t,0)}t.bindFramebuffer(36009,it.__webglMultisampledFramebuffer)}}function yt(J){return Math.min(g,J.samples)}function ct(J){const H=n.get(J);return l&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function St(J){const H=a.render.frame;_.get(J)!==H&&(_.set(J,H),J.update())}function Ft(J,H){const _e=J.encoding,ke=J.format,Ge=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Qg||_e!==Ra&&(_e===Sn?l===!1?e.has("EXT_sRGB")===!0&&ke===Or?(J.format=Qg,J.minFilter=Hn,J.generateMipmaps=!1):H=sA.sRGBToLinear(H):(ke!==Or||Ge!==Ba)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",_e)),H}this.allocateTextureUnit=z,this.resetTextureUnits=de,this.setTexture2D=N,this.setTexture2DArray=X,this.setTexture3D=ee,this.setTextureCube=oe,this.rebindTextures=Ie,this.setupRenderTarget=Ze,this.updateRenderTargetMipmap=Ke,this.updateMultisampleRenderTarget=lt,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=ct}function lE(i,e,t){const n=t.isWebGL2;function r(s,a=null){let l;if(s===Ba)return 5121;if(s===RC)return 32819;if(s===LC)return 32820;if(s===bC)return 5120;if(s===PC)return 5122;if(s===$x)return 5123;if(s===BC)return 5124;if(s===Pl)return 5125;if(s===Sa)return 5126;if(s===hh)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===IC)return 6406;if(s===Or)return 6408;if(s===DC)return 6409;if(s===FC)return 6410;if(s===Rl)return 6402;if(s===lc)return 34041;if(s===Qg)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===NC)return 6403;if(s===OC)return 36244;if(s===kC)return 33319;if(s===UC)return 33320;if(s===zC)return 36249;if(s===kg||s===Ug||s===zg||s===Gg)if(a===Sn)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===kg)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ug)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===zg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Gg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===kg)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ug)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===zg)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Gg)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===jy||s===Jy||s===Xy||s===Ky)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===jy)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Jy)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Xy)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ky)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===GC)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Yy||s===Qy)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===Yy)return a===Sn?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===Qy)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===qy||s===Zy||s===$y||s===ex||s===tx||s===nx||s===ix||s===rx||s===sx||s===ox||s===ax||s===lx||s===ux||s===cx)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===qy)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Zy)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===$y)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ex)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===tx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===nx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ix)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===rx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===sx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ox)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ax)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===lx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===ux)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===cx)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Hg)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===Hg)return a===Sn?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===HC||s===fx||s===hx||s===dx)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===Hg)return l.COMPRESSED_RED_RGTC1_EXT;if(s===fx)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===hx)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===dx)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===nc?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):i[s]!==void 0?i[s]:null}return{convert:r}}class uE extends On{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class wa extends tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const FI={type:"move"};class zv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new wa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new wa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new wa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const C of e.hand.values()){const S=t.getJointPose(C,n),M=this._getHandJoint(d,C);S!==null&&(M.matrix.fromArray(S.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.jointRadius=S.radius),M.visible=S!==null}const p=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=p.position.distanceTo(g.position),y=.02,_=.005;d.inputState.pinching&&v>y+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=y-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(FI)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new wa;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class cE extends bn{constructor(e,t,n,r,s,a,l,c,d,p){if(p=p!==void 0?p:Rl,p!==Rl&&p!==lc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===Rl&&(n=Pl),n===void 0&&p===lc&&(n=nc),super(null,r,s,a,l,c,p,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:qn,this.minFilter=c!==void 0?c:qn,this.flipY=!1,this.generateMipmaps=!1}}class NI extends Ia{constructor(e,t){super();const n=this;let r=null,s=1,a=null,l="local-floor",c=1,d=null,p=null,g=null,v=null,y=null,_=null;const C=t.getContextAttributes();let S=null,M=null;const T=[],b=[],B=new Set,I=new Map,F=new On;F.layers.enable(1),F.viewport=new vn;const G=new On;G.layers.enable(2),G.viewport=new vn;const U=[F,G],D=new uE;D.layers.enable(1),D.layers.enable(2);let k=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let le=T[oe];return le===void 0&&(le=new zv,T[oe]=le),le.getTargetRaySpace()},this.getControllerGrip=function(oe){let le=T[oe];return le===void 0&&(le=new zv,T[oe]=le),le.getGripSpace()},this.getHand=function(oe){let le=T[oe];return le===void 0&&(le=new zv,T[oe]=le),le.getHandSpace()};function re(oe){const le=b.indexOf(oe.inputSource);if(le===-1)return;const Pe=T[le];Pe!==void 0&&Pe.dispatchEvent({type:oe.type,data:oe.inputSource})}function Z(){r.removeEventListener("select",re),r.removeEventListener("selectstart",re),r.removeEventListener("selectend",re),r.removeEventListener("squeeze",re),r.removeEventListener("squeezestart",re),r.removeEventListener("squeezeend",re),r.removeEventListener("end",Z),r.removeEventListener("inputsourceschange",te);for(let oe=0;oe<T.length;oe++){const le=b[oe];le!==null&&(b[oe]=null,T[oe].disconnect(le))}k=null,Q=null,e.setRenderTarget(S),y=null,v=null,g=null,r=null,M=null,ee.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){s=oe,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){l=oe,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||a},this.setReferenceSpace=function(oe){d=oe},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(oe){if(r=oe,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",re),r.addEventListener("selectstart",re),r.addEventListener("selectend",re),r.addEventListener("squeeze",re),r.addEventListener("squeezestart",re),r.addEventListener("squeezeend",re),r.addEventListener("end",Z),r.addEventListener("inputsourceschange",te),C.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const le={antialias:r.renderState.layers===void 0?C.antialias:!0,alpha:C.alpha,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(r,t,le),r.updateRenderState({baseLayer:y}),M=new to(y.framebufferWidth,y.framebufferHeight,{format:Or,type:Ba,encoding:e.outputEncoding,stencilBuffer:C.stencil})}else{let le=null,Pe=null,Ce=null;C.depth&&(Ce=C.stencil?35056:33190,le=C.stencil?lc:Rl,Pe=C.stencil?nc:Pl);const ce={colorFormat:32856,depthFormat:Ce,scaleFactor:s};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(ce),r.updateRenderState({layers:[v]}),M=new to(v.textureWidth,v.textureHeight,{format:Or,type:Ba,depthTexture:new cE(v.textureWidth,v.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:C.stencil,encoding:e.outputEncoding,samples:C.antialias?4:0});const Ve=e.properties.get(M);Ve.__ignoreDepthValues=v.ignoreDepthValues}M.isXRRenderTarget=!0,this.setFoveation(c),d=null,a=await r.requestReferenceSpace(l),ee.setContext(r),ee.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function te(oe){for(let le=0;le<oe.removed.length;le++){const Pe=oe.removed[le],Ce=b.indexOf(Pe);Ce>=0&&(b[Ce]=null,T[Ce].disconnect(Pe))}for(let le=0;le<oe.added.length;le++){const Pe=oe.added[le];let Ce=b.indexOf(Pe);if(Ce===-1){for(let Ve=0;Ve<T.length;Ve++)if(Ve>=b.length){b.push(Pe),Ce=Ve;break}else if(b[Ve]===null){b[Ve]=Pe,Ce=Ve;break}if(Ce===-1)break}const ce=T[Ce];ce&&ce.connect(Pe)}}const se=new V,ve=new V;function de(oe,le,Pe){se.setFromMatrixPosition(le.matrixWorld),ve.setFromMatrixPosition(Pe.matrixWorld);const Ce=se.distanceTo(ve),ce=le.projectionMatrix.elements,Ve=Pe.projectionMatrix.elements,qe=ce[14]/(ce[10]-1),Fe=ce[14]/(ce[10]+1),Oe=(ce[9]+1)/ce[5],Be=(ce[9]-1)/ce[5],Ae=(ce[8]-1)/ce[0],Ie=(Ve[8]+1)/Ve[0],Ze=qe*Ae,Ke=qe*Ie,lt=Ce/(-Ae+Ie),yt=lt*-Ae;le.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(yt),oe.translateZ(lt),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert();const ct=qe+lt,St=Fe+lt,Ft=Ze-yt,J=Ke+(Ce-yt),H=Oe*Fe/St*ct,_e=Be*Fe/St*ct;oe.projectionMatrix.makePerspective(Ft,J,H,_e,ct,St),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}function z(oe,le){le===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(le.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(r===null)return;D.near=G.near=F.near=oe.near,D.far=G.far=F.far=oe.far,(k!==D.near||Q!==D.far)&&(r.updateRenderState({depthNear:D.near,depthFar:D.far}),k=D.near,Q=D.far);const le=oe.parent,Pe=D.cameras;z(D,le);for(let Ce=0;Ce<Pe.length;Ce++)z(Pe[Ce],le);Pe.length===2?de(D,F,G):D.projectionMatrix.copy(F.projectionMatrix),Y(oe,D,le)};function Y(oe,le,Pe){Pe===null?oe.matrix.copy(le.matrixWorld):(oe.matrix.copy(Pe.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(le.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0);const Ce=oe.children;for(let ce=0,Ve=Ce.length;ce<Ve;ce++)Ce[ce].updateMatrixWorld(!0);oe.projectionMatrix.copy(le.projectionMatrix),oe.projectionMatrixInverse.copy(le.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=mh*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(v===null&&y===null))return c},this.setFoveation=function(oe){c=oe,v!==null&&(v.fixedFoveation=oe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=oe)},this.getPlanes=function(){return B};let N=null;function X(oe,le){if(p=le.getViewerPose(d||a),_=le,p!==null){const Pe=p.views;y!==null&&(e.setRenderTargetFramebuffer(M,y.framebuffer),e.setRenderTarget(M));let Ce=!1;Pe.length!==D.cameras.length&&(D.cameras.length=0,Ce=!0);for(let ce=0;ce<Pe.length;ce++){const Ve=Pe[ce];let qe=null;if(y!==null)qe=y.getViewport(Ve);else{const Oe=g.getViewSubImage(v,Ve);qe=Oe.viewport,ce===0&&(e.setRenderTargetTextures(M,Oe.colorTexture,v.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(M))}let Fe=U[ce];Fe===void 0&&(Fe=new On,Fe.layers.enable(ce),Fe.viewport=new vn,U[ce]=Fe),Fe.matrix.fromArray(Ve.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Ve.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(qe.x,qe.y,qe.width,qe.height),ce===0&&(D.matrix.copy(Fe.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),Ce===!0&&D.cameras.push(Fe)}}for(let Pe=0;Pe<T.length;Pe++){const Ce=b[Pe],ce=T[Pe];Ce!==null&&ce!==void 0&&ce.update(Ce,le,d||a)}if(N&&N(oe,le),le.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:le.detectedPlanes});let Pe=null;for(const Ce of B)le.detectedPlanes.has(Ce)||(Pe===null&&(Pe=[]),Pe.push(Ce));if(Pe!==null)for(const Ce of Pe)B.delete(Ce),I.delete(Ce),n.dispatchEvent({type:"planeremoved",data:Ce});for(const Ce of le.detectedPlanes)if(!B.has(Ce))B.add(Ce),I.set(Ce,le.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Ce});else{const ce=I.get(Ce);Ce.lastChangedTime>ce&&(I.set(Ce,Ce.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Ce}))}}_=null}const ee=new iE;ee.setAnimationLoop(X),this.setAnimationLoop=function(oe){N=oe},this.dispose=function(){}}}function OI(i,e){function t(S,M){S.matrixAutoUpdate===!0&&S.updateMatrix(),M.value.copy(S.matrix)}function n(S,M){M.color.getRGB(S.fogColor.value,tE(i)),M.isFog?(S.fogNear.value=M.near,S.fogFar.value=M.far):M.isFogExp2&&(S.fogDensity.value=M.density)}function r(S,M,T,b,B){M.isMeshBasicMaterial||M.isMeshLambertMaterial?s(S,M):M.isMeshToonMaterial?(s(S,M),g(S,M)):M.isMeshPhongMaterial?(s(S,M),p(S,M)):M.isMeshStandardMaterial?(s(S,M),v(S,M),M.isMeshPhysicalMaterial&&y(S,M,B)):M.isMeshMatcapMaterial?(s(S,M),_(S,M)):M.isMeshDepthMaterial?s(S,M):M.isMeshDistanceMaterial?(s(S,M),C(S,M)):M.isMeshNormalMaterial?s(S,M):M.isLineBasicMaterial?(a(S,M),M.isLineDashedMaterial&&l(S,M)):M.isPointsMaterial?c(S,M,T,b):M.isSpriteMaterial?d(S,M):M.isShadowMaterial?(S.color.value.copy(M.color),S.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function s(S,M){S.opacity.value=M.opacity,M.color&&S.diffuse.value.copy(M.color),M.emissive&&S.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(S.map.value=M.map,t(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,t(M.alphaMap,S.alphaMapTransform)),M.bumpMap&&(S.bumpMap.value=M.bumpMap,t(M.bumpMap,S.bumpMapTransform),S.bumpScale.value=M.bumpScale,M.side===gr&&(S.bumpScale.value*=-1)),M.normalMap&&(S.normalMap.value=M.normalMap,t(M.normalMap,S.normalMapTransform),S.normalScale.value.copy(M.normalScale),M.side===gr&&S.normalScale.value.negate()),M.displacementMap&&(S.displacementMap.value=M.displacementMap,t(M.displacementMap,S.displacementMapTransform),S.displacementScale.value=M.displacementScale,S.displacementBias.value=M.displacementBias),M.emissiveMap&&(S.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,S.emissiveMapTransform)),M.specularMap&&(S.specularMap.value=M.specularMap,t(M.specularMap,S.specularMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest);const T=e.get(M).envMap;if(T&&(S.envMap.value=T,S.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=M.reflectivity,S.ior.value=M.ior,S.refractionRatio.value=M.refractionRatio),M.lightMap){S.lightMap.value=M.lightMap;const b=i.useLegacyLights===!0?Math.PI:1;S.lightMapIntensity.value=M.lightMapIntensity*b,t(M.lightMap,S.lightMapTransform)}M.aoMap&&(S.aoMap.value=M.aoMap,S.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,S.aoMapTransform))}function a(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,M.map&&(S.map.value=M.map,t(M.map,S.mapTransform))}function l(S,M){S.dashSize.value=M.dashSize,S.totalSize.value=M.dashSize+M.gapSize,S.scale.value=M.scale}function c(S,M,T,b){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.size.value=M.size*T,S.scale.value=b*.5,M.map&&(S.map.value=M.map,t(M.map,S.uvTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function d(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.rotation.value=M.rotation,M.map&&(S.map.value=M.map,t(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function p(S,M){S.specular.value.copy(M.specular),S.shininess.value=Math.max(M.shininess,1e-4)}function g(S,M){M.gradientMap&&(S.gradientMap.value=M.gradientMap)}function v(S,M){S.metalness.value=M.metalness,M.metalnessMap&&(S.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,S.metalnessMapTransform)),S.roughness.value=M.roughness,M.roughnessMap&&(S.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,S.roughnessMapTransform)),e.get(M).envMap&&(S.envMapIntensity.value=M.envMapIntensity)}function y(S,M,T){S.ior.value=M.ior,M.sheen>0&&(S.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),S.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(S.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,S.sheenColorMapTransform)),M.sheenRoughnessMap&&(S.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,S.sheenRoughnessMapTransform))),M.clearcoat>0&&(S.clearcoat.value=M.clearcoat,S.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(S.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,S.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(S.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===gr&&S.clearcoatNormalScale.value.negate())),M.iridescence>0&&(S.iridescence.value=M.iridescence,S.iridescenceIOR.value=M.iridescenceIOR,S.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(S.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,S.iridescenceMapTransform)),M.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),M.transmission>0&&(S.transmission.value=M.transmission,S.transmissionSamplerMap.value=T.texture,S.transmissionSamplerSize.value.set(T.width,T.height),M.transmissionMap&&(S.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,S.transmissionMapTransform)),S.thickness.value=M.thickness,M.thicknessMap&&(S.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=M.attenuationDistance,S.attenuationColor.value.copy(M.attenuationColor)),S.specularIntensity.value=M.specularIntensity,S.specularColor.value.copy(M.specularColor),M.specularColorMap&&(S.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,S.specularColorMapTransform)),M.specularIntensityMap&&(S.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,S.specularIntensityMapTransform))}function _(S,M){M.matcap&&(S.matcap.value=M.matcap)}function C(S,M){const T=e.get(M).light;S.referencePosition.value.setFromMatrixPosition(T.matrixWorld),S.nearDistance.value=T.shadow.camera.near,S.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function kI(i,e,t,n){let r={},s={},a=[];const l=t.isWebGL2?i.getParameter(35375):0;function c(T,b){const B=b.program;n.uniformBlockBinding(T,B)}function d(T,b){let B=r[T.id];B===void 0&&(_(T),B=p(T),r[T.id]=B,T.addEventListener("dispose",S));const I=b.program;n.updateUBOMapping(T,I);const F=e.render.frame;s[T.id]!==F&&(v(T),s[T.id]=F)}function p(T){const b=g();T.__bindingPointIndex=b;const B=i.createBuffer(),I=T.__size,F=T.usage;return i.bindBuffer(35345,B),i.bufferData(35345,I,F),i.bindBuffer(35345,null),i.bindBufferBase(35345,b,B),B}function g(){for(let T=0;T<l;T++)if(a.indexOf(T)===-1)return a.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(T){const b=r[T.id],B=T.uniforms,I=T.__cache;i.bindBuffer(35345,b);for(let F=0,G=B.length;F<G;F++){const U=B[F];if(y(U,F,I)===!0){const D=U.__offset,k=Array.isArray(U.value)?U.value:[U.value];let Q=0;for(let re=0;re<k.length;re++){const Z=k[re],te=C(Z);typeof Z=="number"?(U.__data[0]=Z,i.bufferSubData(35345,D+Q,U.__data)):Z.isMatrix3?(U.__data[0]=Z.elements[0],U.__data[1]=Z.elements[1],U.__data[2]=Z.elements[2],U.__data[3]=Z.elements[0],U.__data[4]=Z.elements[3],U.__data[5]=Z.elements[4],U.__data[6]=Z.elements[5],U.__data[7]=Z.elements[0],U.__data[8]=Z.elements[6],U.__data[9]=Z.elements[7],U.__data[10]=Z.elements[8],U.__data[11]=Z.elements[0]):(Z.toArray(U.__data,Q),Q+=te.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(35345,D,U.__data)}}i.bindBuffer(35345,null)}function y(T,b,B){const I=T.value;if(B[b]===void 0){if(typeof I=="number")B[b]=I;else{const F=Array.isArray(I)?I:[I],G=[];for(let U=0;U<F.length;U++)G.push(F[U].clone());B[b]=G}return!0}else if(typeof I=="number"){if(B[b]!==I)return B[b]=I,!0}else{const F=Array.isArray(B[b])?B[b]:[B[b]],G=Array.isArray(I)?I:[I];for(let U=0;U<F.length;U++){const D=F[U];if(D.equals(G[U])===!1)return D.copy(G[U]),!0}}return!1}function _(T){const b=T.uniforms;let B=0;const I=16;let F=0;for(let G=0,U=b.length;G<U;G++){const D=b[G],k={boundary:0,storage:0},Q=Array.isArray(D.value)?D.value:[D.value];for(let re=0,Z=Q.length;re<Z;re++){const te=Q[re],se=C(te);k.boundary+=se.boundary,k.storage+=se.storage}if(D.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=B,G>0){F=B%I;const re=I-F;F!==0&&re-k.boundary<0&&(B+=I-F,D.__offset=B)}B+=k.storage}return F=B%I,F>0&&(B+=I-F),T.__size=B,T.__cache={},this}function C(T){const b={boundary:0,storage:0};return typeof T=="number"?(b.boundary=4,b.storage=4):T.isVector2?(b.boundary=8,b.storage=8):T.isVector3||T.isColor?(b.boundary=16,b.storage=12):T.isVector4?(b.boundary=16,b.storage=16):T.isMatrix3?(b.boundary=48,b.storage=48):T.isMatrix4?(b.boundary=64,b.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),b}function S(T){const b=T.target;b.removeEventListener("dispose",S);const B=a.indexOf(b.__bindingPointIndex);a.splice(B,1),i.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function M(){for(const T in r)i.deleteBuffer(r[T]);a=[],r={},s={}}return{bind:c,update:d,dispose:M}}function UI(){const i=op("canvas");return i.style.display="block",i}class pA{constructor(e={}){const{canvas:t=UI(),context:n=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1}=e;this.isWebGLRenderer=!0;let v;n!==null?v=n.getContextAttributes().alpha:v=a;let y=null,_=null;const C=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ra,this.useLegacyLights=!0,this.toneMapping=$s,this.toneMappingExposure=1;const M=this;let T=!1,b=0,B=0,I=null,F=-1,G=null;const U=new vn,D=new vn;let k=null,Q=t.width,re=t.height,Z=1,te=null,se=null;const ve=new vn(0,0,Q,re),de=new vn(0,0,Q,re);let z=!1;const Y=new y0;let N=!1,X=!1,ee=null;const oe=new Rt,le=new V,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ce(){return I===null?Z:1}let ce=n;function Ve(W,ye){for(let be=0;be<W.length;be++){const me=W[be],Le=t.getContext(me,ye);if(Le!==null)return Le}return null}try{const W={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${_h}`),t.addEventListener("webglcontextlost",dt,!1),t.addEventListener("webglcontextrestored",ne,!1),t.addEventListener("webglcontextcreationerror",De,!1),ce===null){const ye=["webgl2","webgl","experimental-webgl"];if(M.isWebGL1Renderer===!0&&ye.shift(),ce=Ve(ye,W),ce===null)throw Ve(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ce.getShaderPrecisionFormat===void 0&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}let qe,Fe,Oe,Be,Ae,Ie,Ze,Ke,lt,yt,ct,St,Ft,J,H,_e,ke,Ge,je,At,it,Te,ot,_t;function Mt(){qe=new tL(ce),Fe=new YR(ce,qe,e),qe.init(Fe),Te=new lE(ce,qe,Fe),Oe=new II(ce,qe,Fe),Be=new rL,Ae=new _I,Ie=new DI(ce,qe,Oe,Ae,Fe,Te,Be),Ze=new qR(M),Ke=new eL(M),lt=new g3(ce,Fe),ot=new XR(ce,qe,lt,Fe),yt=new nL(ce,lt,Be,ot),ct=new lL(ce,yt,lt,Be),je=new aL(ce,Fe,Ie),_e=new QR(Ae),St=new AI(M,Ze,Ke,qe,Fe,ot,_e),Ft=new OI(M,Ae),J=new SI,H=new PI(qe,Fe),Ge=new JR(M,Ze,Ke,Oe,ct,v,c),ke=new LI(M,ct,Fe),_t=new kI(ce,Be,Fe,Oe),At=new KR(ce,qe,Be,Fe),it=new iL(ce,qe,Be,Fe),Be.programs=St.programs,M.capabilities=Fe,M.extensions=qe,M.properties=Ae,M.renderLists=J,M.shadowMap=ke,M.state=Oe,M.info=Be}Mt();const rt=new NI(M,ce);this.xr=rt,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const W=qe.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=qe.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(W){W!==void 0&&(Z=W,this.setSize(Q,re,!1))},this.getSize=function(W){return W.set(Q,re)},this.setSize=function(W,ye,be=!0){if(rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=W,re=ye,t.width=Math.floor(W*Z),t.height=Math.floor(ye*Z),be===!0&&(t.style.width=W+"px",t.style.height=ye+"px"),this.setViewport(0,0,W,ye)},this.getDrawingBufferSize=function(W){return W.set(Q*Z,re*Z).floor()},this.setDrawingBufferSize=function(W,ye,be){Q=W,re=ye,Z=be,t.width=Math.floor(W*be),t.height=Math.floor(ye*be),this.setViewport(0,0,W,ye)},this.getCurrentViewport=function(W){return W.copy(U)},this.getViewport=function(W){return W.copy(ve)},this.setViewport=function(W,ye,be,me){W.isVector4?ve.set(W.x,W.y,W.z,W.w):ve.set(W,ye,be,me),Oe.viewport(U.copy(ve).multiplyScalar(Z).floor())},this.getScissor=function(W){return W.copy(de)},this.setScissor=function(W,ye,be,me){W.isVector4?de.set(W.x,W.y,W.z,W.w):de.set(W,ye,be,me),Oe.scissor(D.copy(de).multiplyScalar(Z).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(W){Oe.setScissorTest(z=W)},this.setOpaqueSort=function(W){te=W},this.setTransparentSort=function(W){se=W},this.getClearColor=function(W){return W.copy(Ge.getClearColor())},this.setClearColor=function(){Ge.setClearColor.apply(Ge,arguments)},this.getClearAlpha=function(){return Ge.getClearAlpha()},this.setClearAlpha=function(){Ge.setClearAlpha.apply(Ge,arguments)},this.clear=function(W=!0,ye=!0,be=!0){let me=0;W&&(me|=16384),ye&&(me|=256),be&&(me|=1024),ce.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dt,!1),t.removeEventListener("webglcontextrestored",ne,!1),t.removeEventListener("webglcontextcreationerror",De,!1),J.dispose(),H.dispose(),Ae.dispose(),Ze.dispose(),Ke.dispose(),ct.dispose(),ot.dispose(),_t.dispose(),St.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",vt),rt.removeEventListener("sessionend",nn),ee&&(ee.dispose(),ee=null),Yt.stop()};function dt(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function ne(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const W=Be.autoReset,ye=ke.enabled,be=ke.autoUpdate,me=ke.needsUpdate,Le=ke.type;Mt(),Be.autoReset=W,ke.enabled=ye,ke.autoUpdate=be,ke.needsUpdate=me,ke.type=Le}function De(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function tt(W){const ye=W.target;ye.removeEventListener("dispose",tt),$(ye)}function $(W){Me(W),Ae.remove(W)}function Me(W){const ye=Ae.get(W).programs;ye!==void 0&&(ye.forEach(function(be){St.releaseProgram(be)}),W.isShaderMaterial&&St.releaseShaderCache(W))}this.renderBufferDirect=function(W,ye,be,me,Le,pt){ye===null&&(ye=Pe);const bt=Le.isMesh&&Le.matrixWorld.determinant()<0,Pt=Mc(W,ye,be,me,Le);Oe.setMaterial(me,bt);let Nt=be.index,zt=1;me.wireframe===!0&&(Nt=yt.getWireframeAttribute(be),zt=2);const Gt=be.drawRange,Wt=be.attributes.position;let an=Gt.start*zt,vi=(Gt.start+Gt.count)*zt;pt!==null&&(an=Math.max(an,pt.start*zt),vi=Math.min(vi,(pt.start+pt.count)*zt)),Nt!==null?(an=Math.max(an,0),vi=Math.min(vi,Nt.count)):Wt!=null&&(an=Math.max(an,0),vi=Math.min(vi,Wt.count));const rr=vi-an;if(rr<0||rr===1/0)return;ot.setup(Le,me,Pt,be,Nt);let ln,yn=At;if(Nt!==null&&(ln=lt.get(Nt),yn=it,yn.setIndex(ln)),Le.isMesh)me.wireframe===!0?(Oe.setLineWidth(me.wireframeLinewidth*Ce()),yn.setMode(1)):yn.setMode(4);else if(Le.isLine){let Ht=me.linewidth;Ht===void 0&&(Ht=1),Oe.setLineWidth(Ht*Ce()),Le.isLineSegments?yn.setMode(1):Le.isLineLoop?yn.setMode(2):yn.setMode(3)}else Le.isPoints?yn.setMode(0):Le.isSprite&&yn.setMode(4);if(Le.isInstancedMesh)yn.renderInstances(an,rr,Le.count);else if(be.isInstancedBufferGeometry){const Ht=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,co=Math.min(be.instanceCount,Ht);yn.renderInstances(an,rr,co)}else yn.render(an,rr)},this.compile=function(W,ye){function be(me,Le,pt){me.transparent===!0&&me.side===ws&&me.forceSinglePass===!1?(me.side=gr,me.needsUpdate=!0,lo(me,Le,pt),me.side=Fo,me.needsUpdate=!0,lo(me,Le,pt),me.side=ws):lo(me,Le,pt)}_=H.get(W),_.init(),S.push(_),W.traverseVisible(function(me){me.isLight&&me.layers.test(ye.layers)&&(_.pushLight(me),me.castShadow&&_.pushShadow(me))}),_.setupLights(M.useLegacyLights),W.traverse(function(me){const Le=me.material;if(Le)if(Array.isArray(Le))for(let pt=0;pt<Le.length;pt++){const bt=Le[pt];be(bt,W,me)}else be(Le,W,me)}),S.pop(),_=null};let Ne=null;function Xe(W){Ne&&Ne(W)}function vt(){Yt.stop()}function nn(){Yt.start()}const Yt=new iE;Yt.setAnimationLoop(Xe),typeof self<"u"&&Yt.setContext(self),this.setAnimationLoop=function(W){Ne=W,rt.setAnimationLoop(W),W===null?Yt.stop():Yt.start()},rt.addEventListener("sessionstart",vt),rt.addEventListener("sessionend",nn),this.render=function(W,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(ye),ye=rt.getCamera()),W.isScene===!0&&W.onBeforeRender(M,W,ye,I),_=H.get(W,S.length),_.init(),S.push(_),oe.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),Y.setFromProjectionMatrix(oe),X=this.localClippingEnabled,N=_e.init(this.clippingPlanes,X),y=J.get(W,C.length),y.init(),C.push(y),dn(W,ye,0,M.sortObjects),y.finish(),M.sortObjects===!0&&y.sort(te,se),N===!0&&_e.beginShadows();const be=_.state.shadowsArray;if(ke.render(be,W,ye),N===!0&&_e.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ge.render(y,W),_.setupLights(M.useLegacyLights),ye.isArrayCamera){const me=ye.cameras;for(let Le=0,pt=me.length;Le<pt;Le++){const bt=me[Le];ri(y,W,bt,bt.viewport)}}else ri(y,W,ye);I!==null&&(Ie.updateMultisampleRenderTarget(I),Ie.updateRenderTargetMipmap(I)),W.isScene===!0&&W.onAfterRender(M,W,ye),ot.resetDefaultState(),F=-1,G=null,S.pop(),S.length>0?_=S[S.length-1]:_=null,C.pop(),C.length>0?y=C[C.length-1]:y=null};function dn(W,ye,be,me){if(W.visible===!1)return;if(W.layers.test(ye.layers)){if(W.isGroup)be=W.renderOrder;else if(W.isLOD)W.autoUpdate===!0&&W.update(ye);else if(W.isLight)_.pushLight(W),W.castShadow&&_.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||Y.intersectsSprite(W)){me&&le.setFromMatrixPosition(W.matrixWorld).applyMatrix4(oe);const bt=ct.update(W),Pt=W.material;Pt.visible&&y.push(W,bt,Pt,be,le.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(W.isSkinnedMesh&&W.skeleton.frame!==Be.render.frame&&(W.skeleton.update(),W.skeleton.frame=Be.render.frame),!W.frustumCulled||Y.intersectsObject(W))){me&&le.setFromMatrixPosition(W.matrixWorld).applyMatrix4(oe);const bt=ct.update(W),Pt=W.material;if(Array.isArray(Pt)){const Nt=bt.groups;for(let zt=0,Gt=Nt.length;zt<Gt;zt++){const Wt=Nt[zt],an=Pt[Wt.materialIndex];an&&an.visible&&y.push(W,bt,an,be,le.z,Wt)}}else Pt.visible&&y.push(W,bt,Pt,be,le.z,null)}}const pt=W.children;for(let bt=0,Pt=pt.length;bt<Pt;bt++)dn(pt[bt],ye,be,me)}function ri(W,ye,be,me){const Le=W.opaque,pt=W.transmissive,bt=W.transparent;_.setupLightsView(be),N===!0&&_e.setGlobalState(M.clippingPlanes,be),pt.length>0&&rn(Le,pt,ye,be),me&&Oe.viewport(U.copy(me)),Le.length>0&&Dn(Le,ye,be),pt.length>0&&Dn(pt,ye,be),bt.length>0&&Dn(bt,ye,be),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function rn(W,ye,be,me){if(ee===null){const Pt=Fe.isWebGL2;ee=new to(1024,1024,{generateMipmaps:!0,type:qe.has("EXT_color_buffer_half_float")?hh:Ba,minFilter:No,samples:Pt&&l===!0?4:0})}const Le=M.getRenderTarget();M.setRenderTarget(ee),M.clear();const pt=M.toneMapping;M.toneMapping=$s,Dn(W,be,me),Ie.updateMultisampleRenderTarget(ee),Ie.updateRenderTargetMipmap(ee);let bt=!1;for(let Pt=0,Nt=ye.length;Pt<Nt;Pt++){const zt=ye[Pt],Gt=zt.object,Wt=zt.geometry,an=zt.material,vi=zt.group;if(an.side===ws&&Gt.layers.test(me.layers)){const rr=an.side;an.side=gr,an.needsUpdate=!0,kn(Gt,be,me,Wt,an,vi),an.side=rr,an.needsUpdate=!0,bt=!0}}bt===!0&&(Ie.updateMultisampleRenderTarget(ee),Ie.updateRenderTargetMipmap(ee)),M.setRenderTarget(Le),M.toneMapping=pt}function Dn(W,ye,be){const me=ye.isScene===!0?ye.overrideMaterial:null;for(let Le=0,pt=W.length;Le<pt;Le++){const bt=W[Le],Pt=bt.object,Nt=bt.geometry,zt=me===null?bt.material:me,Gt=bt.group;Pt.layers.test(be.layers)&&kn(Pt,ye,be,Nt,zt,Gt)}}function kn(W,ye,be,me,Le,pt){W.onBeforeRender(M,ye,be,me,Le,pt),W.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),Le.onBeforeRender(M,ye,be,me,W,pt),Le.transparent===!0&&Le.side===ws&&Le.forceSinglePass===!1?(Le.side=gr,Le.needsUpdate=!0,M.renderBufferDirect(be,ye,me,Le,W,pt),Le.side=Fo,Le.needsUpdate=!0,M.renderBufferDirect(be,ye,me,Le,W,pt),Le.side=ws):M.renderBufferDirect(be,ye,me,Le,W,pt),W.onAfterRender(M,ye,be,me,Le,pt)}function lo(W,ye,be){ye.isScene!==!0&&(ye=Pe);const me=Ae.get(W),Le=_.state.lights,pt=_.state.shadowsArray,bt=Le.state.version,Pt=St.getParameters(W,Le.state,pt,ye,be),Nt=St.getProgramCacheKey(Pt);let zt=me.programs;me.environment=W.isMeshStandardMaterial?ye.environment:null,me.fog=ye.fog,me.envMap=(W.isMeshStandardMaterial?Ke:Ze).get(W.envMap||me.environment),zt===void 0&&(W.addEventListener("dispose",tt),zt=new Map,me.programs=zt);let Gt=zt.get(Nt);if(Gt!==void 0){if(me.currentProgram===Gt&&me.lightsStateVersion===bt)return uo(W,Pt),Gt}else Pt.uniforms=St.getUniforms(W),W.onBuild(be,Pt,M),W.onBeforeCompile(Pt,M),Gt=St.acquireProgram(Pt,Nt),zt.set(Nt,Gt),me.uniforms=Pt.uniforms;const Wt=me.uniforms;(!W.isShaderMaterial&&!W.isRawShaderMaterial||W.clipping===!0)&&(Wt.clippingPlanes=_e.uniform),uo(W,Pt),me.needsLights=Fa(W),me.lightsStateVersion=bt,me.needsLights&&(Wt.ambientLightColor.value=Le.state.ambient,Wt.lightProbe.value=Le.state.probe,Wt.directionalLights.value=Le.state.directional,Wt.directionalLightShadows.value=Le.state.directionalShadow,Wt.spotLights.value=Le.state.spot,Wt.spotLightShadows.value=Le.state.spotShadow,Wt.rectAreaLights.value=Le.state.rectArea,Wt.ltc_1.value=Le.state.rectAreaLTC1,Wt.ltc_2.value=Le.state.rectAreaLTC2,Wt.pointLights.value=Le.state.point,Wt.pointLightShadows.value=Le.state.pointShadow,Wt.hemisphereLights.value=Le.state.hemi,Wt.directionalShadowMap.value=Le.state.directionalShadowMap,Wt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,Wt.spotShadowMap.value=Le.state.spotShadowMap,Wt.spotLightMatrix.value=Le.state.spotLightMatrix,Wt.spotLightMap.value=Le.state.spotLightMap,Wt.pointShadowMap.value=Le.state.pointShadowMap,Wt.pointShadowMatrix.value=Le.state.pointShadowMatrix);const an=Gt.getUniforms(),vi=jg.seqWithValue(an.seq,Wt);return me.currentProgram=Gt,me.uniformsList=vi,Gt}function uo(W,ye){const be=Ae.get(W);be.outputEncoding=ye.outputEncoding,be.instancing=ye.instancing,be.skinning=ye.skinning,be.morphTargets=ye.morphTargets,be.morphNormals=ye.morphNormals,be.morphColors=ye.morphColors,be.morphTargetsCount=ye.morphTargetsCount,be.numClippingPlanes=ye.numClippingPlanes,be.numIntersection=ye.numClipIntersection,be.vertexAlphas=ye.vertexAlphas,be.vertexTangents=ye.vertexTangents,be.toneMapping=ye.toneMapping}function Mc(W,ye,be,me,Le){ye.isScene!==!0&&(ye=Pe),Ie.resetTextureUnits();const pt=ye.fog,bt=me.isMeshStandardMaterial?ye.environment:null,Pt=I===null?M.outputEncoding:I.isXRRenderTarget===!0?I.texture.encoding:Ra,Nt=(me.isMeshStandardMaterial?Ke:Ze).get(me.envMap||bt),zt=me.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Gt=!!me.normalMap&&!!be.attributes.tangent,Wt=!!be.morphAttributes.position,an=!!be.morphAttributes.normal,vi=!!be.morphAttributes.color,rr=me.toneMapped?M.toneMapping:$s,ln=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,yn=ln!==void 0?ln.length:0,Ht=Ae.get(me),co=_.state.lights;if(N===!0&&(X===!0||W!==G)){const pn=W===G&&me.id===F;_e.setState(me,W,pn)}let Pn=!1;me.version===Ht.__version?(Ht.needsLights&&Ht.lightsStateVersion!==co.state.version||Ht.outputEncoding!==Pt||Le.isInstancedMesh&&Ht.instancing===!1||!Le.isInstancedMesh&&Ht.instancing===!0||Le.isSkinnedMesh&&Ht.skinning===!1||!Le.isSkinnedMesh&&Ht.skinning===!0||Ht.envMap!==Nt||me.fog===!0&&Ht.fog!==pt||Ht.numClippingPlanes!==void 0&&(Ht.numClippingPlanes!==_e.numPlanes||Ht.numIntersection!==_e.numIntersection)||Ht.vertexAlphas!==zt||Ht.vertexTangents!==Gt||Ht.morphTargets!==Wt||Ht.morphNormals!==an||Ht.morphColors!==vi||Ht.toneMapping!==rr||Fe.isWebGL2===!0&&Ht.morphTargetsCount!==yn)&&(Pn=!0):(Pn=!0,Ht.__version=me.version);let zr=Ht.currentProgram;Pn===!0&&(zr=lo(me,ye,Le));let as=!1,yi=!1,Jt=!1;const Ot=zr.getUniforms(),xn=Ht.uniforms;if(Oe.useProgram(zr.program)&&(as=!0,yi=!0,Jt=!0),me.id!==F&&(F=me.id,yi=!0),as||G!==W){if(Ot.setValue(ce,"projectionMatrix",W.projectionMatrix),Fe.logarithmicDepthBuffer&&Ot.setValue(ce,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),G!==W&&(G=W,yi=!0,Jt=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const pn=Ot.map.cameraPosition;pn!==void 0&&pn.setValue(ce,le.setFromMatrixPosition(W.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Ot.setValue(ce,"isOrthographic",W.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||Le.isSkinnedMesh)&&Ot.setValue(ce,"viewMatrix",W.matrixWorldInverse)}if(Le.isSkinnedMesh){Ot.setOptional(ce,Le,"bindMatrix"),Ot.setOptional(ce,Le,"bindMatrixInverse");const pn=Le.skeleton;pn&&(Fe.floatVertexTextures?(pn.boneTexture===null&&pn.computeBoneTexture(),Ot.setValue(ce,"boneTexture",pn.boneTexture,Ie),Ot.setValue(ce,"boneTextureSize",pn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jn=be.morphAttributes;if((Jn.position!==void 0||Jn.normal!==void 0||Jn.color!==void 0&&Fe.isWebGL2===!0)&&je.update(Le,be,zr),(yi||Ht.receiveShadow!==Le.receiveShadow)&&(Ht.receiveShadow=Le.receiveShadow,Ot.setValue(ce,"receiveShadow",Le.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(xn.envMap.value=Nt,xn.flipEnvMap.value=Nt.isCubeTexture&&Nt.isRenderTargetTexture===!1?-1:1),yi&&(Ot.setValue(ce,"toneMappingExposure",M.toneMappingExposure),Ht.needsLights&&Ts(xn,Jt),pt&&me.fog===!0&&Ft.refreshFogUniforms(xn,pt),Ft.refreshMaterialUniforms(xn,me,Z,re,ee),jg.upload(ce,Ht.uniformsList,xn,Ie)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(jg.upload(ce,Ht.uniformsList,xn,Ie),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Ot.setValue(ce,"center",Le.center),Ot.setValue(ce,"modelViewMatrix",Le.modelViewMatrix),Ot.setValue(ce,"normalMatrix",Le.normalMatrix),Ot.setValue(ce,"modelMatrix",Le.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const pn=me.uniformsGroups;for(let Gr=0,Hr=pn.length;Gr<Hr;Gr++)if(Fe.isWebGL2){const Xn=pn[Gr];_t.update(Xn,zr),_t.bind(Xn,zr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zr}function Ts(W,ye){W.ambientLightColor.needsUpdate=ye,W.lightProbe.needsUpdate=ye,W.directionalLights.needsUpdate=ye,W.directionalLightShadows.needsUpdate=ye,W.pointLights.needsUpdate=ye,W.pointLightShadows.needsUpdate=ye,W.spotLights.needsUpdate=ye,W.spotLightShadows.needsUpdate=ye,W.rectAreaLights.needsUpdate=ye,W.hemisphereLights.needsUpdate=ye}function Fa(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&W.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(W,ye,be){Ae.get(W.texture).__webglTexture=ye,Ae.get(W.depthTexture).__webglTexture=be;const me=Ae.get(W);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=be===void 0,me.__autoAllocateDepthBuffer||qe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(W,ye){const be=Ae.get(W);be.__webglFramebuffer=ye,be.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(W,ye=0,be=0){I=W,b=ye,B=be;let me=!0,Le=null,pt=!1,bt=!1;if(W){const Nt=Ae.get(W);Nt.__useDefaultFramebuffer!==void 0?(Oe.bindFramebuffer(36160,null),me=!1):Nt.__webglFramebuffer===void 0?Ie.setupRenderTarget(W):Nt.__hasExternalTextures&&Ie.rebindTextures(W,Ae.get(W.texture).__webglTexture,Ae.get(W.depthTexture).__webglTexture);const zt=W.texture;(zt.isData3DTexture||zt.isDataArrayTexture||zt.isCompressedArrayTexture)&&(bt=!0);const Gt=Ae.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?(Le=Gt[ye],pt=!0):Fe.isWebGL2&&W.samples>0&&Ie.useMultisampledRTT(W)===!1?Le=Ae.get(W).__webglMultisampledFramebuffer:Le=Gt,U.copy(W.viewport),D.copy(W.scissor),k=W.scissorTest}else U.copy(ve).multiplyScalar(Z).floor(),D.copy(de).multiplyScalar(Z).floor(),k=z;if(Oe.bindFramebuffer(36160,Le)&&Fe.drawBuffers&&me&&Oe.drawBuffers(W,Le),Oe.viewport(U),Oe.scissor(D),Oe.setScissorTest(k),pt){const Nt=Ae.get(W.texture);ce.framebufferTexture2D(36160,36064,34069+ye,Nt.__webglTexture,be)}else if(bt){const Nt=Ae.get(W.texture),zt=ye||0;ce.framebufferTextureLayer(36160,36064,Nt.__webglTexture,be||0,zt)}F=-1},this.readRenderTargetPixels=function(W,ye,be,me,Le,pt,bt){if(!(W&&W.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=Ae.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&bt!==void 0&&(Pt=Pt[bt]),Pt){Oe.bindFramebuffer(36160,Pt);try{const Nt=W.texture,zt=Nt.format,Gt=Nt.type;if(zt!==Or&&Te.convert(zt)!==ce.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Wt=Gt===hh&&(qe.has("EXT_color_buffer_half_float")||Fe.isWebGL2&&qe.has("EXT_color_buffer_float"));if(Gt!==Ba&&Te.convert(Gt)!==ce.getParameter(35738)&&!(Gt===Sa&&(Fe.isWebGL2||qe.has("OES_texture_float")||qe.has("WEBGL_color_buffer_float")))&&!Wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=W.width-me&&be>=0&&be<=W.height-Le&&ce.readPixels(ye,be,me,Le,Te.convert(zt),Te.convert(Gt),pt)}finally{const Nt=I!==null?Ae.get(I).__webglFramebuffer:null;Oe.bindFramebuffer(36160,Nt)}}},this.copyFramebufferToTexture=function(W,ye,be=0){const me=Math.pow(2,-be),Le=Math.floor(ye.image.width*me),pt=Math.floor(ye.image.height*me);Ie.setTexture2D(ye,0),ce.copyTexSubImage2D(3553,be,0,0,W.x,W.y,Le,pt),Oe.unbindTexture()},this.copyTextureToTexture=function(W,ye,be,me=0){const Le=ye.image.width,pt=ye.image.height,bt=Te.convert(be.format),Pt=Te.convert(be.type);Ie.setTexture2D(be,0),ce.pixelStorei(37440,be.flipY),ce.pixelStorei(37441,be.premultiplyAlpha),ce.pixelStorei(3317,be.unpackAlignment),ye.isDataTexture?ce.texSubImage2D(3553,me,W.x,W.y,Le,pt,bt,Pt,ye.image.data):ye.isCompressedTexture?ce.compressedTexSubImage2D(3553,me,W.x,W.y,ye.mipmaps[0].width,ye.mipmaps[0].height,bt,ye.mipmaps[0].data):ce.texSubImage2D(3553,me,W.x,W.y,bt,Pt,ye.image),me===0&&be.generateMipmaps&&ce.generateMipmap(3553),Oe.unbindTexture()},this.copyTextureToTexture3D=function(W,ye,be,me,Le=0){if(M.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const pt=W.max.x-W.min.x+1,bt=W.max.y-W.min.y+1,Pt=W.max.z-W.min.z+1,Nt=Te.convert(me.format),zt=Te.convert(me.type);let Gt;if(me.isData3DTexture)Ie.setTexture3D(me,0),Gt=32879;else if(me.isDataArrayTexture)Ie.setTexture2DArray(me,0),Gt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ce.pixelStorei(37440,me.flipY),ce.pixelStorei(37441,me.premultiplyAlpha),ce.pixelStorei(3317,me.unpackAlignment);const Wt=ce.getParameter(3314),an=ce.getParameter(32878),vi=ce.getParameter(3316),rr=ce.getParameter(3315),ln=ce.getParameter(32877),yn=be.isCompressedTexture?be.mipmaps[0]:be.image;ce.pixelStorei(3314,yn.width),ce.pixelStorei(32878,yn.height),ce.pixelStorei(3316,W.min.x),ce.pixelStorei(3315,W.min.y),ce.pixelStorei(32877,W.min.z),be.isDataTexture||be.isData3DTexture?ce.texSubImage3D(Gt,Le,ye.x,ye.y,ye.z,pt,bt,Pt,Nt,zt,yn.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(Gt,Le,ye.x,ye.y,ye.z,pt,bt,Pt,Nt,yn.data)):ce.texSubImage3D(Gt,Le,ye.x,ye.y,ye.z,pt,bt,Pt,Nt,zt,yn),ce.pixelStorei(3314,Wt),ce.pixelStorei(32878,an),ce.pixelStorei(3316,vi),ce.pixelStorei(3315,rr),ce.pixelStorei(32877,ln),Le===0&&me.generateMipmaps&&ce.generateMipmap(Gt),Oe.unbindTexture()},this.initTexture=function(W){W.isCubeTexture?Ie.setTextureCube(W,0):W.isData3DTexture?Ie.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?Ie.setTexture2DArray(W,0):Ie.setTexture2D(W,0),Oe.unbindTexture()},this.resetState=function(){b=0,B=0,I=null,Oe.reset(),ot.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class fE extends pA{}fE.prototype.isWebGL1Renderer=!0;class A0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=t}clone(){return new A0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class _0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=t,this.far=n}clone(){return new _0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class qg extends tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class _p{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=rs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const dr=new V;class Ol{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)dr.fromBufferAttribute(this,t),dr.applyMatrix4(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)dr.fromBufferAttribute(this,t),dr.applyNormalMatrix(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)dr.fromBufferAttribute(this,t),dr.transformDirection(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ns(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ns(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ns(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ns(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),s=Kt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new hn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ol(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mA extends gi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vf;const wd=new V,Wf=new V,jf=new V,Jf=new Re,Cd=new Re,hE=new Rt,lg=new V,Ed=new V,ug=new V,X1=new Re,Gv=new Re,K1=new Re;class dE extends tn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Vf===void 0){Vf=new Ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new _p(t,5);Vf.setIndex([0,1,2,0,2,3]),Vf.setAttribute("position",new Ol(n,3,0,!1)),Vf.setAttribute("uv",new Ol(n,2,3,!1))}this.geometry=Vf,this.material=e!==void 0?e:new mA,this.center=new Re(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wf.setFromMatrixScale(this.matrixWorld),hE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wf.multiplyScalar(-jf.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;cg(lg.set(-.5,-.5,0),jf,a,Wf,r,s),cg(Ed.set(.5,-.5,0),jf,a,Wf,r,s),cg(ug.set(.5,.5,0),jf,a,Wf,r,s),X1.set(0,0),Gv.set(1,0),K1.set(1,1);let l=e.ray.intersectTriangle(lg,Ed,ug,!1,wd);if(l===null&&(cg(Ed.set(-.5,.5,0),jf,a,Wf,r,s),Gv.set(0,1),l=e.ray.intersectTriangle(lg,ug,Ed,!1,wd),l===null))return;const c=e.ray.origin.distanceTo(wd);c<e.near||c>e.far||t.push({distance:c,point:wd.clone(),uv:Nr.getInterpolation(wd,lg,Ed,ug,X1,Gv,K1,new Re),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function cg(i,e,t,n,r,s){Jf.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(Cd.x=s*Jf.x-r*Jf.y,Cd.y=r*Jf.x+s*Jf.y):Cd.copy(Jf),i.copy(e),i.x+=Cd.x,i.y+=Cd.y,i.applyMatrix4(hE)}const fg=new V,Y1=new V;class pE extends tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){fg.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(fg);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){fg.setFromMatrixPosition(e.matrixWorld),Y1.setFromMatrixPosition(this.matrixWorld);const n=fg.distanceTo(Y1)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const Q1=new V,q1=new vn,Z1=new vn,zI=new V,$1=new Rt,Xf=new V;class gA extends Si{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Rt,this.bindMatrixInverse=new Rt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new io),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)Xf.fromBufferAttribute(t,n),this.applyBoneTransform(n,Xf),this.boundingBox.expandByPoint(Xf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ro),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)Xf.fromBufferAttribute(t,n),this.applyBoneTransform(n,Xf),this.boundingSphere.expandByPoint(Xf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;q1.fromBufferAttribute(r.attributes.skinIndex,e),Z1.fromBufferAttribute(r.attributes.skinWeight,e),Q1.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Z1.getComponent(s);if(a!==0){const l=q1.getComponent(s);$1.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(zI.copy(Q1).applyMatrix4($1),a)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class M0 extends tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class lh extends bn{constructor(e=null,t=1,n=1,r,s,a,l,c,d=qn,p=qn,g,v){super(null,a,l,c,d,p,r,s,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eM=new Rt,GI=new Rt;class Mp{constructor(e=[],t=[]){this.uuid=rs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Rt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:GI;eM.multiplyMatrices(l,t[s]),eM.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Mp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=qC(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new lh(t,e,e,Or,Sa);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new M0),this.bones.push(a),this.boneInverses.push(new Rt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class cc extends hn{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Kf=new Rt,tM=new Rt,hg=[],nM=new io,HI=new Rt,Td=new Si,bd=new ro;class vA extends Si{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new cc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,HI)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new io),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Kf),nM.copy(e.boundingBox).applyMatrix4(Kf),this.boundingBox.union(nM)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ro),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Kf),bd.copy(e.boundingSphere).applyMatrix4(Kf),this.boundingSphere.union(bd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Td.geometry=this.geometry,Td.material=this.material,Td.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bd.copy(this.boundingSphere),bd.applyMatrix4(n),e.ray.intersectsSphere(bd)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Kf),tM.multiplyMatrices(n,Kf),Td.matrixWorld=tM,Td.raycast(e,hg);for(let a=0,l=hg.length;a<l;a++){const c=hg[a];c.instanceId=s,c.object=this,t.push(c)}hg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new cc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ir extends gi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const iM=new V,rM=new V,sM=new Rt,Hv=new Sh,dg=new ro;class La extends tn{constructor(e=new Ut,t=new ir){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)iM.fromBufferAttribute(t,r-1),rM.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=iM.distanceTo(rM);e.setAttribute("lineDistance",new ht(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),dg.copy(n.boundingSphere),dg.applyMatrix4(r),dg.radius+=s,e.ray.intersectsSphere(dg)===!1)return;sM.copy(r).invert(),Hv.copy(e.ray).applyMatrix4(sM);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=new V,p=new V,g=new V,v=new V,y=this.isLineSegments?2:1,_=n.index,S=n.attributes.position;if(_!==null){const M=Math.max(0,a.start),T=Math.min(_.count,a.start+a.count);for(let b=M,B=T-1;b<B;b+=y){const I=_.getX(b),F=_.getX(b+1);if(d.fromBufferAttribute(S,I),p.fromBufferAttribute(S,F),Hv.distanceSqToSegment(d,p,v,g)>c)continue;v.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(v);U<e.near||U>e.far||t.push({distance:U,point:g.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const M=Math.max(0,a.start),T=Math.min(S.count,a.start+a.count);for(let b=M,B=T-1;b<B;b+=y){if(d.fromBufferAttribute(S,b),p.fromBufferAttribute(S,b+1),Hv.distanceSqToSegment(d,p,v,g)>c)continue;v.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(v);F<e.near||F>e.far||t.push({distance:F,point:g.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const oM=new V,aM=new V;class so extends La{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)oM.fromBufferAttribute(t,r),aM.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+oM.distanceTo(aM);e.setAttribute("lineDistance",new ht(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class yA extends La{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Sp extends gi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const lM=new Rt,yx=new Sh,pg=new ro,mg=new V;let xA=class extends tn{constructor(e=new Ut,t=new Sp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),pg.copy(n.boundingSphere),pg.applyMatrix4(r),pg.radius+=s,e.ray.intersectsSphere(pg)===!1)return;lM.copy(r).invert(),yx.copy(e.ray).applyMatrix4(lM);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=n.index,g=n.attributes.position;if(d!==null){const v=Math.max(0,a.start),y=Math.min(d.count,a.start+a.count);for(let _=v,C=y;_<C;_++){const S=d.getX(_);mg.fromBufferAttribute(g,S),uM(mg,S,c,r,e,t,this)}}else{const v=Math.max(0,a.start),y=Math.min(g.count,a.start+a.count);for(let _=v,C=y;_<C;_++)mg.fromBufferAttribute(g,_),uM(mg,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};function uM(i,e,t,n,r,s,a){const l=yx.distanceSqToPoint(i);if(l<t){const c=new V;yx.closestPointToPoint(i,c),c.applyMatrix4(n);const d=r.ray.origin.distanceTo(c);if(d<r.near||d>r.far)return;s.push({distance:d,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:a})}}class VI extends bn{constructor(e,t,n,r,s,a,l,c,d){super(e,t,n,r,s,a,l,c,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Hn,this.magFilter=s!==void 0?s:Hn,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class WI extends bn{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=qn,this.minFilter=qn,this.generateMipmaps=!1,this.needsUpdate=!0}}class AA extends bn{constructor(e,t,n,r,s,a,l,c,d,p,g,v){super(null,a,l,c,d,p,r,s,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jI extends AA{constructor(e,t,n,r,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Wi}}class JI extends bn{constructor(e,t,n,r,s,a,l,c,d){super(e,t,n,r,s,a,l,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class oo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let l=0,c=s-1,d;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),d=n[r]-a,d<0)l=r+1;else if(d>0)c=r-1;else{c=r;break}if(r=c,n[r]===a)return r/(s-1);const p=n[r],v=n[r+1]-p,y=(a-p)/v;return(r+y)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),l=this.getPoint(s),c=t||(a.isVector2?new Re:new V);return c.copy(l).sub(a).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new V,r=[],s=[],a=[],l=new V,c=new Rt;for(let y=0;y<=e;y++){const _=y/e;r[y]=this.getTangentAt(_,new V)}s[0]=new V,a[0]=new V;let d=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=d&&(d=p,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),v<=d&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],l),a[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),a[y]=a[y-1].clone(),l.crossVectors(r[y-1],r[y]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(Zn(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(c.makeRotationAxis(l,_))}a[y].crossVectors(r[y],s[y])}if(t===!0){let y=Math.acos(Zn(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(y=-y);for(let _=1;_<=e;_++)s[_].applyMatrix4(c.makeRotationAxis(r[_],y*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S0 extends oo{constructor(e=0,t=0,n=1,r=1,s=0,a=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=c}getPoint(e,t){const n=t||new Re,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=c-this.aX,y=d-this.aY;c=v*p-y*g+this.aX,d=v*g+y*p+this.aY}return n.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mE extends S0{constructor(e,t,n,r,s,a){super(e,t,n,n,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function _A(){let i=0,e=0,t=0,n=0;function r(s,a,l,c){i=s,e=l,t=-3*s+3*a-2*l-c,n=2*s-2*a+l+c}return{initCatmullRom:function(s,a,l,c,d){r(a,l,d*(l-s),d*(c-a))},initNonuniformCatmullRom:function(s,a,l,c,d,p,g){let v=(a-s)/d-(l-s)/(d+p)+(l-a)/p,y=(l-a)/p-(c-a)/(p+g)+(c-l)/g;v*=p,y*=p,r(a,l,v,y)},calc:function(s){const a=s*s,l=a*s;return i+e*s+t*a+n*l}}}const gg=new V,Vv=new _A,Wv=new _A,jv=new _A;class gE extends oo{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new V){const n=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let d,p;this.closed||l>0?d=r[(l-1)%s]:(gg.subVectors(r[0],r[1]).add(r[0]),d=gg);const g=r[l%s],v=r[(l+1)%s];if(this.closed||l+2<s?p=r[(l+2)%s]:(gg.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=gg),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let _=Math.pow(d.distanceToSquared(g),y),C=Math.pow(g.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(p),y);C<1e-4&&(C=1),_<1e-4&&(_=C),S<1e-4&&(S=C),Vv.initNonuniformCatmullRom(d.x,g.x,v.x,p.x,_,C,S),Wv.initNonuniformCatmullRom(d.y,g.y,v.y,p.y,_,C,S),jv.initNonuniformCatmullRom(d.z,g.z,v.z,p.z,_,C,S)}else this.curveType==="catmullrom"&&(Vv.initCatmullRom(d.x,g.x,v.x,p.x,this.tension),Wv.initCatmullRom(d.y,g.y,v.y,p.y,this.tension),jv.initCatmullRom(d.z,g.z,v.z,p.z,this.tension));return n.set(Vv.calc(c),Wv.calc(c),jv.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new V().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cM(i,e,t,n,r){const s=(n-e)*.5,a=(r-t)*.5,l=i*i,c=i*l;return(2*t-2*n+s+a)*c+(-3*t+3*n-2*s-a)*l+s*i+t}function XI(i,e){const t=1-i;return t*t*e}function KI(i,e){return 2*(1-i)*i*e}function YI(i,e){return i*i*e}function Jd(i,e,t,n){return XI(i,e)+KI(i,t)+YI(i,n)}function QI(i,e){const t=1-i;return t*t*t*e}function qI(i,e){const t=1-i;return 3*t*t*i*e}function ZI(i,e){return 3*(1-i)*i*i*e}function $I(i,e){return i*i*i*e}function Xd(i,e,t,n,r){return QI(i,e)+qI(i,t)+ZI(i,n)+$I(i,r)}class MA extends oo{constructor(e=new Re,t=new Re,n=new Re,r=new Re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Re){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Xd(e,r.x,s.x,a.x,l.x),Xd(e,r.y,s.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vE extends oo{constructor(e=new V,t=new V,n=new V,r=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Xd(e,r.x,s.x,a.x,l.x),Xd(e,r.y,s.y,a.y,l.y),Xd(e,r.z,s.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w0 extends oo{constructor(e=new Re,t=new Re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Re){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yE extends oo{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new V){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SA extends oo{constructor(e=new Re,t=new Re,n=new Re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Re){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Jd(e,r.x,s.x,a.x),Jd(e,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wA extends oo{constructor(e=new V,t=new V,n=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Jd(e,r.x,s.x,a.x),Jd(e,r.y,s.y,a.y),Jd(e,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CA extends oo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Re){const n=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),l=s-a,c=r[a===0?a:a-1],d=r[a],p=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return n.set(cM(l,c.x,d.x,p.x,g.x),cM(l,c.y,d.y,p.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Re().fromArray(r))}return this}}var EA=Object.freeze({__proto__:null,ArcCurve:mE,CatmullRomCurve3:gE,CubicBezierCurve:MA,CubicBezierCurve3:vE,EllipseCurve:S0,LineCurve:w0,LineCurve3:yE,QuadraticBezierCurve:SA,QuadraticBezierCurve3:wA,SplineCurve:CA});class xE extends oo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new w0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const a=r[s]-n,l=this.curves[s],c=l.getLength(),d=c===0?0:1-a/c;return l.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(l);for(let d=0;d<c.length;d++){const p=c[d];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new EA[r.type]().fromJSON(r))}return this}}class ap extends xE{constructor(e){super(),this.type="Path",this.currentPoint=new Re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new w0(this.currentPoint.clone(),new Re(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new SA(this.currentPoint.clone(),new Re(e,t),new Re(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,a){const l=new MA(this.currentPoint.clone(),new Re(e,t),new Re(n,r),new Re(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new CA(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,n,r,s,a),this}absarc(e,t,n,r,s,a){return this.absellipse(e,t,n,n,r,s,a),this}ellipse(e,t,n,r,s,a,l,c){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,n,r,s,a,l,c),this}absellipse(e,t,n,r,s,a,l,c){const d=new S0(e,t,n,r,s,a,l,c);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Eh extends Ut{constructor(e=[new Re(0,-.5),new Re(.5,0),new Re(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Zn(r,0,Math.PI*2);const s=[],a=[],l=[],c=[],d=[],p=1/t,g=new V,v=new Re,y=new V,_=new V,C=new V;let S=0,M=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:S=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,y.x=M*1,y.y=-S,y.z=M*0,C.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(C.x,C.y,C.z);break;default:S=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,y.x=M*1,y.y=-S,y.z=M*0,_.copy(y),y.x+=C.x,y.y+=C.y,y.z+=C.z,y.normalize(),c.push(y.x,y.y,y.z),C.copy(_)}for(let T=0;T<=t;T++){const b=n+T*p*r,B=Math.sin(b),I=Math.cos(b);for(let F=0;F<=e.length-1;F++){g.x=e[F].x*B,g.y=e[F].y,g.z=e[F].x*I,a.push(g.x,g.y,g.z),v.x=T/t,v.y=F/(e.length-1),l.push(v.x,v.y);const G=c[3*F+0]*B,U=c[3*F+1],D=c[3*F+0]*I;d.push(G,U,D)}}for(let T=0;T<t;T++)for(let b=0;b<e.length-1;b++){const B=b+T*e.length,I=B,F=B+e.length,G=B+e.length+1,U=B+1;s.push(I,F,U),s.push(G,U,F)}this.setIndex(s),this.setAttribute("position",new ht(a,3)),this.setAttribute("uv",new ht(l,2)),this.setAttribute("normal",new ht(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eh(e.points,e.segments,e.phiStart,e.phiLength)}}class wp extends Eh{constructor(e=1,t=1,n=4,r=8){const s=new ap;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new wp(e.radius,e.length,e.capSegments,e.radialSegments)}}class Cp extends Ut{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],a=[],l=[],c=[],d=new V,p=new Re;a.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const y=n+g/t*r;d.x=e*Math.cos(y),d.y=e*Math.sin(y),a.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(a[v]/e+1)/2,p.y=(a[v+1]/e+1)/2,c.push(p.x,p.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vc extends Ut{constructor(e=1,t=1,n=1,r=32,s=1,a=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:c};const d=this;r=Math.floor(r),s=Math.floor(s);const p=[],g=[],v=[],y=[];let _=0;const C=[],S=n/2;let M=0;T(),a===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(p),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(y,2));function T(){const B=new V,I=new V;let F=0;const G=(t-e)/n;for(let U=0;U<=s;U++){const D=[],k=U/s,Q=k*(t-e)+e;for(let re=0;re<=r;re++){const Z=re/r,te=Z*c+l,se=Math.sin(te),ve=Math.cos(te);I.x=Q*se,I.y=-k*n+S,I.z=Q*ve,g.push(I.x,I.y,I.z),B.set(se,G,ve).normalize(),v.push(B.x,B.y,B.z),y.push(Z,1-k),D.push(_++)}C.push(D)}for(let U=0;U<r;U++)for(let D=0;D<s;D++){const k=C[D][U],Q=C[D+1][U],re=C[D+1][U+1],Z=C[D][U+1];p.push(k,Q,Z),p.push(Q,re,Z),F+=6}d.addGroup(M,F,0),M+=F}function b(B){const I=_,F=new Re,G=new V;let U=0;const D=B===!0?e:t,k=B===!0?1:-1;for(let re=1;re<=r;re++)g.push(0,S*k,0),v.push(0,k,0),y.push(.5,.5),_++;const Q=_;for(let re=0;re<=r;re++){const te=re/r*c+l,se=Math.cos(te),ve=Math.sin(te);G.x=D*ve,G.y=S*k,G.z=D*se,g.push(G.x,G.y,G.z),v.push(0,k,0),F.x=se*.5+.5,F.y=ve*.5*k+.5,y.push(F.x,F.y),_++}for(let re=0;re<r;re++){const Z=I+re,te=Q+re;B===!0?p.push(te,te+1,Z):p.push(te+1,te,Z),U+=3}d.addGroup(M,U,B===!0?1:2),M+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ep extends vc{constructor(e=1,t=1,n=32,r=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new Ep(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Da extends Ut{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],a=[];l(r),d(n),p(),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(s.slice(),3)),this.setAttribute("uv",new ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(T){const b=new V,B=new V,I=new V;for(let F=0;F<t.length;F+=3)y(t[F+0],b),y(t[F+1],B),y(t[F+2],I),c(b,B,I,T)}function c(T,b,B,I){const F=I+1,G=[];for(let U=0;U<=F;U++){G[U]=[];const D=T.clone().lerp(B,U/F),k=b.clone().lerp(B,U/F),Q=F-U;for(let re=0;re<=Q;re++)re===0&&U===F?G[U][re]=D:G[U][re]=D.clone().lerp(k,re/Q)}for(let U=0;U<F;U++)for(let D=0;D<2*(F-U)-1;D++){const k=Math.floor(D/2);D%2===0?(v(G[U][k+1]),v(G[U+1][k]),v(G[U][k])):(v(G[U][k+1]),v(G[U+1][k+1]),v(G[U+1][k]))}}function d(T){const b=new V;for(let B=0;B<s.length;B+=3)b.x=s[B+0],b.y=s[B+1],b.z=s[B+2],b.normalize().multiplyScalar(T),s[B+0]=b.x,s[B+1]=b.y,s[B+2]=b.z}function p(){const T=new V;for(let b=0;b<s.length;b+=3){T.x=s[b+0],T.y=s[b+1],T.z=s[b+2];const B=S(T)/2/Math.PI+.5,I=M(T)/Math.PI+.5;a.push(B,1-I)}_(),g()}function g(){for(let T=0;T<a.length;T+=6){const b=a[T+0],B=a[T+2],I=a[T+4],F=Math.max(b,B,I),G=Math.min(b,B,I);F>.9&&G<.1&&(b<.2&&(a[T+0]+=1),B<.2&&(a[T+2]+=1),I<.2&&(a[T+4]+=1))}}function v(T){s.push(T.x,T.y,T.z)}function y(T,b){const B=T*3;b.x=e[B+0],b.y=e[B+1],b.z=e[B+2]}function _(){const T=new V,b=new V,B=new V,I=new V,F=new Re,G=new Re,U=new Re;for(let D=0,k=0;D<s.length;D+=9,k+=6){T.set(s[D+0],s[D+1],s[D+2]),b.set(s[D+3],s[D+4],s[D+5]),B.set(s[D+6],s[D+7],s[D+8]),F.set(a[k+0],a[k+1]),G.set(a[k+2],a[k+3]),U.set(a[k+4],a[k+5]),I.copy(T).add(b).add(B).divideScalar(3);const Q=S(I);C(F,k+0,T,Q),C(G,k+2,b,Q),C(U,k+4,B,Q)}}function C(T,b,B,I){I<0&&T.x===1&&(a[b]=T.x-1),B.x===0&&B.z===0&&(a[b]=I/2/Math.PI+.5)}function S(T){return Math.atan2(T.z,-T.x)}function M(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Da(e.vertices,e.indices,e.radius,e.details)}}class Tp extends Da{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tp(e.radius,e.detail)}}const vg=new V,yg=new V,Jv=new V,xg=new Nr;class AE extends Ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(rc*t),a=e.getIndex(),l=e.getAttribute("position"),c=a?a.count:l.count,d=[0,0,0],p=["a","b","c"],g=new Array(3),v={},y=[];for(let _=0;_<c;_+=3){a?(d[0]=a.getX(_),d[1]=a.getX(_+1),d[2]=a.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:C,b:S,c:M}=xg;if(C.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),M.fromBufferAttribute(l,d[2]),xg.getNormal(Jv),g[0]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,g[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let T=0;T<3;T++){const b=(T+1)%3,B=g[T],I=g[b],F=xg[p[T]],G=xg[p[b]],U=`${B}_${I}`,D=`${I}_${B}`;D in v&&v[D]?(Jv.dot(v[D].normal)<=s&&(y.push(F.x,F.y,F.z),y.push(G.x,G.y,G.z)),v[D]=null):U in v||(v[U]={index0:d[T],index1:d[b],normal:Jv.clone()})}}for(const _ in v)if(v[_]){const{index0:C,index1:S}=v[_];vg.fromBufferAttribute(l,C),yg.fromBufferAttribute(l,S),y.push(vg.x,vg.y,vg.z),y.push(yg.x,yg.y,yg.z)}this.setAttribute("position",new ht(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class oc extends ap{constructor(e){super(e),this.uuid=rs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new ap().fromJSON(r))}return this}}const eD={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=_E(i,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let l,c,d,p,g,v,y;if(n&&(s=sD(i,e,s,t)),i.length>80*t){l=d=i[0],c=p=i[1];for(let _=t;_<r;_+=t)g=i[_],v=i[_+1],g<l&&(l=g),v<c&&(c=v),g>d&&(d=g),v>p&&(p=v);y=Math.max(d-l,p-c),y=y!==0?32767/y:0}return lp(s,a,t,l,c,y,0),a}};function _E(i,e,t,n,r){let s,a;if(r===gD(i,e,t,n)>0)for(s=e;s<t;s+=n)a=fM(s,i[s],i[s+1],a);else for(s=t-n;s>=e;s-=n)a=fM(s,i[s],i[s+1],a);return a&&C0(a,a.next)&&(cp(a),a=a.next),a}function fc(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(C0(t,t.next)||Vn(t.prev,t,t.next)===0)){if(cp(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function lp(i,e,t,n,r,s,a){if(!i)return;!a&&s&&cD(i,n,r,s);let l=i,c,d;for(;i.prev!==i.next;){if(c=i.prev,d=i.next,s?nD(i,n,r,s):tD(i)){e.push(c.i/t|0),e.push(i.i/t|0),e.push(d.i/t|0),cp(i),i=d.next,l=d.next;continue}if(i=d,i===l){a?a===1?(i=iD(fc(i),e,t),lp(i,e,t,n,r,s,2)):a===2&&rD(i,e,t,n,r,s):lp(fc(i),e,t,n,r,s,1);break}}}function tD(i){const e=i.prev,t=i,n=i.next;if(Vn(e,t,n)>=0)return!1;const r=e.x,s=t.x,a=n.x,l=e.y,c=t.y,d=n.y,p=r<s?r<a?r:a:s<a?s:a,g=l<c?l<d?l:d:c<d?c:d,v=r>s?r>a?r:a:s>a?s:a,y=l>c?l>d?l:d:c>d?c:d;let _=n.next;for(;_!==e;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=y&&eh(r,l,s,c,a,d,_.x,_.y)&&Vn(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function nD(i,e,t,n){const r=i.prev,s=i,a=i.next;if(Vn(r,s,a)>=0)return!1;const l=r.x,c=s.x,d=a.x,p=r.y,g=s.y,v=a.y,y=l<c?l<d?l:d:c<d?c:d,_=p<g?p<v?p:v:g<v?g:v,C=l>c?l>d?l:d:c>d?c:d,S=p>g?p>v?p:v:g>v?g:v,M=xx(y,_,e,t,n),T=xx(C,S,e,t,n);let b=i.prevZ,B=i.nextZ;for(;b&&b.z>=M&&B&&B.z<=T;){if(b.x>=y&&b.x<=C&&b.y>=_&&b.y<=S&&b!==r&&b!==a&&eh(l,p,c,g,d,v,b.x,b.y)&&Vn(b.prev,b,b.next)>=0||(b=b.prevZ,B.x>=y&&B.x<=C&&B.y>=_&&B.y<=S&&B!==r&&B!==a&&eh(l,p,c,g,d,v,B.x,B.y)&&Vn(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;b&&b.z>=M;){if(b.x>=y&&b.x<=C&&b.y>=_&&b.y<=S&&b!==r&&b!==a&&eh(l,p,c,g,d,v,b.x,b.y)&&Vn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;B&&B.z<=T;){if(B.x>=y&&B.x<=C&&B.y>=_&&B.y<=S&&B!==r&&B!==a&&eh(l,p,c,g,d,v,B.x,B.y)&&Vn(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function iD(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!C0(r,s)&&ME(r,n,n.next,s)&&up(r,s)&&up(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),cp(n),cp(n.next),n=i=s),n=n.next}while(n!==i);return fc(n)}function rD(i,e,t,n,r,s){let a=i;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&dD(a,l)){let c=SE(a,l);a=fc(a,a.next),c=fc(c,c.next),lp(a,e,t,n,r,s,0),lp(c,e,t,n,r,s,0);return}l=l.next}a=a.next}while(a!==i)}function sD(i,e,t,n){const r=[];let s,a,l,c,d;for(s=0,a=e.length;s<a;s++)l=e[s]*n,c=s<a-1?e[s+1]*n:i.length,d=_E(i,l,c,n,!1),d===d.next&&(d.steiner=!0),r.push(hD(d));for(r.sort(oD),s=0;s<r.length;s++)t=aD(r[s],t);return t}function oD(i,e){return i.x-e.x}function aD(i,e){const t=lD(i,e);if(!t)return e;const n=SE(t,i);return fc(n,n.next),fc(t,t.next)}function lD(i,e){let t=e,n=-1/0,r;const s=i.x,a=i.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=s&&v>n&&(n=v,r=t.x<t.next.x?t:t.next,v===s))return r}t=t.next}while(t!==e);if(!r)return null;const l=r,c=r.x,d=r.y;let p=1/0,g;t=r;do s>=t.x&&t.x>=c&&s!==t.x&&eh(a<d?s:n,a,c,d,a<d?n:s,a,t.x,t.y)&&(g=Math.abs(a-t.y)/(s-t.x),up(t,i)&&(g<p||g===p&&(t.x>r.x||t.x===r.x&&uD(r,t)))&&(r=t,p=g)),t=t.next;while(t!==l);return r}function uD(i,e){return Vn(i.prev,i,e.prev)<0&&Vn(e.next,i,i.next)<0}function cD(i,e,t,n){let r=i;do r.z===0&&(r.z=xx(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,fD(r)}function fD(i){let e,t,n,r,s,a,l,c,d=1;do{for(t=i,i=null,s=null,a=0;t;){for(a++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,l--):(r=n,n=n.nextZ,c--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,d*=2}while(a>1);return i}function xx(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function hD(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function eh(i,e,t,n,r,s,a,l){return(r-a)*(e-l)>=(i-a)*(s-l)&&(i-a)*(n-l)>=(t-a)*(e-l)&&(t-a)*(s-l)>=(r-a)*(n-l)}function dD(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!pD(i,e)&&(up(i,e)&&up(e,i)&&mD(i,e)&&(Vn(i.prev,i,e.prev)||Vn(i,e.prev,e))||C0(i,e)&&Vn(i.prev,i,i.next)>0&&Vn(e.prev,e,e.next)>0)}function Vn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function C0(i,e){return i.x===e.x&&i.y===e.y}function ME(i,e,t,n){const r=_g(Vn(i,e,t)),s=_g(Vn(i,e,n)),a=_g(Vn(t,n,i)),l=_g(Vn(t,n,e));return!!(r!==s&&a!==l||r===0&&Ag(i,t,e)||s===0&&Ag(i,n,e)||a===0&&Ag(t,i,n)||l===0&&Ag(t,e,n))}function Ag(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function _g(i){return i>0?1:i<0?-1:0}function pD(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&ME(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function up(i,e){return Vn(i.prev,i,i.next)<0?Vn(i,e,i.next)>=0&&Vn(i,i.prev,e)>=0:Vn(i,e,i.prev)<0||Vn(i,i.next,e)<0}function mD(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function SE(i,e){const t=new Ax(i.i,i.x,i.y),n=new Ax(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function fM(i,e,t,n){const r=new Ax(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function cp(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Ax(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gD(i,e,t,n){let r=0;for(let s=e,a=t-n;s<t;s+=n)r+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return r}class Io{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return Io.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];hM(e),dM(n,e);let a=e.length;t.forEach(hM);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,dM(n,t[c]);const l=eD.triangulate(n,r);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function hM(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function dM(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class bp extends Ut{constructor(e=new oc([new Re(.5,.5),new Re(-.5,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let l=0,c=e.length;l<c;l++){const d=e[l];a(d)}this.setAttribute("position",new ht(r,3)),this.setAttribute("uv",new ht(s,2)),this.computeVertexNormals();function a(l){const c=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:y-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,T=t.UVGenerator!==void 0?t.UVGenerator:vD;let b,B=!1,I,F,G,U;M&&(b=M.getSpacedPoints(p),B=!0,v=!1,I=M.computeFrenetFrames(p,!1),F=new V,G=new V,U=new V),v||(S=0,y=0,_=0,C=0);const D=l.extractPoints(d);let k=D.shape;const Q=D.holes;if(!Io.isClockWise(k)){k=k.reverse();for(let Be=0,Ae=Q.length;Be<Ae;Be++){const Ie=Q[Be];Io.isClockWise(Ie)&&(Q[Be]=Ie.reverse())}}const Z=Io.triangulateShape(k,Q),te=k;for(let Be=0,Ae=Q.length;Be<Ae;Be++){const Ie=Q[Be];k=k.concat(Ie)}function se(Be,Ae,Ie){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Be.clone().addScaledVector(Ae,Ie)}const ve=k.length,de=Z.length;function z(Be,Ae,Ie){let Ze,Ke,lt;const yt=Be.x-Ae.x,ct=Be.y-Ae.y,St=Ie.x-Be.x,Ft=Ie.y-Be.y,J=yt*yt+ct*ct,H=yt*Ft-ct*St;if(Math.abs(H)>Number.EPSILON){const _e=Math.sqrt(J),ke=Math.sqrt(St*St+Ft*Ft),Ge=Ae.x-ct/_e,je=Ae.y+yt/_e,At=Ie.x-Ft/ke,it=Ie.y+St/ke,Te=((At-Ge)*Ft-(it-je)*St)/(yt*Ft-ct*St);Ze=Ge+yt*Te-Be.x,Ke=je+ct*Te-Be.y;const ot=Ze*Ze+Ke*Ke;if(ot<=2)return new Re(Ze,Ke);lt=Math.sqrt(ot/2)}else{let _e=!1;yt>Number.EPSILON?St>Number.EPSILON&&(_e=!0):yt<-Number.EPSILON?St<-Number.EPSILON&&(_e=!0):Math.sign(ct)===Math.sign(Ft)&&(_e=!0),_e?(Ze=-ct,Ke=yt,lt=Math.sqrt(J)):(Ze=yt,Ke=ct,lt=Math.sqrt(J/2))}return new Re(Ze/lt,Ke/lt)}const Y=[];for(let Be=0,Ae=te.length,Ie=Ae-1,Ze=Be+1;Be<Ae;Be++,Ie++,Ze++)Ie===Ae&&(Ie=0),Ze===Ae&&(Ze=0),Y[Be]=z(te[Be],te[Ie],te[Ze]);const N=[];let X,ee=Y.concat();for(let Be=0,Ae=Q.length;Be<Ae;Be++){const Ie=Q[Be];X=[];for(let Ze=0,Ke=Ie.length,lt=Ke-1,yt=Ze+1;Ze<Ke;Ze++,lt++,yt++)lt===Ke&&(lt=0),yt===Ke&&(yt=0),X[Ze]=z(Ie[Ze],Ie[lt],Ie[yt]);N.push(X),ee=ee.concat(X)}for(let Be=0;Be<S;Be++){const Ae=Be/S,Ie=y*Math.cos(Ae*Math.PI/2),Ze=_*Math.sin(Ae*Math.PI/2)+C;for(let Ke=0,lt=te.length;Ke<lt;Ke++){const yt=se(te[Ke],Y[Ke],Ze);ce(yt.x,yt.y,-Ie)}for(let Ke=0,lt=Q.length;Ke<lt;Ke++){const yt=Q[Ke];X=N[Ke];for(let ct=0,St=yt.length;ct<St;ct++){const Ft=se(yt[ct],X[ct],Ze);ce(Ft.x,Ft.y,-Ie)}}}const oe=_+C;for(let Be=0;Be<ve;Be++){const Ae=v?se(k[Be],ee[Be],oe):k[Be];B?(G.copy(I.normals[0]).multiplyScalar(Ae.x),F.copy(I.binormals[0]).multiplyScalar(Ae.y),U.copy(b[0]).add(G).add(F),ce(U.x,U.y,U.z)):ce(Ae.x,Ae.y,0)}for(let Be=1;Be<=p;Be++)for(let Ae=0;Ae<ve;Ae++){const Ie=v?se(k[Ae],ee[Ae],oe):k[Ae];B?(G.copy(I.normals[Be]).multiplyScalar(Ie.x),F.copy(I.binormals[Be]).multiplyScalar(Ie.y),U.copy(b[Be]).add(G).add(F),ce(U.x,U.y,U.z)):ce(Ie.x,Ie.y,g/p*Be)}for(let Be=S-1;Be>=0;Be--){const Ae=Be/S,Ie=y*Math.cos(Ae*Math.PI/2),Ze=_*Math.sin(Ae*Math.PI/2)+C;for(let Ke=0,lt=te.length;Ke<lt;Ke++){const yt=se(te[Ke],Y[Ke],Ze);ce(yt.x,yt.y,g+Ie)}for(let Ke=0,lt=Q.length;Ke<lt;Ke++){const yt=Q[Ke];X=N[Ke];for(let ct=0,St=yt.length;ct<St;ct++){const Ft=se(yt[ct],X[ct],Ze);B?ce(Ft.x,Ft.y+b[p-1].y,b[p-1].x+Ie):ce(Ft.x,Ft.y,g+Ie)}}}le(),Pe();function le(){const Be=r.length/3;if(v){let Ae=0,Ie=ve*Ae;for(let Ze=0;Ze<de;Ze++){const Ke=Z[Ze];Ve(Ke[2]+Ie,Ke[1]+Ie,Ke[0]+Ie)}Ae=p+S*2,Ie=ve*Ae;for(let Ze=0;Ze<de;Ze++){const Ke=Z[Ze];Ve(Ke[0]+Ie,Ke[1]+Ie,Ke[2]+Ie)}}else{for(let Ae=0;Ae<de;Ae++){const Ie=Z[Ae];Ve(Ie[2],Ie[1],Ie[0])}for(let Ae=0;Ae<de;Ae++){const Ie=Z[Ae];Ve(Ie[0]+ve*p,Ie[1]+ve*p,Ie[2]+ve*p)}}n.addGroup(Be,r.length/3-Be,0)}function Pe(){const Be=r.length/3;let Ae=0;Ce(te,Ae),Ae+=te.length;for(let Ie=0,Ze=Q.length;Ie<Ze;Ie++){const Ke=Q[Ie];Ce(Ke,Ae),Ae+=Ke.length}n.addGroup(Be,r.length/3-Be,1)}function Ce(Be,Ae){let Ie=Be.length;for(;--Ie>=0;){const Ze=Ie;let Ke=Ie-1;Ke<0&&(Ke=Be.length-1);for(let lt=0,yt=p+S*2;lt<yt;lt++){const ct=ve*lt,St=ve*(lt+1),Ft=Ae+Ze+ct,J=Ae+Ke+ct,H=Ae+Ke+St,_e=Ae+Ze+St;qe(Ft,J,H,_e)}}}function ce(Be,Ae,Ie){c.push(Be),c.push(Ae),c.push(Ie)}function Ve(Be,Ae,Ie){Fe(Be),Fe(Ae),Fe(Ie);const Ze=r.length/3,Ke=T.generateTopUV(n,r,Ze-3,Ze-2,Ze-1);Oe(Ke[0]),Oe(Ke[1]),Oe(Ke[2])}function qe(Be,Ae,Ie,Ze){Fe(Be),Fe(Ae),Fe(Ze),Fe(Ae),Fe(Ie),Fe(Ze);const Ke=r.length/3,lt=T.generateSideWallUV(n,r,Ke-6,Ke-3,Ke-2,Ke-1);Oe(lt[0]),Oe(lt[1]),Oe(lt[3]),Oe(lt[1]),Oe(lt[2]),Oe(lt[3])}function Fe(Be){r.push(c[Be*3+0]),r.push(c[Be*3+1]),r.push(c[Be*3+2])}function Oe(Be){s.push(Be.x),s.push(Be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return yD(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new EA[r.type]().fromJSON(r)),new bp(n,e.options)}}const vD={generateTopUV:function(i,e,t,n,r){const s=e[t*3],a=e[t*3+1],l=e[n*3],c=e[n*3+1],d=e[r*3],p=e[r*3+1];return[new Re(s,a),new Re(l,c),new Re(d,p)]},generateSideWallUV:function(i,e,t,n,r,s){const a=e[t*3],l=e[t*3+1],c=e[t*3+2],d=e[n*3],p=e[n*3+1],g=e[n*3+2],v=e[r*3],y=e[r*3+1],_=e[r*3+2],C=e[s*3],S=e[s*3+1],M=e[s*3+2];return Math.abs(l-p)<Math.abs(a-d)?[new Re(a,1-c),new Re(d,1-g),new Re(v,1-_),new Re(C,1-M)]:[new Re(l,1-c),new Re(p,1-g),new Re(y,1-_),new Re(S,1-M)]}};function yD(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Pp extends Da{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pp(e.radius,e.detail)}}class Th extends Da{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Th(e.radius,e.detail)}}class Bp extends Ut{constructor(e=.5,t=1,n=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],c=[],d=[],p=[];let g=e;const v=(t-e)/r,y=new V,_=new Re;for(let C=0;C<=r;C++){for(let S=0;S<=n;S++){const M=s+S/n*a;y.x=g*Math.cos(M),y.y=g*Math.sin(M),c.push(y.x,y.y,y.z),d.push(0,0,1),_.x=(y.x/t+1)/2,_.y=(y.y/t+1)/2,p.push(_.x,_.y)}g+=v}for(let C=0;C<r;C++){const S=C*(n+1);for(let M=0;M<n;M++){const T=M+S,b=T,B=T+n+1,I=T+n+2,F=T+1;l.push(b,B,F),l.push(B,I,F)}}this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Rp extends Ut{constructor(e=new oc([new Re(0,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],a=[];let l=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(l,c,p),l+=c,c=0;this.setIndex(n),this.setAttribute("position",new ht(r,3)),this.setAttribute("normal",new ht(s,3)),this.setAttribute("uv",new ht(a,2));function d(p){const g=r.length/3,v=p.extractPoints(t);let y=v.shape;const _=v.holes;Io.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,M=_.length;S<M;S++){const T=_[S];Io.isClockWise(T)===!0&&(_[S]=T.reverse())}const C=Io.triangulateShape(y,_);for(let S=0,M=_.length;S<M;S++){const T=_[S];y=y.concat(T)}for(let S=0,M=y.length;S<M;S++){const T=y[S];r.push(T.x,T.y,0),s.push(0,0,1),a.push(T.x,T.y)}for(let S=0,M=C.length;S<M;S++){const T=C[S],b=T[0]+g,B=T[1]+g,I=T[2]+g;n.push(b,B,I),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return xD(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];n.push(a)}return new Rp(n,e.curveSegments)}}function xD(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class bh extends Ut{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(a+l,Math.PI);let d=0;const p=[],g=new V,v=new V,y=[],_=[],C=[],S=[];for(let M=0;M<=n;M++){const T=[],b=M/n;let B=0;M===0&&a===0?B=.5/t:M===n&&c===Math.PI&&(B=-.5/t);for(let I=0;I<=t;I++){const F=I/t;g.x=-e*Math.cos(r+F*s)*Math.sin(a+b*l),g.y=e*Math.cos(a+b*l),g.z=e*Math.sin(r+F*s)*Math.sin(a+b*l),_.push(g.x,g.y,g.z),v.copy(g).normalize(),C.push(v.x,v.y,v.z),S.push(F+B,1-b),T.push(d++)}p.push(T)}for(let M=0;M<n;M++)for(let T=0;T<t;T++){const b=p[M][T+1],B=p[M][T],I=p[M+1][T],F=p[M+1][T+1];(M!==0||a>0)&&y.push(b,B,F),(M!==n-1||c<Math.PI)&&y.push(B,I,F)}this.setIndex(y),this.setAttribute("position",new ht(_,3)),this.setAttribute("normal",new ht(C,3)),this.setAttribute("uv",new ht(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Lp extends Da{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lp(e.radius,e.detail)}}class Ip extends Ut{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],d=[],p=new V,g=new V,v=new V;for(let y=0;y<=n;y++)for(let _=0;_<=r;_++){const C=_/r*s,S=y/n*Math.PI*2;g.x=(e+t*Math.cos(S))*Math.cos(C),g.y=(e+t*Math.cos(S))*Math.sin(C),g.z=t*Math.sin(S),l.push(g.x,g.y,g.z),p.x=e*Math.cos(C),p.y=e*Math.sin(C),v.subVectors(g,p).normalize(),c.push(v.x,v.y,v.z),d.push(_/r),d.push(y/n)}for(let y=1;y<=n;y++)for(let _=1;_<=r;_++){const C=(r+1)*y+_-1,S=(r+1)*(y-1)+_-1,M=(r+1)*(y-1)+_,T=(r+1)*y+_;a.push(C,S,T),a.push(S,M,T)}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ip(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Dp extends Ut{constructor(e=1,t=.4,n=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],c=[],d=[],p=[],g=new V,v=new V,y=new V,_=new V,C=new V,S=new V,M=new V;for(let b=0;b<=n;++b){const B=b/n*s*Math.PI*2;T(B,s,a,e,y),T(B+.01,s,a,e,_),S.subVectors(_,y),M.addVectors(_,y),C.crossVectors(S,M),M.crossVectors(C,S),C.normalize(),M.normalize();for(let I=0;I<=r;++I){const F=I/r*Math.PI*2,G=-t*Math.cos(F),U=t*Math.sin(F);g.x=y.x+(G*M.x+U*C.x),g.y=y.y+(G*M.y+U*C.y),g.z=y.z+(G*M.z+U*C.z),c.push(g.x,g.y,g.z),v.subVectors(g,y).normalize(),d.push(v.x,v.y,v.z),p.push(b/n),p.push(I/r)}}for(let b=1;b<=n;b++)for(let B=1;B<=r;B++){const I=(r+1)*(b-1)+(B-1),F=(r+1)*b+(B-1),G=(r+1)*b+B,U=(r+1)*(b-1)+B;l.push(I,F,U),l.push(F,G,U)}this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(p,2));function T(b,B,I,F,G){const U=Math.cos(b),D=Math.sin(b),k=I/B*b,Q=Math.cos(k);G.x=F*(2+Q)*.5*U,G.y=F*(2+Q)*D*.5,G.z=F*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Fp extends Ut{constructor(e=new wA(new V(-1,-1,0),new V(-1,1,0),new V(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new V,c=new V,d=new Re;let p=new V;const g=[],v=[],y=[],_=[];C(),this.setIndex(_),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(y,2));function C(){for(let b=0;b<t;b++)S(b);S(s===!1?t:0),T(),M()}function S(b){p=e.getPointAt(b/t,p);const B=a.normals[b],I=a.binormals[b];for(let F=0;F<=r;F++){const G=F/r*Math.PI*2,U=Math.sin(G),D=-Math.cos(G);c.x=D*B.x+U*I.x,c.y=D*B.y+U*I.y,c.z=D*B.z+U*I.z,c.normalize(),v.push(c.x,c.y,c.z),l.x=p.x+n*c.x,l.y=p.y+n*c.y,l.z=p.z+n*c.z,g.push(l.x,l.y,l.z)}}function M(){for(let b=1;b<=t;b++)for(let B=1;B<=r;B++){const I=(r+1)*(b-1)+(B-1),F=(r+1)*b+(B-1),G=(r+1)*b+B,U=(r+1)*(b-1)+B;_.push(I,F,U),_.push(F,G,U)}}function T(){for(let b=0;b<=t;b++)for(let B=0;B<=r;B++)d.x=b/t,d.y=B/r,y.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Fp(new EA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wE extends Ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new V,s=new V;if(e.index!==null){const a=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,p=c.length;d<p;++d){const g=c[d],v=g.start,y=g.count;for(let _=v,C=v+y;_<C;_+=3)for(let S=0;S<3;S++){const M=l.getX(_+S),T=l.getX(_+(S+1)%3);r.fromBufferAttribute(a,M),s.fromBufferAttribute(a,T),pM(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,c=a.count/3;l<c;l++)for(let d=0;d<3;d++){const p=3*l+d,g=3*l+(d+1)%3;r.fromBufferAttribute(a,p),s.fromBufferAttribute(a,g),pM(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function pM(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var mM=Object.freeze({__proto__:null,BoxGeometry:Hl,CapsuleGeometry:wp,CircleGeometry:Cp,ConeGeometry:Ep,CylinderGeometry:vc,DodecahedronGeometry:Tp,EdgesGeometry:AE,ExtrudeGeometry:bp,IcosahedronGeometry:Pp,LatheGeometry:Eh,OctahedronGeometry:Th,PlaneGeometry:wh,PolyhedronGeometry:Da,RingGeometry:Bp,ShapeGeometry:Rp,SphereGeometry:bh,TetrahedronGeometry:Lp,TorusGeometry:Ip,TorusKnotGeometry:Dp,TubeGeometry:Fp,WireframeGeometry:wE});class CE extends gi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class EE extends Oo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Np extends gi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Es extends Np{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TE extends gi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bE extends gi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class PE extends gi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class BE extends gi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RE extends gi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LE extends ir{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ss(i,e,t){return TA(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}function Zu(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function TA(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function IE(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function _x(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,a=0;a!==n;++s){const l=t[s]*e;for(let c=0;c!==e;++c)r[a++]=i[l+c]}return r}function bA(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=i[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=i[r++];while(s!==void 0)}function AD(i,e,t,n,r=30){const s=i.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const d=s.tracks[c],p=d.getValueSize(),g=[],v=[];for(let y=0;y<d.times.length;++y){const _=d.times[y]*r;if(!(_<t||_>=n)){g.push(d.times[y]);for(let C=0;C<p;++C)v.push(d.values[y*p+C])}}g.length!==0&&(d.times=Zu(g,d.times.constructor),d.values=Zu(v,d.values.constructor),a.push(d))}s.tracks=a;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function _D(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const d=i.tracks.find(function(M){return M.name===l.name&&M.ValueTypeName===c});if(d===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const _=l.times.length-1;let C;if(s<=l.times[0]){const M=p,T=g-p;C=Ss(l.values,M,T)}else if(s>=l.times[_]){const M=_*g+p,T=M+g-p;C=Ss(l.values,M,T)}else{const M=l.createInterpolant(),T=p,b=g-p;M.evaluate(s),C=Ss(M.resultBuffer,T,b)}c==="quaternion"&&new Ri().fromArray(C).normalize().conjugate().toArray(C);const S=d.times.length;for(let M=0;M<S;++M){const T=M*y+v;if(c==="quaternion")Ri.multiplyQuaternionsFlat(d.values,T,C,0,d.values,T);else{const b=y-v*2;for(let B=0;B<b;++B)d.values[T+B]-=C[B]}}}return i.blendMode=eA,i}const MD={arraySlice:Ss,convertArray:Zu,isTypedArray:TA,getKeyframeOrder:IE,sortedArray:_x,flattenJSON:bA,subclip:AD,makeClipAdditive:_D};class Ph{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let a;n:{i:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(s=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(n=2,s=l);for(let c=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class DE extends Ph{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yu,endingEnd:Yu}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,a=e+1,l=r[s],c=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case Qu:s=e,l=2*t-n;break;case rp:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=n}if(c===void 0)switch(this.getSettings_().endingEnd){case Qu:a=e,c=2*n-t;break;case rp:a=1,c=n+r[1]-r[0];break;default:a=e-1,c=t}const d=(n-t)*.5,p=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(c-n),this._offsetPrev=s*p,this._offsetNext=a*p}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,y=this._weightNext,_=(n-t)/(r-t),C=_*_,S=C*_,M=-v*S+2*v*C-v*_,T=(1+v)*S+(-1.5-2*v)*C+(-.5+v)*_+1,b=(-1-y)*S+(1.5+y)*C+.5*_,B=y*S-y*C;for(let I=0;I!==l;++I)s[I]=M*a[p+I]+T*a[d+I]+b*a[c+I]+B*a[g+I];return s}}class PA extends Ph{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,p=(n-t)/(r-t),g=1-p;for(let v=0;v!==l;++v)s[v]=a[d+v]*g+a[c+v]*p;return s}}class FE extends Ph{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ao{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zu(t,this.TimeBufferType),this.values=Zu(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Zu(e.times,Array),values:Zu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new FE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new DE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case dh:t=this.InterpolantFactoryMethodDiscrete;break;case uc:t=this.InterpolantFactoryMethodLinear;break;case Vg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dh;case this.InterpolantFactoryMethodLinear:return uc;case this.InterpolantFactoryMethodSmooth:return Vg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,a=r-1;for(;s!==r&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=Ss(n,s,a),this.values=Ss(this.values,s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=n[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(r!==void 0&&TA(r))for(let l=0,c=r.length;l!==c;++l){const d=r[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=Ss(this.times),t=Ss(this.values),n=this.getValueSize(),r=this.getInterpolation()===Vg,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const d=e[l],p=e[l+1];if(d!==p&&(l!==1||d!==e[0]))if(r)c=!0;else{const g=l*n,v=g-n,y=g+n;for(let _=0;_!==n;++_){const C=t[g+_];if(C!==t[v+_]||C!==t[y+_]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const g=l*n,v=a*n;for(let y=0;y!==n;++y)t[v+y]=t[g+y]}++a}}if(s>0){e[a]=e[s];for(let l=s*n,c=a*n,d=0;d!==n;++d)t[c+d]=t[l+d];++a}return a!==e.length?(this.times=Ss(e,0,a),this.values=Ss(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=Ss(this.times,0),t=Ss(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ao.prototype.TimeBufferType=Float32Array;ao.prototype.ValueBufferType=Float32Array;ao.prototype.DefaultInterpolation=uc;class yc extends ao{}yc.prototype.ValueTypeName="bool";yc.prototype.ValueBufferType=Array;yc.prototype.DefaultInterpolation=dh;yc.prototype.InterpolantFactoryMethodLinear=void 0;yc.prototype.InterpolantFactoryMethodSmooth=void 0;class BA extends ao{}BA.prototype.ValueTypeName="color";class hc extends ao{}hc.prototype.ValueTypeName="number";class NE extends Ph{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(n-t)/(r-t);let d=e*l;for(let p=d+l;d!==p;d+=4)Ri.slerpFlat(s,0,a,d-l,a,d,c);return s}}class kl extends ao{InterpolantFactoryMethodLinear(e){return new NE(this.times,this.values,this.getValueSize(),e)}}kl.prototype.ValueTypeName="quaternion";kl.prototype.DefaultInterpolation=uc;kl.prototype.InterpolantFactoryMethodSmooth=void 0;class xc extends ao{}xc.prototype.ValueTypeName="string";xc.prototype.ValueBufferType=Array;xc.prototype.DefaultInterpolation=dh;xc.prototype.InterpolantFactoryMethodLinear=void 0;xc.prototype.InterpolantFactoryMethodSmooth=void 0;class dc extends ao{}dc.prototype.ValueTypeName="vector";class vh{constructor(e,t=-1,n,r=g0){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=rs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(wD(n[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)t.push(ao.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,a=[];for(let l=0;l<s;l++){let c=[],d=[];c.push((l+s-1)%s,l,(l+1)%s),d.push(0,1,0);const p=IE(c);c=_x(c,1,p),d=_x(d,1,p),!r&&c[0]===0&&(c.push(s),d.push(d[0])),a.push(new hc(".morphTargetInfluences["+t[l].name+"]",c,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const d=e[l],p=d.name.match(s);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(d)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,y,_,C){if(y.length!==0){const S=[],M=[];bA(y,S,M,_),S.length!==0&&C.push(new g(v,S,M))}},r=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let C=0;C<v[_].morphTargets.length;C++)y[v[_].morphTargets[C]]=-1;for(const C in y){const S=[],M=[];for(let T=0;T!==v[_].morphTargets.length;++T){const b=v[_];S.push(b.time),M.push(b.morphTarget===C?1:0)}r.push(new hc(".morphTargetInfluence["+C+"]",S,M))}c=y.length*a}else{const y=".bones["+t[g].name+"]";n(dc,y+".position",v,"pos",r),n(kl,y+".quaternion",v,"rot",r),n(dc,y+".scale",v,"scl",r)}}return r.length===0?null:new this(s,c,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function SD(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hc;case"vector":case"vector2":case"vector3":case"vector4":return dc;case"color":return BA;case"quaternion":return kl;case"bool":case"boolean":return yc;case"string":return xc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function wD(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=SD(i.type);if(i.times===void 0){const t=[],n=[];bA(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const pc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class RA{constructor(e,t,n){const r=this;let s=!1,a=0,l=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){l++,s===!1&&r.onStart!==void 0&&r.onStart(p,a,l),s=!0},this.itemEnd=function(p){a++,r.onProgress!==void 0&&r.onProgress(p,a,l),a===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,g){return d.push(p,g),this},this.removeHandler=function(p){const g=d.indexOf(p);return g!==-1&&d.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=d.length;g<v;g+=2){const y=d[g],_=d[g+1];if(y.global&&(y.lastIndex=0),y.test(p))return _}return null}}}const th=new RA;class vr{constructor(e){this.manager=e!==void 0?e:th,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const va={};class CD extends Error{constructor(e,t){super(e),this.response=t}}class ss extends vr{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=pc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(va[e]!==void 0){va[e].push({onLoad:t,onProgress:n,onError:r});return}va[e]=[],va[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const p=va[e],g=d.body.getReader(),v=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),y=v?parseInt(v):0,_=y!==0;let C=0;const S=new ReadableStream({start(M){T();function T(){g.read().then(({done:b,value:B})=>{if(b)M.close();else{C+=B.byteLength;const I=new ProgressEvent("progress",{lengthComputable:_,loaded:C,total:y});for(let F=0,G=p.length;F<G;F++){const U=p[F];U.onProgress&&U.onProgress(I)}M.enqueue(B),T()}})}}});return new Response(S)}else throw new CD(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return d.json();default:if(l===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,y=new TextDecoder(v);return d.arrayBuffer().then(_=>y.decode(_))}}}).then(d=>{pc.add(e,d);const p=va[e];delete va[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onLoad&&y.onLoad(d)}}).catch(d=>{const p=va[e];if(p===void 0)throw this.manager.itemError(e),d;delete va[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onError&&y.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ED extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ss(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=vh.parse(e[n]);t.push(r)}return t}}class TD extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=[],l=new AA,c=new ss(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let d=0;function p(g){c.load(e[g],function(v){const y=s.parse(v,!0);a[g]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},d+=1,d===6&&(y.mipmapCount===1&&(l.minFilter=Hn),l.image=a,l.format=y.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else c.load(e,function(g){const v=s.parse(g,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let _=0;_<y;_++){a[_]={mipmaps:[]};for(let C=0;C<v.mipmapCount;C++)a[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+C]),a[_].format=v.format,a[_].width=v.width,a[_].height=v.height}l.image=a}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Hn),l.format=v.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class fp extends vr{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=pc.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=op("img");function c(){p(),pc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(g){p(),r&&r(g),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){l.removeEventListener("load",c,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class bD extends vr{constructor(e){super(e)}load(e,t,n,r){const s=new Ap,a=new fp(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function c(d){a.load(e[d],function(p){s.images[d]=p,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let d=0;d<e.length;++d)c(d);return s}}class PD extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new lh,l=new ss(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){const d=s.parse(c);d&&(d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:Wi,a.wrapT=d.wrapT!==void 0?d.wrapT:Wi,a.magFilter=d.magFilter!==void 0?d.magFilter:Hn,a.minFilter=d.minFilter!==void 0?d.minFilter:Hn,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(a.encoding=d.encoding),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=No),d.mipmapCount===1&&(a.minFilter=Hn),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d))},n,r),a}}class Op extends vr{constructor(e){super(e)}load(e,t,n,r){const s=new bn,a=new fp(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class Vl extends tn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class OE extends Vl{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Xv=new Rt,gM=new V,vM=new V;class LA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new Rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new y0,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new vn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;gM.setFromMatrixPosition(e.matrixWorld),t.position.copy(gM),vM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vM),t.updateMatrixWorld(),Xv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Xv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Xv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class BD extends LA{constructor(){super(new On(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=mh*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class IA extends Vl{constructor(e,t,n=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.distance=n,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new BD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yM=new Rt,Pd=new V,Kv=new V;class RD extends LA{constructor(){super(new On(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new vn(2,1,1,1),new vn(0,1,1,1),new vn(3,1,1,1),new vn(1,1,1,1),new vn(3,0,1,1),new vn(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Pd.setFromMatrixPosition(e.matrixWorld),n.position.copy(Pd),Kv.copy(n.position),Kv.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Kv),n.updateMatrixWorld(),r.makeTranslation(-Pd.x,-Pd.y,-Pd.z),yM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yM)}}class DA extends Vl{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new RD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class LD extends LA{constructor(){super(new eo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FA extends Vl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.shadow=new LD}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kE extends Vl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class UE extends Vl{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class zE{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new V)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class E0 extends Vl{constructor(e=new zE,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class T0 extends vr{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,a=new ss(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=T0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=n(a.value);break;case"c":r.uniforms[s].value=new et().setHex(a.value);break;case"v2":r.uniforms[s].value=new Re().fromArray(a.value);break;case"v3":r.uniforms[s].value=new V().fromArray(a.value);break;case"v4":r.uniforms[s].value=new vn().fromArray(a.value);break;case"m3":r.uniforms[s].value=new qt().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Rt().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Re().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Re().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:CE,SpriteMaterial:mA,RawShaderMaterial:EE,ShaderMaterial:Oo,PointsMaterial:Sp,MeshPhysicalMaterial:Es,MeshStandardMaterial:Np,MeshPhongMaterial:TE,MeshToonMaterial:bE,MeshNormalMaterial:PE,MeshLambertMaterial:BE,MeshDepthMaterial:hA,MeshDistanceMaterial:dA,MeshBasicMaterial:is,MeshMatcapMaterial:RE,LineDashedMaterial:LE,LineBasicMaterial:ir,Material:gi};return new t[e]}}class Ll{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class GE extends Ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class HE extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ss(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(y,_){if(t[_]!==void 0)return t[_];const S=y.interleavedBuffers[_],M=s(y,S.buffer),T=Zf(S.type,M),b=new _p(T,S.stride);return b.uuid=S.uuid,t[_]=b,b}function s(y,_){if(n[_]!==void 0)return n[_];const S=y.arrayBuffers[_],M=new Uint32Array(S).buffer;return n[_]=M,M}const a=e.isInstancedBufferGeometry?new GE:new Ut,l=e.data.index;if(l!==void 0){const y=Zf(l.type,l.array);a.setIndex(new hn(y,1))}const c=e.data.attributes;for(const y in c){const _=c[y];let C;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);C=new Ol(S,_.itemSize,_.offset,_.normalized)}else{const S=Zf(_.type,_.array),M=_.isInstancedBufferAttribute?cc:hn;C=new M(S,_.itemSize,_.normalized)}_.name!==void 0&&(C.name=_.name),_.usage!==void 0&&C.setUsage(_.usage),_.updateRange!==void 0&&(C.updateRange.offset=_.updateRange.offset,C.updateRange.count=_.updateRange.count),a.setAttribute(y,C)}const d=e.data.morphAttributes;if(d)for(const y in d){const _=d[y],C=[];for(let S=0,M=_.length;S<M;S++){const T=_[S];let b;if(T.isInterleavedBufferAttribute){const B=r(e.data,T.data);b=new Ol(B,T.itemSize,T.offset,T.normalized)}else{const B=Zf(T.type,T.array);b=new hn(B,T.itemSize,T.normalized)}T.name!==void 0&&(b.name=T.name),C.push(b)}a.morphAttributes[y]=C}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let y=0,_=g.length;y!==_;++y){const C=g[y];a.addGroup(C.start,C.count,C.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const y=new V;v.center!==void 0&&y.fromArray(v.center),a.boundingSphere=new ro(y,v.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class ID extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=this.path===""?Ll.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new ss(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?Ll.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new ss(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),l=JSON.parse(a),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,s,c,l,n),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),t!==void 0){let g=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,l,a,t),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new oc().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new Mp().fromJSON(e[s],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new HE;for(let s=0,a=e.length;s<a;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in mM?l=mM[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),n[c.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new T0;s.setTextures(t);for(let a=0,l=e.length;a<l;a++){const c=e[a];n[c.uuid]===void 0&&(n[c.uuid]=s.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=vh.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function a(c){return n.manager.itemStart(c),s.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const d=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(p)}else return c.data?{data:Zf(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new RA(t);s=new fp(c),s.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const g=e[d],v=g.url;if(Array.isArray(v)){const y=[];for(let _=0,C=v.length;_<C;_++){const S=v[_],M=l(S);M!==null&&(M instanceof HTMLImageElement?y.push(M):y.push(new lh(M.data,M.width,M.height)))}r[g.uuid]=new qu(y)}else{const y=l(g.url);r[g.uuid]=new qu(y)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(a){if(typeof a=="string"){const l=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(c)}else return a.data?{data:Zf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new fp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.url;if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],_=await s(y);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new lh(_.data,_.width,_.height)))}n[c.uuid]=new qu(p)}else{const p=await s(c.url);n[c.uuid]=new qu(p)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],d=c.data;let p;Array.isArray(d)?(p=new Ap,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new lh:p=new bn,d&&(p.needsUpdate=!0)),p.source=c,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=n(l.mapping,DD)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=n(l.wrap[0],xM),p.wrapT=n(l.wrap[1],xM)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.encoding!==void 0&&(p.encoding=l.encoding),l.minFilter!==void 0&&(p.minFilter=n(l.minFilter,AM)),l.magFilter!==void 0&&(p.magFilter=n(l.magFilter,AM)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,n,r,s){let a;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function c(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let _=0,C=v.length;_<C;_++){const S=v[_];n[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),y.push(n[S])}return y}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function d(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":a=new qg,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new et(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new _0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new A0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new On(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new eo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new kE(e.color,e.intensity);break;case"DirectionalLight":a=new FA(e.color,e.intensity);break;case"PointLight":a=new DA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new UE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new IA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new OE(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new E0().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=c(e.material),a=new gA(p,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=c(e.material),a=new Si(p,g);break;case"InstancedMesh":p=l(e.geometry),g=c(e.material);const v=e.count,y=e.instanceMatrix,_=e.instanceColor;a=new vA(p,g,v),a.instanceMatrix=new cc(new Float32Array(y.array),16),_!==void 0&&(a.instanceColor=new cc(new Float32Array(_.array),_.itemSize));break;case"LOD":a=new pE;break;case"Line":a=new La(l(e.geometry),c(e.material));break;case"LineLoop":a=new yA(l(e.geometry),c(e.material));break;case"LineSegments":a=new so(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new xA(l(e.geometry),c(e.material));break;case"Sprite":a=new dE(c(e.material));break;case"Group":a=new wa;break;case"Bone":a=new M0;break;default:a=new tn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)a.add(this.parseObject(v[y],t,n,r,s))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const _=v[y];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const _=v[y],C=a.getObjectByProperty("uuid",_.object);C!==void 0&&a.addLevel(C,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const DD={UVMapping:p0,CubeReflectionMapping:Dl,CubeRefractionMapping:Fl,EquirectangularReflectionMapping:tp,EquirectangularRefractionMapping:np,CubeUVReflectionMapping:Mh},xM={RepeatWrapping:Nl,ClampToEdgeWrapping:Wi,MirroredRepeatWrapping:fh},AM={NearestFilter:qn,NearestMipmapNearestFilter:ip,NearestMipmapLinearFilter:oh,LinearFilter:Hn,LinearMipmapNearestFilter:m0,LinearMipmapLinearFilter:No};class VE extends vr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=pc.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){pc.add(e,c),t&&t(c),s.manager.itemEnd(e)}).catch(function(c){r&&r(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Mg;class NA{static getContext(){return Mg===void 0&&(Mg=new(window.AudioContext||window.webkitAudioContext)),Mg}static setContext(e){Mg=e}}class FD extends vr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ss(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);NA.getContext().decodeAudioData(c,function(p){t(p)})}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}}class ND extends E0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new et().set(e),s=new et().set(t),a=new V(r.r,r.g,r.b),l=new V(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(c),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(d)}}class OD extends E0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new et().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _M=new Rt,MM=new Rt,Lu=new Rt;class kD{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new On,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new On,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lu.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(rc*t.fov*.5)/t.zoom;let l,c;MM.elements[12]=-r,_M.elements[12]=r,l=-a*t.aspect+s,c=a*t.aspect+s,Lu.elements[0]=2*t.near/(c-l),Lu.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Lu),l=-a*t.aspect-s,c=a*t.aspect-s,Lu.elements[0]=2*t.near/(c-l),Lu.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Lu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(MM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_M)}}class OA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=SM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=SM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function SM(){return(typeof performance>"u"?Date:performance).now()}const Iu=new V,wM=new Ri,UD=new V,Du=new V;class zD extends tn{constructor(){super(),this.type="AudioListener",this.context=NA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new OA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Iu,wM,UD),Du.set(0,0,-1).applyQuaternion(wM),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Iu.x,r),t.positionY.linearRampToValueAtTime(Iu.y,r),t.positionZ.linearRampToValueAtTime(Iu.z,r),t.forwardX.linearRampToValueAtTime(Du.x,r),t.forwardY.linearRampToValueAtTime(Du.y,r),t.forwardZ.linearRampToValueAtTime(Du.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Iu.x,Iu.y,Iu.z),t.setOrientation(Du.x,Du.y,Du.z,n.x,n.y,n.z)}}class WE extends tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fu=new V,CM=new Ri,GD=new V,Nu=new V;class HD extends WE{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fu,CM,GD),Nu.set(0,0,1).applyQuaternion(CM);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fu.x,n),t.positionY.linearRampToValueAtTime(Fu.y,n),t.positionZ.linearRampToValueAtTime(Fu.z,n),t.orientationX.linearRampToValueAtTime(Nu.x,n),t.orientationY.linearRampToValueAtTime(Nu.y,n),t.orientationZ.linearRampToValueAtTime(Nu.z,n)}else t.setPosition(Fu.x,Fu.y,Fu.z),t.setOrientation(Nu.x,Nu.y,Nu.z)}}class VD{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class jE{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[s+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,s,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,d=t+t;c!==d;++c)if(n[c]!==n[c+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,a=r;s!==a;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){Ri.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const a=this._workIndex*s;Ri.multiplyQuaternionsFlat(e,a,e,t,e,n),Ri.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,s){const a=1-r;for(let l=0;l!==s;++l){const c=t+l;e[c]=e[c]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,s){for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const kA="\\[\\]\\.:\\/",WD=new RegExp("["+kA+"]","g"),UA="[^"+kA+"]",jD="[^"+kA.replace("\\.","")+"]",JD=/((?:WC+[\/:])*)/.source.replace("WC",UA),XD=/(WCOD+)?/.source.replace("WCOD",jD),KD=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UA),YD=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UA),QD=new RegExp("^"+JD+XD+KD+YD+"$"),qD=["material","materials","bones","map"];class ZD{constructor(e,t,n){const r=n||on.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class on{constructor(e,t,n){this.path=t,this.parsedPath=n||on.parseTrackName(t),this.node=on.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new on.Composite(e,t,n):new on(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WD,"")}static parseTrackName(e){const t=QD.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);qD.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const c=n(l.children);if(c)return c}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=on.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[r];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}on.Composite=ZD;on.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};on.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};on.prototype.GetterByBindingType=[on.prototype._getValue_direct,on.prototype._getValue_array,on.prototype._getValue_arrayElement,on.prototype._getValue_toArray];on.prototype.SetterByBindingTypeAndVersioning=[[on.prototype._setValue_direct,on.prototype._setValue_direct_setNeedsUpdate,on.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[on.prototype._setValue_array,on.prototype._setValue_array_setNeedsUpdate,on.prototype._setValue_array_setMatrixWorldNeedsUpdate],[on.prototype._setValue_arrayElement,on.prototype._setValue_arrayElement_setNeedsUpdate,on.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[on.prototype._setValue_fromArray,on.prototype._setValue_fromArray_setNeedsUpdate,on.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $D{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let l,c=e.length,d=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],y=v.uuid;let _=t[y];if(_===void 0){_=c++,t[y]=_,e.push(v);for(let C=0,S=a;C!==S;++C)s[C].push(new on(v,n[C],r[C]))}else if(_<d){l=e[_];const C=--d,S=e[C];t[S.uuid]=_,e[_]=S,t[y]=C,e[C]=v;for(let M=0,T=a;M!==T;++M){const b=s[M],B=b[C];let I=b[_];b[_]=B,I===void 0&&(I=new on(v,n[M],r[M])),b[C]=I}}else e[_]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,p=t[d];if(p!==void 0&&p>=s){const g=s++,v=e[g];t[v.uuid]=p,e[p]=v,t[d]=g,e[g]=c;for(let y=0,_=r;y!==_;++y){const C=n[y],S=C[g],M=C[p];C[p]=S,C[g]=M}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],p=d.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<s){const v=--s,y=e[v],_=--a,C=e[_];t[y.uuid]=g,e[g]=y,t[C.uuid]=v,e[v]=C,e.pop();for(let S=0,M=r;S!==M;++S){const T=n[S],b=T[v],B=T[_];T[g]=b,T[v]=B,T.pop()}}else{const v=--a,y=e[v];v>0&&(t[y.uuid]=g),e[g]=y,e.pop();for(let _=0,C=r;_!==C;++_){const S=n[_];S[g]=S[v],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,l=this._parsedPaths,c=this._objects,d=c.length,p=this.nCachedObjects_,g=new Array(d);r=s.length,n[e]=r,a.push(e),l.push(t),s.push(g);for(let v=p,y=c.length;v!==y;++v){const _=c[v];g[v]=new on(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,c=a[l],d=e[l];t[d]=n,a[n]=c,a.pop(),s[n]=s[l],s.pop(),r[n]=r[l],r.pop()}}}class JE{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,a=s.length,l=new Array(a),c={endingStart:Yu,endingEnd:Yu};for(let d=0;d!==a;++d){const p=s[d].createInterpolant(null);l[d]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,a=s/r,l=r/s;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=s,c[1]=s+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case eA:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(a),d[p].accumulateAdditive(l);break;case g0:default:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(a),d[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const a=n===jC;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(n===VC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Qu,r.endingEnd=Qu):(e?r.endingStart=this.zeroSlopeAtStart?Qu:Yu:r.endingStart=rp,t?r.endingEnd=this.zeroSlopeAtEnd?Qu:Yu:r.endingEnd=rp)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,c[0]=t,l[1]=s+e,c[1]=n,this}}const eF=new Float32Array(1);class tF extends Ia{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,l=e._interpolants,c=n.uuid,d=this._bindingsByRootAndName;let p=d[c];p===void 0&&(p={},d[c]=p);for(let g=0;g!==s;++g){const v=r[g],y=v.name;let _=p[y];if(_!==void 0)++_.referenceCount,a[g]=_;else{if(_=a[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,y));continue}const C=t&&t._propertyBindings[g].binding.parsedPath;_=new jE(on.create(n,y,C),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,y),a[g]=_}l[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],c=l.knownActions,d=c[c.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,c[p]=d,c.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,l=a[r],c=t[t.length-1],d=e._cacheIndex;c._cacheIndex=d,t[d]=c,t.pop(),delete l[s],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new PA(new Float32Array(2),new Float32Array(2),1,eF),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?vh.findByName(r,e):e;const l=a!==null?a.uuid:e,c=this._actionsByClip[l];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=g0),c!==void 0){const g=c.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;d=c.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const p=new JE(this,a,t,n);return this._bindAction(p,d),this._addInactiveAction(p,l,s),p}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?vh.findByName(n,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,s,a);const l=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)l[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const a=s.knownActions;for(let l=0,c=a.length;l!==c;++l){const d=a[l];this._deactivateAction(d);const p=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class zA{constructor(e){this.value=e}clone(){return new zA(this.value.clone===void 0?this.value:this.value.clone())}}let nF=0;class iF extends Ia{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nF++}),this.name="",this.usage=sp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class rF extends _p{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sF{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class XE{constructor(e,t,n=0,r=1/0){this.ray=new Sh(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new sc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Mx(e,this,n,t),n.sort(EM),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)Mx(e[r],this,n,t);return n.sort(EM),n}}function EM(i,e){return i.distance-e.distance}function Mx(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){const r=i.children;for(let s=0,a=r.length;s<a;s++)Mx(r[s],e,t,!0)}}class Sx{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class oF{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const TM=new Re;class aF{constructor(e=new Re(1/0,1/0),t=new Re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=TM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,TM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bM=new V,Sg=new V;class lF{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){bM.subVectors(e,this.start),Sg.subVectors(this.end,this.start);const n=Sg.dot(Sg);let s=Sg.dot(bM)/n;return t&&(s=Zn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const PM=new V;class uF extends tn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Ut,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,c=32;a<c;a++,l++){const d=a/c*Math.PI*2,p=l/c*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new ht(r,3));const s=new ir({fog:!1,toneMapped:!1});this.cone=new so(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),PM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(PM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Sl=new V,wg=new Rt,Yv=new Rt;class cF extends so{constructor(e){const t=KE(e),n=new Ut,r=[],s=[],a=new et(0,0,1),l=new et(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}n.setAttribute("position",new ht(r,3)),n.setAttribute("color",new ht(s,3));const c=new ir({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Yv.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(wg.multiplyMatrices(Yv,l.matrixWorld),Sl.setFromMatrixPosition(wg),r.setXYZ(a,Sl.x,Sl.y,Sl.z),wg.multiplyMatrices(Yv,l.parent.matrixWorld),Sl.setFromMatrixPosition(wg),r.setXYZ(a+1,Sl.x,Sl.y,Sl.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function KE(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,KE(i.children[t]));return e}class fF extends Si{constructor(e,t,n){const r=new bh(t,4,2),s=new is({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hF=new V,BM=new et,RM=new et;class dF extends tn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Th(t);r.rotateY(Math.PI*.5),this.material=new is({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new hn(a,3)),this.add(new Si(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");BM.copy(this.light.color),RM.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?BM:RM;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pF extends so{constructor(e=10,t=10,n=4473924,r=8947848){n=new et(n),r=new et(r);const s=t/2,a=e/t,l=e/2,c=[],d=[];for(let v=0,y=0,_=-l;v<=t;v++,_+=a){c.push(-l,0,_,l,0,_),c.push(_,0,-l,_,0,l);const C=v===s?n:r;C.toArray(d,y),y+=3,C.toArray(d,y),y+=3,C.toArray(d,y),y+=3,C.toArray(d,y),y+=3}const p=new Ut;p.setAttribute("position",new ht(c,3)),p.setAttribute("color",new ht(d,3));const g=new ir({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class mF extends so{constructor(e=10,t=16,n=8,r=64,s=4473924,a=8947848){s=new et(s),a=new et(a);const l=[],c=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),y=Math.sin(v)*e,_=Math.cos(v)*e;l.push(0,0,0),l.push(y,0,_);const C=g&1?s:a;c.push(C.r,C.g,C.b),c.push(C.r,C.g,C.b)}for(let g=0;g<n;g++){const v=g&1?s:a,y=e-e/n*g;for(let _=0;_<r;_++){let C=_/r*(Math.PI*2),S=Math.sin(C)*y,M=Math.cos(C)*y;l.push(S,0,M),c.push(v.r,v.g,v.b),C=(_+1)/r*(Math.PI*2),S=Math.sin(C)*y,M=Math.cos(C)*y,l.push(S,0,M),c.push(v.r,v.g,v.b)}}const d=new Ut;d.setAttribute("position",new ht(l,3)),d.setAttribute("color",new ht(c,3));const p=new ir({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const LM=new V,Cg=new V,IM=new V;class gF extends tn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Ut;r.setAttribute("position",new ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ir({fog:!1,toneMapped:!1});this.lightPlane=new La(r,s),this.add(this.lightPlane),r=new Ut,r.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new La(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),LM.setFromMatrixPosition(this.light.matrixWorld),Cg.setFromMatrixPosition(this.light.target.matrixWorld),IM.subVectors(Cg,LM),this.lightPlane.lookAt(Cg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cg),this.targetLine.scale.z=IM.length()}}const Eg=new V,Qn=new xp;class vF extends so{constructor(e){const t=new Ut,n=new ir({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,C){c(_),c(C)}function c(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new ht(r,3)),t.setAttribute("color",new ht(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new et(16755200),p=new et(16711680),g=new et(43775),v=new et(16777215),y=new et(3355443);this.setColors(d,p,g,v,y)}setColors(e,t,n,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ii("c",t,e,Qn,0,0,-1),ii("t",t,e,Qn,0,0,1),ii("n1",t,e,Qn,-n,-r,-1),ii("n2",t,e,Qn,n,-r,-1),ii("n3",t,e,Qn,-n,r,-1),ii("n4",t,e,Qn,n,r,-1),ii("f1",t,e,Qn,-n,-r,1),ii("f2",t,e,Qn,n,-r,1),ii("f3",t,e,Qn,-n,r,1),ii("f4",t,e,Qn,n,r,1),ii("u1",t,e,Qn,n*.7,r*1.1,-1),ii("u2",t,e,Qn,-n*.7,r*1.1,-1),ii("u3",t,e,Qn,0,r*2,-1),ii("cf1",t,e,Qn,-n,0,1),ii("cf2",t,e,Qn,n,0,1),ii("cf3",t,e,Qn,0,-r,1),ii("cf4",t,e,Qn,0,r,1),ii("cn1",t,e,Qn,-n,0,-1),ii("cn2",t,e,Qn,n,0,-1),ii("cn3",t,e,Qn,0,-r,-1),ii("cn4",t,e,Qn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ii(i,e,t,n,r,s,a){Eg.set(r,s,a).unproject(n);const l=e[i];if(l!==void 0){const c=t.getAttribute("position");for(let d=0,p=l.length;d<p;d++)c.setXYZ(l[d],Eg.x,Eg.y,Eg.z)}}const Tg=new io;class yF extends so{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Ut;s.setIndex(new hn(n,1)),s.setAttribute("position",new hn(r,3)),super(s,new ir({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Tg.setFromObject(this.object),Tg.isEmpty())return;const t=Tg.min,n=Tg.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xF extends so{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ut;s.setIndex(new hn(n,1)),s.setAttribute("position",new ht(r,3)),super(s,new ir({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class AF extends La{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ut;a.setAttribute("position",new ht(s,3)),a.computeBoundingSphere(),super(a,new ir({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Ut;c.setAttribute("position",new ht(l,3)),c.computeBoundingSphere(),this.add(new Si(c,new is({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DM=new V;let bg,Qv;class _F extends tn{constructor(e=new V(0,0,1),t=new V(0,0,0),n=1,r=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",bg===void 0&&(bg=new Ut,bg.setAttribute("position",new ht([0,0,0,0,1,0],3)),Qv=new vc(0,.5,1,5,1),Qv.translate(0,-.5,0)),this.position.copy(t),this.line=new La(bg,new ir({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Si(Qv,new is({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(DM,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class MF extends so{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ut;r.setAttribute("position",new ht(t,3)),r.setAttribute("color",new ht(n,3));const s=new ir({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new et,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SF{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ap,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,a){return this.currentPath.bezierCurveTo(e,t,n,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const T=[];for(let b=0,B=M.length;b<B;b++){const I=M[b],F=new oc;F.curves=I.curves,T.push(F)}return T}function n(M,T){const b=T.length;let B=!1;for(let I=b-1,F=0;F<b;I=F++){let G=T[I],U=T[F],D=U.x-G.x,k=U.y-G.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(G=T[F],D=-D,U=T[I],k=-k),M.y<G.y||M.y>U.y)continue;if(M.y===G.y){if(M.x===G.x)return!0}else{const Q=k*(M.x-G.x)-D*(M.y-G.y);if(Q===0)return!0;if(Q<0)continue;B=!B}}else{if(M.y!==G.y)continue;if(U.x<=M.x&&M.x<=G.x||G.x<=M.x&&M.x<=U.x)return!0}}return B}const r=Io.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,c;const d=[];if(s.length===1)return l=s[0],c=new oc,c.curves=l.curves,d.push(c),d;let p=!r(s[0].getPoints());p=e?!p:p;const g=[],v=[];let y=[],_=0,C;v[_]=void 0,y[_]=[];for(let M=0,T=s.length;M<T;M++)l=s[M],C=l.getPoints(),a=r(C),a=e?!a:a,a?(!p&&v[_]&&_++,v[_]={s:new oc,p:C},v[_].s.curves=l.curves,p&&_++,y[_]=[]):y[_].push({h:l,p:C[0]});if(!v[0])return t(s);if(v.length>1){let M=!1,T=0;for(let b=0,B=v.length;b<B;b++)g[b]=[];for(let b=0,B=v.length;b<B;b++){const I=y[b];for(let F=0;F<I.length;F++){const G=I[F];let U=!0;for(let D=0;D<v.length;D++)n(G.p,v[D].p)&&(b!==D&&T++,U?(U=!1,g[D].push(G)):M=!0);U&&g[b].push(G)}}T>0&&M===!1&&(y=g)}let S;for(let M=0,T=v.length;M<T;M++){c=v[M].s,d.push(c),S=y[M];for(let b=0,B=S.length;b<B;b++)c.holes.push(S[b].h)}return d}}class wF extends Hl{constructor(e,t,n,r,s,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,s,a)}}class CF extends wp{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class EF extends Cp{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class TF extends Ep{constructor(e,t,n,r,s,a,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,s,a,l)}}class bF extends vc{constructor(e,t,n,r,s,a,l,c){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,s,a,l,c)}}class PF extends Tp{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class BF extends bp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class RF extends Pp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class LF extends Eh{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class IF extends Th{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class DF extends wh{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class FF extends Da{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class NF extends Bp{constructor(e,t,n,r,s,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,s,a)}}class OF extends Rp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class kF extends bh{constructor(e,t,n,r,s,a,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,s,a,l)}}class UF extends Lp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class zF extends Ip{constructor(e,t,n,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,s)}}class GF extends Dp{constructor(e,t,n,r,s,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,s,a)}}class HF extends Fp{constructor(e,t,n,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_h}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_h);const VF=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Zx,AddEquation:ju,AddOperation:SC,AdditiveAnimationBlendMode:eA,AdditiveBlending:zy,AlphaFormat:IC,AlwaysDepth:gC,AlwaysStencilFunc:QC,AmbientLight:kE,AmbientLightProbe:OD,AnimationAction:JE,AnimationClip:vh,AnimationLoader:ED,AnimationMixer:tF,AnimationObjectGroup:$D,AnimationUtils:MD,ArcCurve:mE,ArrayCamera:uE,ArrowHelper:_F,Audio:WE,AudioAnalyser:VD,AudioContext:NA,AudioListener:zD,AudioLoader:FD,AxesHelper:MF,BackSide:gr,BasicDepthPacking:XC,BasicShadowMap:nC,Bone:M0,BooleanKeyframeTrack:yc,Box2:aF,Box3:io,Box3Helper:xF,BoxBufferGeometry:wF,BoxGeometry:Hl,BoxHelper:yF,BufferAttribute:hn,BufferGeometry:Ut,BufferGeometryLoader:HE,ByteType:bC,Cache:pc,Camera:xp,CameraHelper:vF,CanvasTexture:JI,CapsuleBufferGeometry:CF,CapsuleGeometry:wp,CatmullRomCurve3:gE,CineonToneMapping:EC,CircleBufferGeometry:EF,CircleGeometry:Cp,ClampToEdgeWrapping:Wi,Clock:OA,Color:et,ColorKeyframeTrack:BA,ColorManagement:Dr,CompressedArrayTexture:jI,CompressedTexture:AA,CompressedTextureLoader:TD,ConeBufferGeometry:TF,ConeGeometry:Ep,CubeCamera:uA,CubeReflectionMapping:Dl,CubeRefractionMapping:Fl,CubeTexture:Ap,CubeTextureLoader:bD,CubeUVReflectionMapping:Mh,CubicBezierCurve:MA,CubicBezierCurve3:vE,CubicInterpolant:DE,CullFaceBack:Uy,CullFaceFront:tC,CullFaceFrontBack:Xb,CullFaceNone:eC,Curve:oo,CurvePath:xE,CustomBlending:iC,CustomToneMapping:TC,CylinderBufferGeometry:bF,CylinderGeometry:vc,Cylindrical:oF,Data3DTexture:oA,DataArrayTexture:v0,DataTexture:lh,DataTextureLoader:PD,DataUtils:t3,DecrementStencilOp:iP,DecrementWrapStencilOp:sP,DefaultLoadingManager:th,DepthFormat:Rl,DepthStencilFormat:lc,DepthTexture:cE,DirectionalLight:FA,DirectionalLightHelper:gF,DiscreteInterpolant:FE,DisplayP3ColorSpace:nA,DodecahedronBufferGeometry:PF,DodecahedronGeometry:Tp,DoubleSide:ws,DstAlphaFactor:cC,DstColorFactor:hC,DynamicCopyUsage:xP,DynamicDrawUsage:ic,DynamicReadUsage:gP,EdgesGeometry:AE,EllipseCurve:S0,EqualDepth:yC,EqualStencilFunc:uP,EquirectangularReflectionMapping:tp,EquirectangularRefractionMapping:np,Euler:gc,EventDispatcher:Ia,ExtrudeBufferGeometry:BF,ExtrudeGeometry:bp,FileLoader:ss,Float16BufferAttribute:a3,Float32BufferAttribute:ht,Float64BufferAttribute:l3,FloatType:Sa,Fog:_0,FogExp2:A0,FramebufferTexture:WI,FrontSide:Fo,Frustum:y0,GLBufferAttribute:sF,GLSL1:_P,GLSL3:px,GreaterDepth:AC,GreaterEqualDepth:xC,GreaterEqualStencilFunc:dP,GreaterStencilFunc:fP,GridHelper:pF,Group:wa,HalfFloatType:hh,HemisphereLight:OE,HemisphereLightHelper:dF,HemisphereLightProbe:ND,IcosahedronBufferGeometry:RF,IcosahedronGeometry:Pp,ImageBitmapLoader:VE,ImageLoader:fp,ImageUtils:sA,IncrementStencilOp:nP,IncrementWrapStencilOp:rP,InstancedBufferAttribute:cc,InstancedBufferGeometry:GE,InstancedInterleavedBuffer:rF,InstancedMesh:vA,Int16BufferAttribute:s3,Int32BufferAttribute:o3,Int8BufferAttribute:n3,IntType:BC,InterleavedBuffer:_p,InterleavedBufferAttribute:Ol,Interpolant:Ph,InterpolateDiscrete:dh,InterpolateLinear:uc,InterpolateSmooth:Vg,InvertStencilOp:oP,KeepStencilOp:Wg,KeyframeTrack:ao,LOD:pE,LatheBufferGeometry:LF,LatheGeometry:Eh,Layers:sc,LessDepth:vC,LessEqualDepth:Kg,LessEqualStencilFunc:cP,LessStencilFunc:lP,Light:Vl,LightProbe:E0,Line:La,Line3:lF,LineBasicMaterial:ir,LineCurve:w0,LineCurve3:yE,LineDashedMaterial:LE,LineLoop:yA,LineSegments:so,LinearEncoding:Ra,LinearFilter:Hn,LinearInterpolant:PA,LinearMipMapLinearFilter:Zb,LinearMipMapNearestFilter:qb,LinearMipmapLinearFilter:No,LinearMipmapNearestFilter:m0,LinearSRGBColorSpace:ph,LinearToneMapping:wC,Loader:vr,LoaderUtils:Ll,LoadingManager:RA,LoopOnce:VC,LoopPingPong:jC,LoopRepeat:WC,LuminanceAlphaFormat:FC,LuminanceFormat:DC,MOUSE:zu,Material:gi,MaterialLoader:T0,MathUtils:rA,Matrix3:qt,Matrix4:Rt,MaxEquation:Wy,Mesh:Si,MeshBasicMaterial:is,MeshDepthMaterial:hA,MeshDistanceMaterial:dA,MeshLambertMaterial:BE,MeshMatcapMaterial:RE,MeshNormalMaterial:PE,MeshPhongMaterial:TE,MeshPhysicalMaterial:Es,MeshStandardMaterial:Np,MeshToonMaterial:bE,MinEquation:Vy,MirroredRepeatWrapping:fh,MixOperation:MC,MultiplyBlending:Hy,MultiplyOperation:yp,NearestFilter:qn,NearestMipMapLinearFilter:Qb,NearestMipMapNearestFilter:Yb,NearestMipmapLinearFilter:oh,NearestMipmapNearestFilter:ip,NeverDepth:mC,NeverStencilFunc:aP,NoBlending:Ea,NoColorSpace:$b,NoToneMapping:$s,NormalAnimationBlendMode:g0,NormalBlending:tc,NotEqualDepth:_C,NotEqualStencilFunc:hP,NumberKeyframeTrack:hc,Object3D:tn,ObjectLoader:ID,ObjectSpaceNormalMap:YC,OctahedronBufferGeometry:IF,OctahedronGeometry:Th,OneFactor:aC,OneMinusDstAlphaFactor:fC,OneMinusDstColorFactor:dC,OneMinusSrcAlphaFactor:qx,OneMinusSrcColorFactor:uC,OrthographicCamera:eo,PCFShadowMap:d0,PCFSoftShadowMap:Wd,PMREMGenerator:gx,Path:ap,PerspectiveCamera:On,Plane:xa,PlaneBufferGeometry:DF,PlaneGeometry:wh,PlaneHelper:AF,PointLight:DA,PointLightHelper:fF,Points:xA,PointsMaterial:Sp,PolarGridHelper:mF,PolyhedronBufferGeometry:FF,PolyhedronGeometry:Da,PositionalAudio:HD,PropertyBinding:on,PropertyMixer:jE,QuadraticBezierCurve:SA,QuadraticBezierCurve3:wA,Quaternion:Ri,QuaternionKeyframeTrack:kl,QuaternionLinearInterpolant:NE,RED_GREEN_RGTC2_Format:hx,RED_RGTC1_Format:HC,REVISION:_h,RGBADepthPacking:KC,RGBAFormat:Or,RGBAIntegerFormat:zC,RGBA_ASTC_10x10_Format:lx,RGBA_ASTC_10x5_Format:sx,RGBA_ASTC_10x6_Format:ox,RGBA_ASTC_10x8_Format:ax,RGBA_ASTC_12x10_Format:ux,RGBA_ASTC_12x12_Format:cx,RGBA_ASTC_4x4_Format:qy,RGBA_ASTC_5x4_Format:Zy,RGBA_ASTC_5x5_Format:$y,RGBA_ASTC_6x5_Format:ex,RGBA_ASTC_6x6_Format:tx,RGBA_ASTC_8x5_Format:nx,RGBA_ASTC_8x6_Format:ix,RGBA_ASTC_8x8_Format:rx,RGBA_BPTC_Format:Hg,RGBA_ETC2_EAC_Format:Qy,RGBA_PVRTC_2BPPV1_Format:Ky,RGBA_PVRTC_4BPPV1_Format:Xy,RGBA_S3TC_DXT1_Format:Ug,RGBA_S3TC_DXT3_Format:zg,RGBA_S3TC_DXT5_Format:Gg,RGB_ETC1_Format:GC,RGB_ETC2_Format:Yy,RGB_PVRTC_2BPPV1_Format:Jy,RGB_PVRTC_4BPPV1_Format:jy,RGB_S3TC_DXT1_Format:kg,RGFormat:kC,RGIntegerFormat:UC,RawShaderMaterial:EE,Ray:Sh,Raycaster:XE,RectAreaLight:UE,RedFormat:NC,RedIntegerFormat:OC,ReinhardToneMapping:CC,RepeatWrapping:Nl,ReplaceStencilOp:tP,ReverseSubtractEquation:sC,RingBufferGeometry:NF,RingGeometry:Bp,SIGNED_RED_GREEN_RGTC2_Format:dx,SIGNED_RED_RGTC1_Format:fx,SRGBColorSpace:qs,Scene:qg,ShaderChunk:Xt,ShaderLib:Zs,ShaderMaterial:Oo,ShadowMaterial:CE,Shape:oc,ShapeBufferGeometry:OF,ShapeGeometry:Rp,ShapePath:SF,ShapeUtils:Io,ShortType:PC,Skeleton:Mp,SkeletonHelper:cF,SkinnedMesh:gA,Source:qu,Sphere:ro,SphereBufferGeometry:kF,SphereGeometry:bh,Spherical:Sx,SphericalHarmonics3:zE,SplineCurve:CA,SpotLight:IA,SpotLightHelper:uF,Sprite:dE,SpriteMaterial:mA,SrcAlphaFactor:Qx,SrcAlphaSaturateFactor:pC,SrcColorFactor:lC,StaticCopyUsage:yP,StaticDrawUsage:sp,StaticReadUsage:mP,StereoCamera:kD,StreamCopyUsage:AP,StreamDrawUsage:pP,StreamReadUsage:vP,StringKeyframeTrack:xc,SubtractEquation:rC,SubtractiveBlending:Gy,TOUCH:Gu,TangentSpaceNormalMap:Gl,TetrahedronBufferGeometry:UF,TetrahedronGeometry:Lp,Texture:bn,TextureLoader:Op,TorusBufferGeometry:zF,TorusGeometry:Ip,TorusKnotBufferGeometry:GF,TorusKnotGeometry:Dp,Triangle:Nr,TriangleFanDrawMode:Yg,TriangleStripDrawMode:tA,TrianglesDrawMode:JC,TubeBufferGeometry:HF,TubeGeometry:Fp,TwoPassDoubleSide:Kb,UVMapping:p0,Uint16BufferAttribute:aA,Uint32BufferAttribute:lA,Uint8BufferAttribute:i3,Uint8ClampedBufferAttribute:r3,Uniform:zA,UniformsGroup:iF,UniformsLib:Qe,UniformsUtils:nE,UnsignedByteType:Ba,UnsignedInt248Type:nc,UnsignedIntType:Pl,UnsignedShort4444Type:RC,UnsignedShort5551Type:LC,UnsignedShortType:$x,VSMShadowMap:Ku,Vector2:Re,Vector3:V,Vector4:vn,VectorKeyframeTrack:dc,VideoTexture:VI,WebGL1Renderer:fE,WebGL3DRenderTarget:WP,WebGLArrayRenderTarget:VP,WebGLCubeRenderTarget:cA,WebGLMultipleRenderTargets:jP,WebGLRenderTarget:to,WebGLRenderer:pA,WebGLUtils:lE,WireframeGeometry:wE,WrapAroundEnding:rp,ZeroCurvatureEnding:Yu,ZeroFactor:oC,ZeroSlopeEnding:Qu,ZeroStencilOp:eP,_SRGBAFormat:Qg,sRGBEncoding:Sn},Symbol.toStringTag,{value:"Module"}));var qv={exports:{}},wl={};var FM;function WF(){return FM||(FM=1,wl.ConcurrentRoot=1,wl.ContinuousEventPriority=4,wl.DefaultEventPriority=16,wl.DiscreteEventPriority=1,wl.IdleEventPriority=536870912,wl.LegacyRoot=0),wl}var NM;function jF(){return NM||(NM=1,qv.exports=WF()),qv.exports}var nh=jF();function JF(i){let e;const t=new Set,n=(d,p)=>{const g=typeof d=="function"?d(e):d;if(g!==e){const v=e;e=p?g:Object.assign({},e,g),t.forEach(y=>y(e,v))}},r=()=>e,s=(d,p=r,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=p(e);function y(){const _=p(e);if(!g(v,_)){const C=v;d(v=_,C)}}return t.add(y),()=>t.delete(y)},c={setState:n,getState:r,subscribe:(d,p,g)=>p||g?s(d,p,g):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=i(n,r,c),c}const XF=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),OM=XF?q.useEffect:q.useLayoutEffect;function KF(i){const e=typeof i=="function"?JF(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=q.useReducer(S=>S+1,0),a=e.getState(),l=q.useRef(a),c=q.useRef(n),d=q.useRef(r),p=q.useRef(!1),g=q.useRef();g.current===void 0&&(g.current=n(a));let v,y=!1;(l.current!==a||c.current!==n||d.current!==r||p.current)&&(v=n(a),y=!r(g.current,v)),OM(()=>{y&&(g.current=v),l.current=a,c.current=n,d.current=r,p.current=!1});const _=q.useRef(a);OM(()=>{const S=()=>{try{const T=e.getState(),b=c.current(T);d.current(g.current,b)||(l.current=T,g.current=b,s())}catch{p.current=!0,s()}},M=e.subscribe(S);return e.getState()!==_.current&&S(),M},[]);const C=y?v:g.current;return q.useDebugValue(C),C};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}var Zv={exports:{}},$v={exports:{}},ey={};var kM;function YF(){return kM||(kM=1,(function(i){function e(z,Y){var N=z.length;z.push(Y);e:for(;0<N;){var X=N-1>>>1,ee=z[X];if(0<r(ee,Y))z[X]=Y,z[N]=ee,N=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Y=z[0],N=z.pop();if(N!==Y){z[0]=N;e:for(var X=0,ee=z.length,oe=ee>>>1;X<oe;){var le=2*(X+1)-1,Pe=z[le],Ce=le+1,ce=z[Ce];if(0>r(Pe,N))Ce<ee&&0>r(ce,Pe)?(z[X]=ce,z[Ce]=N,X=Ce):(z[X]=Pe,z[le]=N,X=le);else if(Ce<ee&&0>r(ce,N))z[X]=ce,z[Ce]=N,X=Ce;else break e}}return Y}function r(z,Y){var N=z.sortIndex-Y.sortIndex;return N!==0?N:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],d=[],p=1,g=null,v=3,y=!1,_=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=z)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function B(z){if(C=!1,b(z),!_)if(t(c)!==null)_=!0,ve(I);else{var Y=t(d);Y!==null&&de(B,Y.startTime-z)}}function I(z,Y){_=!1,C&&(C=!1,M(U),U=-1),y=!0;var N=v;try{for(b(Y),g=t(c);g!==null&&(!(g.expirationTime>Y)||z&&!Q());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var ee=X(g.expirationTime<=Y);Y=i.unstable_now(),typeof ee=="function"?g.callback=ee:g===t(c)&&n(c),b(Y)}else n(c);g=t(c)}if(g!==null)var oe=!0;else{var le=t(d);le!==null&&de(B,le.startTime-Y),oe=!1}return oe}finally{g=null,v=N,y=!1}}var F=!1,G=null,U=-1,D=5,k=-1;function Q(){return!(i.unstable_now()-k<D)}function re(){if(G!==null){var z=i.unstable_now();k=z;var Y=!0;try{Y=G(!0,z)}finally{Y?Z():(F=!1,G=null)}}else F=!1}var Z;if(typeof T=="function")Z=function(){T(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=re,Z=function(){se.postMessage(null)}}else Z=function(){S(re,0)};function ve(z){G=z,F||(F=!0,Z())}function de(z,Y){U=S(function(){z(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){_||y||(_=!0,ve(I))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var N=v;v=Y;try{return z()}finally{v=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=v;v=z;try{return Y()}finally{v=N}},i.unstable_scheduleCallback=function(z,Y,N){var X=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?X+N:X):N=X,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=N+ee,z={id:p++,callback:Y,priorityLevel:z,startTime:N,expirationTime:ee,sortIndex:-1},N>X?(z.sortIndex=N,e(d,z),t(c)===null&&z===t(d)&&(C?(M(U),U=-1):C=!0,de(B,N-X))):(z.sortIndex=ee,e(c,z),_||y||(_=!0,ve(I))),z},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(z){var Y=v;return function(){var N=v;v=Y;try{return z.apply(this,arguments)}finally{v=N}}}})(ey)),ey}var UM;function QF(){return UM||(UM=1,$v.exports=YF()),$v.exports}var ty,zM;function qF(){return zM||(zM=1,ty=function(e){var t={},n=Ah(),r=QF(),s=Object.assign;function a(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),I=Symbol.iterator;function F(f){return f===null||typeof f!="object"?null:(f=I&&f[I]||f["@@iterator"],typeof f=="function"?f:null)}function G(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case _:return(f.displayName||"Context")+".Consumer";case y:return(f._context.displayName||"Context")+".Provider";case C:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case T:return h=f.displayName||null,h!==null?h:G(f.type)||"Memo";case b:h=f._payload,f=f._init;try{return G(f(h))}catch{}}return null}function U(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(h);case 8:return h===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function D(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function k(f){if(D(f)!==f)throw Error(a(188))}function Q(f){var h=f.alternate;if(!h){if(h=D(f),h===null)throw Error(a(188));return h!==f?null:f}for(var x=f,w=h;;){var P=x.return;if(P===null)break;var L=P.alternate;if(L===null){if(w=P.return,w!==null){x=w;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===x)return k(P),f;if(L===w)return k(P),h;L=L.sibling}throw Error(a(188))}if(x.return!==w.return)x=P,w=L;else{for(var j=!1,ue=P.child;ue;){if(ue===x){j=!0,x=P,w=L;break}if(ue===w){j=!0,w=P,x=L;break}ue=ue.sibling}if(!j){for(ue=L.child;ue;){if(ue===x){j=!0,x=L,w=P;break}if(ue===w){j=!0,w=L,x=P;break}ue=ue.sibling}if(!j)throw Error(a(189))}}if(x.alternate!==w)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?f:h}function re(f){return f=Q(f),f!==null?Z(f):null}function Z(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=Z(f);if(h!==null)return h;f=f.sibling}return null}function te(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=te(f);if(h!==null)return h}f=f.sibling}return null}var se=Array.isArray,ve=e.getPublicInstance,de=e.getRootHostContext,z=e.getChildHostContext,Y=e.prepareForCommit,N=e.resetAfterCommit,X=e.createInstance,ee=e.appendInitialChild,oe=e.finalizeInitialChildren,le=e.prepareUpdate,Pe=e.shouldSetTextContent,Ce=e.createTextInstance,ce=e.scheduleTimeout,Ve=e.cancelTimeout,qe=e.noTimeout,Fe=e.isPrimaryRenderer,Oe=e.supportsMutation,Be=e.supportsPersistence,Ae=e.supportsHydration,Ie=e.getInstanceFromNode,Ze=e.preparePortalMount,Ke=e.getCurrentEventPriority,lt=e.detachDeletedInstance,yt=e.supportsMicrotasks,ct=e.scheduleMicrotask,St=e.supportsTestSelectors,Ft=e.findFiberRoot,J=e.getBoundingRect,H=e.getTextContent,_e=e.isHiddenSubtree,ke=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,je=e.setupIntersectionObserver,At=e.appendChild,it=e.appendChildToContainer,Te=e.commitTextUpdate,ot=e.commitMount,_t=e.commitUpdate,Mt=e.insertBefore,rt=e.insertInContainerBefore,dt=e.removeChild,ne=e.removeChildFromContainer,De=e.resetTextContent,tt=e.hideInstance,$=e.hideTextInstance,Me=e.unhideInstance,Ne=e.unhideTextInstance,Xe=e.clearContainer,vt=e.cloneInstance,nn=e.createContainerChildSet,Yt=e.appendChildToContainerChildSet,dn=e.finalizeContainerChildren,ri=e.replaceContainerChildren,rn=e.cloneHiddenInstance,Dn=e.cloneHiddenTextInstance,kn=e.canHydrateInstance,lo=e.canHydrateTextInstance,uo=e.canHydrateSuspenseInstance,Mc=e.isSuspenseInstancePending,Ts=e.isSuspenseInstanceFallback,Fa=e.registerSuspenseInstanceRetry,W=e.getNextHydratableSibling,ye=e.getFirstHydratableChild,be=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,Le=e.hydrateInstance,pt=e.hydrateTextInstance,bt=e.hydrateSuspenseInstance,Pt=e.getNextHydratableInstanceAfterSuspenseInstance,Nt=e.commitHydratedContainer,zt=e.commitHydratedSuspenseInstance,Gt=e.clearSuspenseBoundary,Wt=e.clearSuspenseBoundaryFromContainer,an=e.shouldDeleteUnhydratedTailInstances,vi=e.didNotMatchHydratedContainerTextInstance,rr=e.didNotMatchHydratedTextInstance,ln;function yn(f){if(ln===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);ln=h&&h[1]||""}return`
`+ln+f}var Ht=!1;function co(f,h){if(!f||Ht)return"";Ht=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(We){var w=We}Reflect.construct(f,[],h)}else{try{h.call()}catch(We){w=We}f.call(h.prototype)}else{try{throw Error()}catch(We){w=We}f()}}catch(We){if(We&&w&&typeof We.stack=="string"){for(var P=We.stack.split(`
`),L=w.stack.split(`
`),j=P.length-1,ue=L.length-1;1<=j&&0<=ue&&P[j]!==L[ue];)ue--;for(;1<=j&&0<=ue;j--,ue--)if(P[j]!==L[ue]){if(j!==1||ue!==1)do if(j--,ue--,0>ue||P[j]!==L[ue]){var Ee=`
`+P[j].replace(" at new "," at ");return f.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",f.displayName)),Ee}while(1<=j&&0<=ue);break}}}finally{Ht=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?yn(f):""}var Pn=Object.prototype.hasOwnProperty,zr=[],as=-1;function yi(f){return{current:f}}function Jt(f){0>as||(f.current=zr[as],zr[as]=null,as--)}function Ot(f,h){as++,zr[as]=f.current,f.current=h}var xn={},Jn=yi(xn),pn=yi(!1),Gr=xn;function Hr(f,h){var x=f.type.contextTypes;if(!x)return xn;var w=f.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in x)P[L]=h[L];return w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=P),P}function Xn(f){return f=f.childContextTypes,f!=null}function fo(){Jt(pn),Jt(Jn)}function Jl(f,h,x){if(Jn.current!==xn)throw Error(a(168));Ot(Jn,h),Ot(pn,x)}function Jp(f,h,x){var w=f.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var P in w)if(!(P in h))throw Error(a(108,U(f)||"Unknown",P));return s({},x,w)}function Sc(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||xn,Gr=Jn.current,Ot(Jn,f),Ot(pn,pn.current),!0}function wc(f,h,x){var w=f.stateNode;if(!w)throw Error(a(169));x?(f=Jp(f,h,Gr),w.__reactInternalMemoizedMergedChildContext=f,Jt(pn),Jt(Jn),Ot(Jn,f)):Jt(pn),Ot(pn,x)}var yr=Math.clz32?Math.clz32:k0,Rh=Math.log,Xl=Math.LN2;function k0(f){return f>>>=0,f===0?32:31-(Rh(f)/Xl|0)|0}var Na=64,sn=4194304;function Oa(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Kl(f,h){var x=f.pendingLanes;if(x===0)return 0;var w=0,P=f.suspendedLanes,L=f.pingedLanes,j=x&268435455;if(j!==0){var ue=j&~P;ue!==0?w=Oa(ue):(L&=j,L!==0&&(w=Oa(L)))}else j=x&~P,j!==0?w=Oa(j):L!==0&&(w=Oa(L));if(w===0)return 0;if(h!==0&&h!==w&&(h&P)===0&&(P=w&-w,L=h&-h,P>=L||P===16&&(L&4194240)!==0))return h;if((w&4)!==0&&(w|=x&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=w;0<h;)x=31-yr(h),P=1<<x,w|=f[x],h&=~P;return w}function Lh(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(f,h){for(var x=f.suspendedLanes,w=f.pingedLanes,P=f.expirationTimes,L=f.pendingLanes;0<L;){var j=31-yr(L),ue=1<<j,Ee=P[j];Ee===-1?((ue&x)===0||(ue&w)!==0)&&(P[j]=Lh(ue,h)):Ee<=h&&(f.expiredLanes|=ue),L&=~ue}}function Cc(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Ec(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function ko(f,h,x){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-yr(h),f[h]=x}function Tc(f,h){var x=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var w=f.eventTimes;for(f=f.expirationTimes;0<x;){var P=31-yr(x),L=1<<P;h[P]=0,w[P]=-1,f[P]=-1,x&=~L}}function ls(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var w=31-yr(x),P=1<<w;P&h|f[w]&h&&(f[w]|=h),x&=~P}}var jt=0;function bs(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Uo=r.unstable_scheduleCallback,ka=r.unstable_cancelCallback,ho=r.unstable_shouldYield,U0=r.unstable_requestPaint,$n=r.unstable_now,zo=r.unstable_ImmediatePriority,z0=r.unstable_UserBlockingPriority,bc=r.unstable_NormalPriority,Pc=r.unstable_IdlePriority,Yl=null,us=null;function Ql(f){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Yl,f,void 0,(f.current.flags&128)===128)}catch{}}function ql(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Li=typeof Object.is=="function"?Object.is:ql,xr=null,Bc=!1,Ih=!1;function Rc(f){xr===null?xr=[f]:xr.push(f)}function Lc(f){Bc=!0,Rc(f)}function Ar(){if(!Ih&&xr!==null){Ih=!0;var f=0,h=jt;try{var x=xr;for(jt=1;f<x.length;f++){var w=x[f];do w=w(!0);while(w!==null)}xr=null,Bc=!1}catch(P){throw xr!==null&&(xr=xr.slice(f+1)),Uo(zo,Ar),P}finally{jt=h,Ih=!1}}return null}var Kp=l.ReactCurrentBatchConfig;function Vr(f,h){if(Li(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),w=Object.keys(h);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var P=x[w];if(!Pn.call(h,P)||!Li(f[P],h[P]))return!1}return!0}function Dh(f){switch(f.tag){case 5:return yn(f.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return f=co(f.type,!1),f;case 11:return f=co(f.type.render,!1),f;case 1:return f=co(f.type,!0),f;default:return""}}function Ji(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var x in f)h[x]===void 0&&(h[x]=f[x]);return h}return h}var Zl=yi(null),Go=null,Ps=null,Ic=null;function Ii(){Ic=Ps=Go=null}function Ho(f,h,x){Fe?(Ot(Zl,h._currentValue),h._currentValue=x):(Ot(Zl,h._currentValue2),h._currentValue2=x)}function $l(f){var h=Zl.current;Jt(Zl),Fe?f._currentValue=h:f._currentValue2=h}function Vo(f,h,x){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===x)break;f=f.return}}function Ua(f,h){Go=f,Ic=Ps=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&h)!==0&&(li=!0),f.firstContext=null)}function Xi(f){var h=Fe?f._currentValue:f._currentValue2;if(Ic!==f)if(f={context:f,memoizedValue:h,next:null},Ps===null){if(Go===null)throw Error(a(308));Ps=f,Go.dependencies={lanes:0,firstContext:f}}else Ps=Ps.next=f;return h}var _r=null,Mr=!1;function za(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fh(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Bs(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function po(f,h){var x=f.updateQueue;x!==null&&(x=x.shared,Ln!==null&&(f.mode&1)!==0&&(Vt&2)===0?(f=x.interleaved,f===null?(h.next=h,_r===null?_r=[x]:_r.push(x)):(h.next=f.next,f.next=h),x.interleaved=h):(f=x.pending,f===null?h.next=h:(h.next=f.next,f.next=h),x.pending=h))}function Dc(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var w=h.lanes;w&=f.pendingLanes,x|=w,h.lanes=x,ls(f,x)}}function Fc(f,h){var x=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var P=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var j={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};L===null?P=L=j:L=L.next=j,x=x.next}while(x!==null);L===null?P=L=h:L=L.next=h}else P=L=h;x={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:w.shared,effects:w.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}function Nc(f,h,x,w){var P=f.updateQueue;Mr=!1;var L=P.firstBaseUpdate,j=P.lastBaseUpdate,ue=P.shared.pending;if(ue!==null){P.shared.pending=null;var Ee=ue,We=Ee.next;Ee.next=null,j===null?L=We:j.next=We,j=Ee;var at=f.alternate;at!==null&&(at=at.updateQueue,ue=at.lastBaseUpdate,ue!==j&&(ue===null?at.firstBaseUpdate=We:ue.next=We,at.lastBaseUpdate=Ee))}if(L!==null){var Dt=P.baseState;j=0,at=We=Ee=null,ue=L;do{var wt=ue.lane,gn=ue.eventTime;if((w&wt)===wt){at!==null&&(at=at.next={eventTime:gn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var nt=f,cn=ue;switch(wt=h,gn=x,cn.tag){case 1:if(nt=cn.payload,typeof nt=="function"){Dt=nt.call(gn,Dt,wt);break e}Dt=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=cn.payload,wt=typeof nt=="function"?nt.call(gn,Dt,wt):nt,wt==null)break e;Dt=s({},Dt,wt);break e;case 2:Mr=!0}}ue.callback!==null&&ue.lane!==0&&(f.flags|=64,wt=P.effects,wt===null?P.effects=[ue]:wt.push(ue))}else gn={eventTime:gn,lane:wt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},at===null?(We=at=gn,Ee=Dt):at=at.next=gn,j|=wt;if(ue=ue.next,ue===null){if(ue=P.shared.pending,ue===null)break;wt=ue,ue=wt.next,wt.next=null,P.lastBaseUpdate=wt,P.shared.pending=null}}while(!0);if(at===null&&(Ee=Dt),P.baseState=Ee,P.firstBaseUpdate=We,P.lastBaseUpdate=at,h=P.shared.interleaved,h!==null){P=h;do j|=P.lane,P=P.next;while(P!==h)}else L===null&&(P.shared.lanes=0);sa|=j,f.lanes=j,f.memoizedState=Dt}}function Yp(f,h,x){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var w=f[h],P=w.callback;if(P!==null){if(w.callback=null,w=x,typeof P!="function")throw Error(a(191,P));P.call(w)}}}var Qp=new n.Component().refs;function Nh(f,h,x,w){h=f.memoizedState,x=x(w,h),x=x==null?h:s({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var Oc={isMounted:function(f){return(f=f._reactInternals)?D(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var w=fi(),P=ms(f),L=Bs(w,P);L.payload=h,x!=null&&(L.callback=x),po(f,L),h=qi(f,P,w),h!==null&&Dc(h,f,P)},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var w=fi(),P=ms(f),L=Bs(w,P);L.tag=1,L.payload=h,x!=null&&(L.callback=x),po(f,L),h=qi(f,P,w),h!==null&&Dc(h,f,P)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=fi(),w=ms(f),P=Bs(x,w);P.tag=2,h!=null&&(P.callback=h),po(f,P),h=qi(f,w,x),h!==null&&Dc(h,f,w)}};function Oh(f,h,x,w,P,L,j){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,L,j):h.prototype&&h.prototype.isPureReactComponent?!Vr(x,w)||!Vr(P,L):!0}function qp(f,h,x){var w=!1,P=xn,L=h.contextType;return typeof L=="object"&&L!==null?L=Xi(L):(P=Xn(h)?Gr:Jn.current,w=h.contextTypes,L=(w=w!=null)?Hr(f,P):xn),h=new h(x,L),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Oc,f.stateNode=h,h._reactInternals=f,w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=L),h}function Zp(f,h,x,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,w),h.state!==f&&Oc.enqueueReplaceState(h,h.state,null)}function kh(f,h,x,w){var P=f.stateNode;P.props=x,P.state=f.memoizedState,P.refs=Qp,za(f);var L=h.contextType;typeof L=="object"&&L!==null?P.context=Xi(L):(L=Xn(h)?Gr:Jn.current,P.context=Hr(f,L)),P.state=f.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Nh(f,h,L,x),P.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&Oc.enqueueReplaceState(P,P.state,null),Nc(f,x,P,w),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var Ga=[],mo=0,kc=null,Uc=0,Sr=[],sr=0,Wo=null,Rs=1,Ls="";function jo(f,h){Ga[mo++]=Uc,Ga[mo++]=kc,kc=f,Uc=h}function $p(f,h,x){Sr[sr++]=Rs,Sr[sr++]=Ls,Sr[sr++]=Wo,Wo=f;var w=Rs;f=Ls;var P=32-yr(w)-1;w&=~(1<<P),x+=1;var L=32-yr(h)+P;if(30<L){var j=P-P%5;L=(w&(1<<j)-1).toString(32),w>>=j,P-=j,Rs=1<<32-yr(h)+P|x<<P|w,Ls=L+f}else Rs=1<<L|x<<P|w,Ls=f}function Uh(f){f.return!==null&&(jo(f,1),$p(f,1,0))}function zh(f){for(;f===kc;)kc=Ga[--mo],Ga[mo]=null,Uc=Ga[--mo],Ga[mo]=null;for(;f===Wo;)Wo=Sr[--sr],Sr[sr]=null,Ls=Sr[--sr],Sr[sr]=null,Rs=Sr[--sr],Sr[sr]=null}var Di=null,xi=null,En=!1,Ha=!1,wr=null;function Gh(f,h){var x=cr(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=f,h=f.deletions,h===null?(f.deletions=[x],f.flags|=16):h.push(x)}function Hh(f,h){switch(f.tag){case 5:return h=kn(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,Di=f,xi=ye(h),!0):!1;case 6:return h=lo(h,f.pendingProps),h!==null?(f.stateNode=h,Di=f,xi=null,!0):!1;case 13:if(h=uo(h),h!==null){var x=Wo!==null?{id:Rs,overflow:Ls}:null;return f.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=cr(18,null,null,0),x.stateNode=h,x.return=f,f.child=x,Di=f,xi=null,!0}return!1;default:return!1}}function zc(f){return(f.mode&1)!==0&&(f.flags&128)===0}function go(f){if(En){var h=xi;if(h){var x=h;if(!Hh(f,h)){if(zc(f))throw Error(a(418));h=W(x);var w=Di;h&&Hh(f,h)?Gh(w,x):(f.flags=f.flags&-4097|2,En=!1,Di=f)}}else{if(zc(f))throw Error(a(418));f.flags=f.flags&-4097|2,En=!1,Di=f}}}function em(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Di=f}function eu(f){if(!Ae||f!==Di)return!1;if(!En)return em(f),En=!0,!1;if(f.tag!==3&&(f.tag!==5||an(f.type)&&!Pe(f.type,f.memoizedProps))){var h=xi;if(h){if(zc(f)){for(f=xi;f;)f=W(f);throw Error(a(418))}for(;h;)Gh(f,h),h=W(h)}}if(em(f),f.tag===13){if(!Ae)throw Error(a(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));xi=Pt(f)}else xi=Di?W(f.stateNode):null;return!0}function Va(){Ae&&(xi=Di=null,Ha=En=!1)}function Gc(f){wr===null?wr=[f]:wr.push(f)}function Wa(f,h,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(a(309));var w=x.stateNode}if(!w)throw Error(a(147,f));var P=w,L=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(j){var ue=P.refs;ue===Qp&&(ue=P.refs={}),j===null?delete ue[L]:ue[L]=j},h._stringRef=L,h)}if(typeof f!="string")throw Error(a(284));if(!x._owner)throw Error(a(290,f))}return f}function vo(f,h){throw f=Object.prototype.toString.call(h),Error(a(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function ja(f){var h=f._init;return h(f._payload)}function tm(f){function h(xe,fe){if(f){var we=xe.deletions;we===null?(xe.deletions=[fe],xe.flags|=16):we.push(fe)}}function x(xe,fe){if(!f)return null;for(;fe!==null;)h(xe,fe),fe=fe.sibling;return null}function w(xe,fe){for(xe=new Map;fe!==null;)fe.key!==null?xe.set(fe.key,fe):xe.set(fe.index,fe),fe=fe.sibling;return xe}function P(xe,fe){return xe=Ws(xe,fe),xe.index=0,xe.sibling=null,xe}function L(xe,fe,we){return xe.index=we,f?(we=xe.alternate,we!==null?(we=we.index,we<fe?(xe.flags|=2,fe):we):(xe.flags|=2,fe)):(xe.flags|=1048576,fe)}function j(xe){return f&&xe.alternate===null&&(xe.flags|=2),xe}function ue(xe,fe,we,$e){return fe===null||fe.tag!==6?(fe=Af(we,xe.mode,$e),fe.return=xe,fe):(fe=P(fe,we),fe.return=xe,fe)}function Ee(xe,fe,we,$e){var mt=we.type;return mt===p?at(xe,fe,we.props.children,$e,we.key):fe!==null&&(fe.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&ja(mt)===fe.type)?($e=P(fe,we.props),$e.ref=Wa(xe,fe,we),$e.return=xe,$e):($e=Su(we.type,we.key,we.props,null,xe.mode,$e),$e.ref=Wa(xe,fe,we),$e.return=xe,$e)}function We(xe,fe,we,$e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=_f(we,xe.mode,$e),fe.return=xe,fe):(fe=P(fe,we.children||[]),fe.return=xe,fe)}function at(xe,fe,we,$e,mt){return fe===null||fe.tag!==7?(fe=Po(we,xe.mode,$e,mt),fe.return=xe,fe):(fe=P(fe,we),fe.return=xe,fe)}function Dt(xe,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Af(""+fe,xe.mode,we),fe.return=xe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case c:return we=Su(fe.type,fe.key,fe.props,null,xe.mode,we),we.ref=Wa(xe,null,fe),we.return=xe,we;case d:return fe=_f(fe,xe.mode,we),fe.return=xe,fe;case b:var $e=fe._init;return Dt(xe,$e(fe._payload),we)}if(se(fe)||F(fe))return fe=Po(fe,xe.mode,we,null),fe.return=xe,fe;vo(xe,fe)}return null}function wt(xe,fe,we,$e){var mt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return mt!==null?null:ue(xe,fe,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case c:return we.key===mt?Ee(xe,fe,we,$e):null;case d:return we.key===mt?We(xe,fe,we,$e):null;case b:return mt=we._init,wt(xe,fe,mt(we._payload),$e)}if(se(we)||F(we))return mt!==null?null:at(xe,fe,we,$e,null);vo(xe,we)}return null}function gn(xe,fe,we,$e,mt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return xe=xe.get(we)||null,ue(fe,xe,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case c:return xe=xe.get($e.key===null?we:$e.key)||null,Ee(fe,xe,$e,mt);case d:return xe=xe.get($e.key===null?we:$e.key)||null,We(fe,xe,$e,mt);case b:var kt=$e._init;return gn(xe,fe,we,kt($e._payload),mt)}if(se($e)||F($e))return xe=xe.get(we)||null,at(fe,xe,$e,mt,null);vo(fe,$e)}return null}function nt(xe,fe,we,$e){for(var mt=null,kt=null,Lt=fe,en=fe=0,ti=null;Lt!==null&&en<we.length;en++){Lt.index>en?(ti=Lt,Lt=null):ti=Lt.sibling;var $t=wt(xe,Lt,we[en],$e);if($t===null){Lt===null&&(Lt=ti);break}f&&Lt&&$t.alternate===null&&h(xe,Lt),fe=L($t,fe,en),kt===null?mt=$t:kt.sibling=$t,kt=$t,Lt=ti}if(en===we.length)return x(xe,Lt),En&&jo(xe,en),mt;if(Lt===null){for(;en<we.length;en++)Lt=Dt(xe,we[en],$e),Lt!==null&&(fe=L(Lt,fe,en),kt===null?mt=Lt:kt.sibling=Lt,kt=Lt);return En&&jo(xe,en),mt}for(Lt=w(xe,Lt);en<we.length;en++)ti=gn(Lt,xe,en,we[en],$e),ti!==null&&(f&&ti.alternate!==null&&Lt.delete(ti.key===null?en:ti.key),fe=L(ti,fe,en),kt===null?mt=ti:kt.sibling=ti,kt=ti);return f&&Lt.forEach(function(gs){return h(xe,gs)}),En&&jo(xe,en),mt}function cn(xe,fe,we,$e){var mt=F(we);if(typeof mt!="function")throw Error(a(150));if(we=mt.call(we),we==null)throw Error(a(151));for(var kt=mt=null,Lt=fe,en=fe=0,ti=null,$t=we.next();Lt!==null&&!$t.done;en++,$t=we.next()){Lt.index>en?(ti=Lt,Lt=null):ti=Lt.sibling;var gs=wt(xe,Lt,$t.value,$e);if(gs===null){Lt===null&&(Lt=ti);break}f&&Lt&&gs.alternate===null&&h(xe,Lt),fe=L(gs,fe,en),kt===null?mt=gs:kt.sibling=gs,kt=gs,Lt=ti}if($t.done)return x(xe,Lt),En&&jo(xe,en),mt;if(Lt===null){for(;!$t.done;en++,$t=we.next())$t=Dt(xe,$t.value,$e),$t!==null&&(fe=L($t,fe,en),kt===null?mt=$t:kt.sibling=$t,kt=$t);return En&&jo(xe,en),mt}for(Lt=w(xe,Lt);!$t.done;en++,$t=we.next())$t=gn(Lt,xe,en,$t.value,$e),$t!==null&&(f&&$t.alternate!==null&&Lt.delete($t.key===null?en:$t.key),fe=L($t,fe,en),kt===null?mt=$t:kt.sibling=$t,kt=$t);return f&&Lt.forEach(function(Am){return h(xe,Am)}),En&&jo(xe,en),mt}function fr(xe,fe,we,$e){if(typeof we=="object"&&we!==null&&we.type===p&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case c:e:{for(var mt=we.key,kt=fe;kt!==null;){if(kt.key===mt){if(mt=we.type,mt===p){if(kt.tag===7){x(xe,kt.sibling),fe=P(kt,we.props.children),fe.return=xe,xe=fe;break e}}else if(kt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&ja(mt)===kt.type){x(xe,kt.sibling),fe=P(kt,we.props),fe.ref=Wa(xe,kt,we),fe.return=xe,xe=fe;break e}x(xe,kt);break}else h(xe,kt);kt=kt.sibling}we.type===p?(fe=Po(we.props.children,xe.mode,$e,we.key),fe.return=xe,xe=fe):($e=Su(we.type,we.key,we.props,null,xe.mode,$e),$e.ref=Wa(xe,fe,we),$e.return=xe,xe=$e)}return j(xe);case d:e:{for(kt=we.key;fe!==null;){if(fe.key===kt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){x(xe,fe.sibling),fe=P(fe,we.children||[]),fe.return=xe,xe=fe;break e}else{x(xe,fe);break}else h(xe,fe);fe=fe.sibling}fe=_f(we,xe.mode,$e),fe.return=xe,xe=fe}return j(xe);case b:return kt=we._init,fr(xe,fe,kt(we._payload),$e)}if(se(we))return nt(xe,fe,we,$e);if(F(we))return cn(xe,fe,we,$e);vo(xe,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,fe!==null&&fe.tag===6?(x(xe,fe.sibling),fe=P(fe,we),fe.return=xe,xe=fe):(x(xe,fe),fe=Af(we,xe.mode,$e),fe.return=xe,xe=fe),j(xe)):x(xe,fe)}return fr}var Is=tm(!0),nm=tm(!1),Ja={},Ki=yi(Ja),Jo=yi(Ja),Xo=yi(Ja);function Wr(f){if(f===Ja)throw Error(a(174));return f}function Hc(f,h){Ot(Xo,h),Ot(Jo,f),Ot(Ki,Ja),f=de(h),Jt(Ki),Ot(Ki,f)}function Xa(){Jt(Ki),Jt(Jo),Jt(Xo)}function im(f){var h=Wr(Xo.current),x=Wr(Ki.current);h=z(x,f.type,h),x!==h&&(Ot(Jo,f),Ot(Ki,h))}function Vh(f){Jo.current===f&&(Jt(Ki),Jt(Jo))}var Bn=yi(0);function Vc(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Mc(x)||Ts(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var or=[];function Ko(){for(var f=0;f<or.length;f++){var h=or[f];Fe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}or.length=0}var tu=l.ReactCurrentDispatcher,ar=l.ReactCurrentBatchConfig,Yo=0,Rn=null,si=null,oi=null,Wc=!1,cs=!1,Qo=0,nu=0;function ai(){throw Error(a(321))}function jc(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!Li(f[x],h[x]))return!1;return!0}function Ka(f,h,x,w,P,L){if(Yo=L,Rn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,tu.current=f===null||f.memoizedState===null?Yh:Qh,f=x(w,P),cs){L=0;do{if(cs=!1,Qo=0,25<=L)throw Error(a(301));L+=1,oi=si=null,h.updateQueue=null,tu.current=qh,f=x(w,P)}while(cs)}if(tu.current=Za,h=si!==null&&si.next!==null,Yo=0,oi=si=Rn=null,Wc=!1,h)throw Error(a(300));return f}function yo(){var f=Qo!==0;return Qo=0,f}function jr(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Rn.memoizedState=oi=f:oi=oi.next=f,oi}function Jr(){if(si===null){var f=Rn.alternate;f=f!==null?f.memoizedState:null}else f=si.next;var h=oi===null?Rn.memoizedState:oi.next;if(h!==null)oi=h,si=f;else{if(f===null)throw Error(a(310));si=f,f={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},oi===null?Rn.memoizedState=oi=f:oi=oi.next=f}return oi}function fs(f,h){return typeof h=="function"?h(f):h}function iu(f){var h=Jr(),x=h.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=f;var w=si,P=w.baseQueue,L=x.pending;if(L!==null){if(P!==null){var j=P.next;P.next=L.next,L.next=j}w.baseQueue=P=L,x.pending=null}if(P!==null){L=P.next,w=w.baseState;var ue=j=null,Ee=null,We=L;do{var at=We.lane;if((Yo&at)===at)Ee!==null&&(Ee=Ee.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),w=We.hasEagerState?We.eagerState:f(w,We.action);else{var Dt={lane:at,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Ee===null?(ue=Ee=Dt,j=w):Ee=Ee.next=Dt,Rn.lanes|=at,sa|=at}We=We.next}while(We!==null&&We!==L);Ee===null?j=w:Ee.next=ue,Li(w,h.memoizedState)||(li=!0),h.memoizedState=w,h.baseState=j,h.baseQueue=Ee,x.lastRenderedState=w}if(f=x.interleaved,f!==null){P=f;do L=P.lane,Rn.lanes|=L,sa|=L,P=P.next;while(P!==f)}else P===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function ru(f){var h=Jr(),x=h.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=f;var w=x.dispatch,P=x.pending,L=h.memoizedState;if(P!==null){x.pending=null;var j=P=P.next;do L=f(L,j.action),j=j.next;while(j!==P);Li(L,h.memoizedState)||(li=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),x.lastRenderedState=L}return[L,w]}function Wh(){}function jh(f,h){var x=Rn,w=Jr(),P=h(),L=!Li(w.memoizedState,P);if(L&&(w.memoizedState=P,li=!0),w=w.queue,Ya(Ds.bind(null,x,w,f),[f]),w.getSnapshot!==h||L||oi!==null&&oi.memoizedState.tag&1){if(x.flags|=2048,ou(9,Xh.bind(null,x,w,P,h),void 0,null),Ln===null)throw Error(a(349));(Yo&30)!==0||Jh(x,h,P)}return P}function Jh(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function Xh(f,h,x,w){h.value=x,h.getSnapshot=w,Jc(h)&&qi(f,1,-1)}function Ds(f,h,x){return x(function(){Jc(h)&&qi(f,1,-1)})}function Jc(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!Li(f,x)}catch{return!0}}function su(f){var h=jr();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:f},h.queue=f,f=f.dispatch=G0.bind(null,Rn,f),[h.memoizedState,f]}function ou(f,h,x,w){return f={tag:f,create:h,destroy:x,deps:w,next:null},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.lastEffect=f.next=f):(x=h.lastEffect,x===null?h.lastEffect=f.next=f:(w=x.next,x.next=f,f.next=w,h.lastEffect=f)),f}function rm(){return Jr().memoizedState}function xo(f,h,x,w){var P=jr();Rn.flags|=f,P.memoizedState=ou(1|h,x,void 0,w===void 0?null:w)}function Xc(f,h,x,w){var P=Jr();w=w===void 0?null:w;var L=void 0;if(si!==null){var j=si.memoizedState;if(L=j.destroy,w!==null&&jc(w,j.deps)){P.memoizedState=ou(h,x,L,w);return}}Rn.flags|=f,P.memoizedState=ou(1|h,x,L,w)}function Kc(f,h){return xo(8390656,8,f,h)}function Ya(f,h){return Xc(2048,8,f,h)}function An(f,h){return Xc(4,2,f,h)}function Yc(f,h){return Xc(4,4,f,h)}function au(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function Qa(f,h,x){return x=x!=null?x.concat([f]):null,Xc(4,4,au.bind(null,h,f),x)}function Qc(){}function qc(f,h){var x=Jr();h=h===void 0?null:h;var w=x.memoizedState;return w!==null&&h!==null&&jc(h,w[1])?w[0]:(x.memoizedState=[f,h],f)}function qa(f,h){var x=Jr();h=h===void 0?null:h;var w=x.memoizedState;return w!==null&&h!==null&&jc(h,w[1])?w[0]:(f=f(),x.memoizedState=[f,h],f)}function Zc(f,h){var x=jt;jt=x!==0&&4>x?x:4,f(!0);var w=ar.transition;ar.transition={};try{f(!1),h()}finally{jt=x,ar.transition=w}}function qo(){return Jr().memoizedState}function sm(f,h,x){var w=ms(f);x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},om(f)?Kh(h,x):(lu(f,h,x),x=fi(),f=qi(f,w,x),f!==null&&uu(f,h,w))}function G0(f,h,x){var w=ms(f),P={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if(om(f))Kh(h,P);else{lu(f,h,P);var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,ue=L(j,x);if(P.hasEagerState=!0,P.eagerState=ue,Li(ue,j))return}catch{}finally{}x=fi(),f=qi(f,w,x),f!==null&&uu(f,h,w)}}function om(f){var h=f.alternate;return f===Rn||h!==null&&h===Rn}function Kh(f,h){cs=Wc=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function lu(f,h,x){Ln!==null&&(f.mode&1)!==0&&(Vt&2)===0?(f=h.interleaved,f===null?(x.next=x,_r===null?_r=[h]:_r.push(h)):(x.next=f.next,f.next=x),h.interleaved=x):(f=h.pending,f===null?x.next=x:(x.next=f.next,f.next=x),h.pending=x)}function uu(f,h,x){if((x&4194240)!==0){var w=h.lanes;w&=f.pendingLanes,x|=w,h.lanes=x,ls(f,x)}}var Za={readContext:Xi,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},Yh={readContext:Xi,useCallback:function(f,h){return jr().memoizedState=[f,h===void 0?null:h],f},useContext:Xi,useEffect:Kc,useImperativeHandle:function(f,h,x){return x=x!=null?x.concat([f]):null,xo(4194308,4,au.bind(null,h,f),x)},useLayoutEffect:function(f,h){return xo(4194308,4,f,h)},useInsertionEffect:function(f,h){return xo(4,2,f,h)},useMemo:function(f,h){var x=jr();return h=h===void 0?null:h,f=f(),x.memoizedState=[f,h],f},useReducer:function(f,h,x){var w=jr();return h=x!==void 0?x(h):h,w.memoizedState=w.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},w.queue=f,f=f.dispatch=sm.bind(null,Rn,f),[w.memoizedState,f]},useRef:function(f){var h=jr();return f={current:f},h.memoizedState=f},useState:su,useDebugValue:Qc,useDeferredValue:function(f){var h=su(f),x=h[0],w=h[1];return Kc(function(){var P=ar.transition;ar.transition={};try{w(f)}finally{ar.transition=P}},[f]),x},useTransition:function(){var f=su(!1),h=f[0];return f=Zc.bind(null,f[1]),jr().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,x){var w=Rn,P=jr();if(En){if(x===void 0)throw Error(a(407));x=x()}else{if(x=h(),Ln===null)throw Error(a(349));(Yo&30)!==0||Jh(w,h,x)}P.memoizedState=x;var L={value:x,getSnapshot:h};return P.queue=L,Kc(Ds.bind(null,w,L,f),[f]),w.flags|=2048,ou(9,Xh.bind(null,w,L,x,h),void 0,null),x},useId:function(){var f=jr(),h=Ln.identifierPrefix;if(En){var x=Ls,w=Rs;x=(w&~(1<<32-yr(w)-1)).toString(32)+x,h=":"+h+"R"+x,x=Qo++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=nu++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},Qh={readContext:Xi,useCallback:qc,useContext:Xi,useEffect:Ya,useImperativeHandle:Qa,useInsertionEffect:An,useLayoutEffect:Yc,useMemo:qa,useReducer:iu,useRef:rm,useState:function(){return iu(fs)},useDebugValue:Qc,useDeferredValue:function(f){var h=iu(fs),x=h[0],w=h[1];return Ya(function(){var P=ar.transition;ar.transition={};try{w(f)}finally{ar.transition=P}},[f]),x},useTransition:function(){var f=iu(fs)[0],h=Jr().memoizedState;return[f,h]},useMutableSource:Wh,useSyncExternalStore:jh,useId:qo,unstable_isNewReconciler:!1},qh={readContext:Xi,useCallback:qc,useContext:Xi,useEffect:Ya,useImperativeHandle:Qa,useInsertionEffect:An,useLayoutEffect:Yc,useMemo:qa,useReducer:ru,useRef:rm,useState:function(){return ru(fs)},useDebugValue:Qc,useDeferredValue:function(f){var h=ru(fs),x=h[0],w=h[1];return Ya(function(){var P=ar.transition;ar.transition={};try{w(f)}finally{ar.transition=P}},[f]),x},useTransition:function(){var f=ru(fs)[0],h=Jr().memoizedState;return[f,h]},useMutableSource:Wh,useSyncExternalStore:jh,useId:qo,unstable_isNewReconciler:!1};function Zh(f,h){try{var x="",w=h;do x+=Dh(w),w=w.return;while(w);var P=x}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:f,source:h,stack:P}}function $c(f,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function am(f,h,x){x=Bs(-1,x),x.tag=3,x.payload={element:null};var w=h.value;return x.callback=function(){wo||(wo=!0,br=w),$c(f,h)},x}function ef(f,h,x){x=Bs(-1,x),x.tag=3;var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var P=h.value;x.payload=function(){return w(P)},x.callback=function(){$c(f,h)}}var L=f.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(x.callback=function(){$c(f,h),typeof w!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),x}function Fs(f,h,x){var w=f.pingCache;if(w===null){w=f.pingCache=new H0;var P=new Set;w.set(h,P)}else P=w.get(h),P===void 0&&(P=new Set,w.set(h,P));P.has(x)||(P.add(x),f=fm.bind(null,f,h,x),h.then(f,f))}function $h(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function Zo(f,h,x,w,P){return(f.mode&1)===0?(f===h?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=Bs(-1,1),h.tag=2,po(x,h))),x.lanes|=1),f):(f.flags|=65536,f.lanes=P,f)}function ei(f){f.flags|=4}function $a(f,h){if(f!==null&&f.child===h.child)return!0;if((h.flags&16)!==0)return!1;for(f=h.child;f!==null;){if((f.flags&12854)!==0||(f.subtreeFlags&12854)!==0)return!1;f=f.sibling}return!0}var lr,$o,tf,nf;if(Oe)lr=function(f,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)ee(f,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},$o=function(){},tf=function(f,h,x,w,P){if(f=f.memoizedProps,f!==w){var L=h.stateNode,j=Wr(Ki.current);x=le(L,x,f,w,P,j),(h.updateQueue=x)&&ei(h)}},nf=function(f,h,x,w){x!==w&&ei(h)};else if(Be){lr=function(f,h,x,w){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;x&&w&&(L=rn(L,P.type,P.memoizedProps,P)),ee(f,L)}else if(P.tag===6)L=P.stateNode,x&&w&&(L=Dn(L,P.memoizedProps,P)),ee(f,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),lr(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Ao=function(f,h,x,w){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;x&&w&&(L=rn(L,P.type,P.memoizedProps,P)),Yt(f,L)}else if(P.tag===6)L=P.stateNode,x&&w&&(L=Dn(L,P.memoizedProps,P)),Yt(f,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),Ao(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};$o=function(f,h){var x=h.stateNode;if(!$a(f,h)){f=x.containerInfo;var w=nn(f);Ao(w,h,!1,!1),x.pendingChildren=w,ei(h),dn(f,w)}},tf=function(f,h,x,w,P){var L=f.stateNode,j=f.memoizedProps;if((f=$a(f,h))&&j===w)h.stateNode=L;else{var ue=h.stateNode,Ee=Wr(Ki.current),We=null;j!==w&&(We=le(ue,x,j,w,P,Ee)),f&&We===null?h.stateNode=L:(L=vt(L,We,x,j,w,h,f,ue),oe(L,x,w,P,Ee)&&ei(h),h.stateNode=L,f?ei(h):lr(L,h,!1,!1))}},nf=function(f,h,x,w){x!==w?(f=Wr(Xo.current),x=Wr(Ki.current),h.stateNode=Ce(w,f,x,h),ei(h)):h.stateNode=f.stateNode}}else $o=function(){},tf=function(){},nf=function(){};function Ns(f,h){if(!En)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Un(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,w=0;if(h)for(var P=f.child;P!==null;)x|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)x|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=w,f.childLanes=x,h}function rf(f,h,x){var w=h.pendingProps;switch(zh(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(h),null;case 1:return Xn(h.type)&&fo(),Un(h),null;case 3:return w=h.stateNode,Xa(),Jt(pn),Jt(Jn),Ko(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(eu(h)?ei(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wr!==null&&(Gn(wr),wr=null))),$o(f,h),Un(h),null;case 5:Vh(h),x=Wr(Xo.current);var P=h.type;if(f!==null&&h.stateNode!=null)tf(f,h,P,w,x),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(a(166));return Un(h),null}if(f=Wr(Ki.current),eu(h)){if(!Ae)throw Error(a(175));f=Le(h.stateNode,h.type,h.memoizedProps,x,f,h,!Ha),h.updateQueue=f,f!==null&&ei(h)}else{var L=X(P,w,x,f,h);lr(L,h,!1,!1),h.stateNode=L,oe(L,P,w,x,f)&&ei(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Un(h),null;case 6:if(f&&h.stateNode!=null)nf(f,h,f.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(a(166));if(f=Wr(Xo.current),x=Wr(Ki.current),eu(h)){if(!Ae)throw Error(a(176));if(f=h.stateNode,w=h.memoizedProps,(x=pt(f,w,h,!Ha))&&(P=Di,P!==null))switch(L=(P.mode&1)!==0,P.tag){case 3:vi(P.stateNode.containerInfo,f,w,L);break;case 5:rr(P.type,P.memoizedProps,P.stateNode,f,w,L)}x&&ei(h)}else h.stateNode=Ce(w,f,x,h)}return Un(h),null;case 13:if(Jt(Bn),w=h.memoizedState,En&&xi!==null&&(h.mode&1)!==0&&(h.flags&128)===0){for(f=xi;f;)f=W(f);return Va(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=eu(h),f===null){if(!w)throw Error(a(318));if(!Ae)throw Error(a(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));bt(f,h)}else Va(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;return Un(h),null}return wr!==null&&(Gn(wr),wr=null),(h.flags&128)!==0?(h.lanes=x,h):(w=w!==null,x=!1,f===null?eu(h):x=f.memoizedState!==null,w&&!x&&(h.child.flags|=8192,(h.mode&1)!==0&&(f===null||(Bn.current&1)!==0?Kn===0&&(Kn=3):yu())),h.updateQueue!==null&&(h.flags|=4),Un(h),null);case 4:return Xa(),$o(f,h),f===null&&Ze(h.stateNode.containerInfo),Un(h),null;case 10:return $l(h.type._context),Un(h),null;case 17:return Xn(h.type)&&fo(),Un(h),null;case 19:if(Jt(Bn),P=h.memoizedState,P===null)return Un(h),null;if(w=(h.flags&128)!==0,L=P.rendering,L===null)if(w)Ns(P,!1);else{if(Kn!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(L=Vc(f),L!==null){for(h.flags|=128,Ns(P,!1),f=L.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=x,w=h.child;w!==null;)x=w,P=f,x.flags&=14680066,L=x.alternate,L===null?(x.childLanes=0,x.lanes=P,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=L.childLanes,x.lanes=L.lanes,x.child=L.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=L.memoizedProps,x.memoizedState=L.memoizedState,x.updateQueue=L.updateQueue,x.type=L.type,P=L.dependencies,x.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),w=w.sibling;return Ot(Bn,Bn.current&1|2),h.child}f=f.sibling}P.tail!==null&&$n()>So&&(h.flags|=128,w=!0,Ns(P,!1),h.lanes=4194304)}else{if(!w)if(f=Vc(L),f!==null){if(h.flags|=128,w=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),Ns(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!En)return Un(h),null}else 2*$n()-P.renderingStartTime>So&&x!==1073741824&&(h.flags|=128,w=!0,Ns(P,!1),h.lanes=4194304);P.isBackwards?(L.sibling=h.child,h.child=L):(f=P.last,f!==null?f.sibling=L:h.child=L,P.last=L)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=$n(),h.sibling=null,f=Bn.current,Ot(Bn,w?f&1|2:f&1),h):(Un(h),null);case 22:case 23:return ld(),w=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Ui&1073741824)!==0&&(Un(h),Oe&&h.subtreeFlags&6&&(h.flags|=8192)):Un(h),null;case 24:return null;case 25:return null}throw Error(a(156,h.tag))}var ed=l.ReactCurrentOwner,li=!1;function Fn(f,h,x,w){h.child=f===null?nm(h,null,x,w):Is(h,f.child,x,w)}function _n(f,h,x,w,P){x=x.render;var L=h.ref;return Ua(h,P),w=Ka(f,h,x,w,L,P),x=yo(),f!==null&&!li?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,Yi(f,h,P)):(En&&x&&Uh(h),h.flags|=1,Fn(f,h,w,P),h.child)}function mn(f,h,x,w,P){if(f===null){var L=x.type;return typeof L=="function"&&!Mu(L)&&L.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=L,Os(f,h,L,w,P)):(f=Su(x.type,null,w,h,h.mode,P),f.ref=h.ref,f.return=h,h.child=f)}if(L=f.child,(f.lanes&P)===0){var j=L.memoizedProps;if(x=x.compare,x=x!==null?x:Vr,x(j,w)&&f.ref===h.ref)return Yi(f,h,P)}return h.flags|=1,f=Ws(L,w),f.ref=h.ref,f.return=h,h.child=f}function Os(f,h,x,w,P){if(f!==null&&Vr(f.memoizedProps,w)&&f.ref===h.ref)if(li=!1,(f.lanes&P)!==0)(f.flags&131072)!==0&&(li=!0);else return h.lanes=f.lanes,Yi(f,h,P);return ks(f,h,x,w,P)}function Ai(f,h,x){var w=h.pendingProps,P=w.children,L=f!==null?f.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null},Ot(Vs,Ui),Ui|=x;else if((x&1073741824)!==0)h.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:x,Ot(Vs,Ui),Ui|=w;else return f=L!==null?L.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,Ot(Vs,Ui),Ui|=f,null;else L!==null?(w=L.baseLanes|x,h.memoizedState=null):w=x,Ot(Vs,Ui),Ui|=w;return Fn(f,h,P,x),h.child}function Fi(f,h){var x=h.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function ks(f,h,x,w,P){var L=Xn(x)?Gr:Jn.current;return L=Hr(h,L),Ua(h,P),x=Ka(f,h,x,w,L,P),w=yo(),f!==null&&!li?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,Yi(f,h,P)):(En&&w&&Uh(h),h.flags|=1,Fn(f,h,x,P),h.child)}function ea(f,h,x,w,P){if(Xn(x)){var L=!0;Sc(h)}else L=!1;if(Ua(h,P),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),qp(h,x,w),kh(h,x,w,P),w=!0;else if(f===null){var j=h.stateNode,ue=h.memoizedProps;j.props=ue;var Ee=j.context,We=x.contextType;typeof We=="object"&&We!==null?We=Xi(We):(We=Xn(x)?Gr:Jn.current,We=Hr(h,We));var at=x.getDerivedStateFromProps,Dt=typeof at=="function"||typeof j.getSnapshotBeforeUpdate=="function";Dt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ue!==w||Ee!==We)&&Zp(h,j,w,We),Mr=!1;var wt=h.memoizedState;j.state=wt,Nc(h,w,j,P),Ee=h.memoizedState,ue!==w||wt!==Ee||pn.current||Mr?(typeof at=="function"&&(Nh(h,x,at,w),Ee=h.memoizedState),(ue=Mr||Oh(h,x,ue,w,wt,Ee,We))?(Dt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Ee),j.props=w,j.state=Ee,j.context=We,w=ue):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{j=h.stateNode,Fh(f,h),ue=h.memoizedProps,We=h.type===h.elementType?ue:Ji(h.type,ue),j.props=We,Dt=h.pendingProps,wt=j.context,Ee=x.contextType,typeof Ee=="object"&&Ee!==null?Ee=Xi(Ee):(Ee=Xn(x)?Gr:Jn.current,Ee=Hr(h,Ee));var gn=x.getDerivedStateFromProps;(at=typeof gn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ue!==Dt||wt!==Ee)&&Zp(h,j,w,Ee),Mr=!1,wt=h.memoizedState,j.state=wt,Nc(h,w,j,P);var nt=h.memoizedState;ue!==Dt||wt!==nt||pn.current||Mr?(typeof gn=="function"&&(Nh(h,x,gn,w),nt=h.memoizedState),(We=Mr||Oh(h,x,We,w,wt,nt,Ee)||!1)?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,nt,Ee),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,nt,Ee)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||ue===f.memoizedProps&&wt===f.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ue===f.memoizedProps&&wt===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=nt),j.props=w,j.state=nt,j.context=Ee,w=We):(typeof j.componentDidUpdate!="function"||ue===f.memoizedProps&&wt===f.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ue===f.memoizedProps&&wt===f.memoizedState||(h.flags|=1024),w=!1)}return Ei(f,h,x,w,L,P)}function Ei(f,h,x,w,P,L){Fi(f,h);var j=(h.flags&128)!==0;if(!w&&!j)return P&&wc(h,x,!1),Yi(f,h,L);w=h.stateNode,ed.current=h;var ue=j&&typeof x.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,f!==null&&j?(h.child=Is(h,f.child,null,L),h.child=Is(h,null,ue,L)):Fn(f,h,ue,L),h.memoizedState=w.state,P&&wc(h,x,!0),h.child}function cu(f){var h=f.stateNode;h.pendingContext?Jl(f,h.pendingContext,h.pendingContext!==h.context):h.context&&Jl(f,h.context,!1),Hc(f,h.containerInfo)}function td(f,h,x,w,P){return Va(),Gc(P),h.flags|=256,Fn(f,h,x,w),h.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function ta(f){return{baseLanes:f,cachePool:null}}function nd(f,h,x){var w=h.pendingProps,P=Bn.current,L=!1,j=(h.flags&128)!==0,ue;if((ue=j)||(ue=f!==null&&f.memoizedState===null?!1:(P&2)!==0),ue?(L=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),Ot(Bn,P&1),f===null)return go(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((h.mode&1)===0?h.lanes=1:Ts(f)?h.lanes=8:h.lanes=1073741824,null):(P=w.children,f=w.fallback,L?(w=h.mode,L=h.child,P={mode:"hidden",children:P},(w&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=P):L=fl(P,w,0,null),f=Po(f,w,x,null),L.return=h,f.return=h,L.sibling=f,h.child=L,h.child.memoizedState=ta(x),h.memoizedState=fu,f):Xr(h,P));if(P=f.memoizedState,P!==null){if(ue=P.dehydrated,ue!==null){if(j)return h.flags&256?(h.flags&=-257,du(f,h,x,Error(a(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(L=w.fallback,P=h.mode,w=fl({mode:"visible",children:w.children},P,0,null),L=Po(L,P,x,null),L.flags|=2,w.return=h,L.return=h,w.sibling=L,h.child=w,(h.mode&1)!==0&&Is(h,f.child,null,x),h.child.memoizedState=ta(x),h.memoizedState=fu,L);if((h.mode&1)===0)h=du(f,h,x,null);else if(Ts(ue))h=du(f,h,x,Error(a(419)));else if(w=(x&f.childLanes)!==0,li||w){if(w=Ln,w!==null){switch(x&-x){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=(L&(w.suspendedLanes|x))!==0?0:L,w!==0&&w!==P.retryLane&&(P.retryLane=w,qi(f,w,-1))}yu(),h=du(f,h,x,Error(a(421)))}else Mc(ue)?(h.flags|=128,h.child=f.child,h=hm.bind(null,f),Fa(ue,h),h=null):(x=P.treeContext,Ae&&(xi=me(ue),Di=h,En=!0,wr=null,Ha=!1,x!==null&&(Sr[sr++]=Rs,Sr[sr++]=Ls,Sr[sr++]=Wo,Rs=x.id,Ls=x.overflow,Wo=h)),h=Xr(h,h.pendingProps.children),h.flags|=4096);return h}return L?(w=sf(f,h,w.children,w.fallback,x),L=h.child,P=f.child.memoizedState,L.memoizedState=P===null?ta(x):{baseLanes:P.baseLanes|x,cachePool:null},L.childLanes=f.childLanes&~x,h.memoizedState=fu,w):(x=hu(f,h,w.children,x),h.memoizedState=null,x)}return L?(w=sf(f,h,w.children,w.fallback,x),L=h.child,P=f.child.memoizedState,L.memoizedState=P===null?ta(x):{baseLanes:P.baseLanes|x,cachePool:null},L.childLanes=f.childLanes&~x,h.memoizedState=fu,w):(x=hu(f,h,w.children,x),h.memoizedState=null,x)}function Xr(f,h){return h=fl({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function hu(f,h,x,w){var P=f.child;return f=P.sibling,x=Ws(P,{mode:"visible",children:x}),(h.mode&1)===0&&(x.lanes=w),x.return=h,x.sibling=null,f!==null&&(w=h.deletions,w===null?(h.deletions=[f],h.flags|=16):w.push(f)),h.child=x}function sf(f,h,x,w,P){var L=h.mode;f=f.child;var j=f.sibling,ue={mode:"hidden",children:x};return(L&1)===0&&h.child!==f?(x=h.child,x.childLanes=0,x.pendingProps=ue,h.deletions=null):(x=Ws(f,ue),x.subtreeFlags=f.subtreeFlags&14680064),j!==null?w=Ws(j,w):(w=Po(w,L,P,null),w.flags|=2),w.return=h,x.return=h,x.sibling=w,h.child=x,w}function du(f,h,x,w){return w!==null&&Gc(w),Is(h,f.child,null,x),f=Xr(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function lm(f,h,x){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),Vo(f.return,h,x)}function hs(f,h,x,w,P){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:P}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=x,L.tailMode=P)}function na(f,h,x){var w=h.pendingProps,P=w.revealOrder,L=w.tail;if(Fn(f,h,w.children,x),w=Bn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&lm(f,x,h);else if(f.tag===19)lm(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}if(Ot(Bn,w),(h.mode&1)===0)h.memoizedState=null;else switch(P){case"forwards":for(x=h.child,P=null;x!==null;)f=x.alternate,f!==null&&Vc(f)===null&&(P=x),x=x.sibling;x=P,x===null?(P=h.child,h.child=null):(P=x.sibling,x.sibling=null),hs(h,!1,P,x,L);break;case"backwards":for(x=null,P=h.child,h.child=null;P!==null;){if(f=P.alternate,f!==null&&Vc(f)===null){h.child=P;break}f=P.sibling,P.sibling=x,x=P,P=f}hs(h,!0,x,null,L);break;case"together":hs(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Yi(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),sa|=h.lanes,(x&h.childLanes)===0)return null;if(f!==null&&h.child!==f.child)throw Error(a(153));if(h.child!==null){for(f=h.child,x=Ws(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=Ws(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function of(f,h,x){switch(h.tag){case 3:cu(h),Va();break;case 5:im(h);break;case 1:Xn(h.type)&&Sc(h);break;case 4:Hc(h,h.stateNode.containerInfo);break;case 10:Ho(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Ot(Bn,Bn.current&1),h.flags|=128,null):(x&h.child.childLanes)!==0?nd(f,h,x):(Ot(Bn,Bn.current&1),f=Yi(f,h,x),f!==null?f.sibling:null);Ot(Bn,Bn.current&1);break;case 19:if(w=(x&h.childLanes)!==0,(f.flags&128)!==0){if(w)return na(f,h,x);h.flags|=128}var P=h.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ot(Bn,Bn.current),w)break;return null;case 22:case 23:return h.lanes=0,Ai(f,h,x)}return Yi(f,h,x)}function af(f,h){switch(zh(h),h.tag){case 1:return Xn(h.type)&&fo(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Xa(),Jt(pn),Jt(Jn),Ko(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 5:return Vh(h),null;case 13:if(Jt(Bn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Va()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Jt(Bn),null;case 4:return Xa(),null;case 10:return $l(h.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var Ni=!1,ui=!1,ia=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Cr(f,h){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){Gi(f,h,w)}else x.current=null}function Us(f,h,x){try{x()}catch(w){Gi(f,h,w)}}var id=!1;function rd(f,h){for(Y(f.containerInfo),Ye=h;Ye!==null;)if(f=Ye,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Ye=h;else for(;Ye!==null;){f=Ye;try{var x=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,P=x.memoizedState,L=f.stateNode,j=L.getSnapshotBeforeUpdate(f.elementType===f.type?w:Ji(f.type,w),P);L.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Oe&&Xe(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ue){Gi(f,f.return,ue)}if(h=f.sibling,h!==null){h.return=f.return,Ye=h;break}Ye=f.return}return x=id,id=!1,x}function zs(f,h,x){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&f)===f){var L=P.destroy;P.destroy=void 0,L!==void 0&&Us(h,x,L)}P=P.next}while(P!==w)}}function _i(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&f)===f){var w=x.create;x.destroy=w()}x=x.next}while(x!==h)}}function Oi(f){var h=f.ref;if(h!==null){var x=f.stateNode;switch(f.tag){case 5:f=ve(x);break;default:f=x}typeof h=="function"?h(f):h.current=f}}function wn(f,h,x){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Yl,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var w=f=f.next;do{var P=w,L=P.destroy;P=P.tag,L!==void 0&&((P&2)!==0||(P&4)!==0)&&Us(h,x,L),w=w.next}while(w!==f)}break;case 1:if(Cr(h,x),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(j){Gi(h,x,j)}break;case 5:Cr(h,x);break;case 4:Oe?ad(f,h,x):Be&&Be&&(h=h.stateNode.containerInfo,x=nn(h),ri(h,x))}}function Er(f,h,x){for(var w=h;;)if(wn(f,w,x),w.child===null||Oe&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function sd(f){var h=f.alternate;h!==null&&(f.alternate=null,sd(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&lt(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function od(f){return f.tag===5||f.tag===3||f.tag===4}function lf(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||od(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function uf(f){if(Oe){e:{for(var h=f.return;h!==null;){if(od(h))break e;h=h.return}throw Error(a(160))}var x=h;switch(x.tag){case 5:h=x.stateNode,x.flags&32&&(De(h),x.flags&=-33),x=lf(f),el(f,x,h);break;case 3:case 4:h=x.stateNode.containerInfo,x=lf(f),cf(f,x,h);break;default:throw Error(a(161))}}}function cf(f,h,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?rt(x,f,h):it(x,f);else if(w!==4&&(f=f.child,f!==null))for(cf(f,h,x),f=f.sibling;f!==null;)cf(f,h,x),f=f.sibling}function el(f,h,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?Mt(x,f,h):At(x,f);else if(w!==4&&(f=f.child,f!==null))for(el(f,h,x),f=f.sibling;f!==null;)el(f,h,x),f=f.sibling}function ad(f,h,x){for(var w=h,P=!1,L,j;;){if(!P){P=w.return;e:for(;;){if(P===null)throw Error(a(160));switch(L=P.stateNode,P.tag){case 5:j=!1;break e;case 3:L=L.containerInfo,j=!0;break e;case 4:L=L.containerInfo,j=!0;break e}P=P.return}P=!0}if(w.tag===5||w.tag===6)Er(f,w,x),j?ne(L,w.stateNode):dt(L,w.stateNode);else if(w.tag===18)j?Wt(L,w.stateNode):Gt(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,j=!0,w.child.return=w,w=w.child;continue}}else if(wn(f,w,x),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(P=!1)}w.sibling.return=w.return,w=w.sibling}}function _o(f,h){if(Oe){switch(h.tag){case 0:case 11:case 14:case 15:zs(3,h,h.return),_i(3,h),zs(5,h,h.return);return;case 1:return;case 5:var x=h.stateNode;if(x!=null){var w=h.memoizedProps;f=f!==null?f.memoizedProps:w;var P=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&_t(x,L,P,f,w,h)}return;case 6:if(h.stateNode===null)throw Error(a(162));x=h.memoizedProps,Te(h.stateNode,f!==null?f.memoizedProps:x,x);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&Nt(h.stateNode.containerInfo);return;case 12:return;case 13:tl(h);return;case 19:tl(h);return;case 17:return}throw Error(a(163))}switch(h.tag){case 0:case 11:case 14:case 15:zs(3,h,h.return),_i(3,h),zs(5,h,h.return);return;case 12:return;case 13:tl(h);return;case 19:tl(h);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&Nt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Be){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,ri(h.containerInfo,h.pendingChildren);break e}throw Error(a(163))}}function tl(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new ia),h.forEach(function(w){var P=Au.bind(null,f,w);x.has(w)||(x.add(w),w.then(P,P))})}}function V0(f,h){for(Ye=h;Ye!==null;){h=Ye;var x=h.deletions;if(x!==null)for(var w=0;w<x.length;w++){var P=x[w];try{var L=f;Oe?ad(L,P,h):Er(L,P,h);var j=P.alternate;j!==null&&(j.return=null),P.return=null}catch(mt){Gi(P,h,mt)}}if(x=h.child,(h.subtreeFlags&12854)!==0&&x!==null)x.return=h,Ye=x;else for(;Ye!==null;){h=Ye;try{var ue=h.flags;if(ue&32&&Oe&&De(h.stateNode),ue&512){var Ee=h.alternate;if(Ee!==null){var We=Ee.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(ue&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var at=h.alternate;(at===null||at.memoizedState===null)&&(df=$n())}break;case 22:var Dt=h.memoizedState!==null,wt=h.alternate,gn=wt!==null&&wt.memoizedState!==null;if(x=h,Oe){e:if(w=x,P=Dt,L=null,Oe)for(var nt=w;;){if(nt.tag===5){if(L===null){L=nt;var cn=nt.stateNode;P?tt(cn):Me(nt.stateNode,nt.memoizedProps)}}else if(nt.tag===6){if(L===null){var fr=nt.stateNode;P?$(fr):Ne(fr,nt.memoizedProps)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===w)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===w)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===w)break e;L===nt&&(L=null),nt=nt.return}L===nt&&(L=null),nt.sibling.return=nt.return,nt=nt.sibling}}if(Dt&&!gn&&(x.mode&1)!==0){Ye=x;for(var xe=x.child;xe!==null;){for(x=Ye=xe;Ye!==null;){w=Ye;var fe=w.child;switch(w.tag){case 0:case 11:case 14:case 15:zs(4,w,w.return);break;case 1:Cr(w,w.return);var we=w.stateNode;if(typeof we.componentWillUnmount=="function"){var $e=w.return;try{we.props=w.memoizedProps,we.state=w.memoizedState,we.componentWillUnmount()}catch(mt){Gi(w,$e,mt)}}break;case 5:Cr(w,w.return);break;case 22:if(w.memoizedState!==null){ra(x);continue}}fe!==null?(fe.return=w,Ye=fe):ra(x)}xe=xe.sibling}}}switch(ue&4102){case 2:uf(h),h.flags&=-3;break;case 6:uf(h),h.flags&=-3,_o(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,_o(h.alternate,h);break;case 4:_o(h.alternate,h)}}catch(mt){Gi(h,h.return,mt)}if(x=h.sibling,x!==null){x.return=h.return,Ye=x;break}Ye=h.return}}}function Kr(f,h,x){Ye=f,pu(f)}function pu(f,h,x){for(var w=(f.mode&1)!==0;Ye!==null;){var P=Ye,L=P.child;if(P.tag===22&&w){var j=P.memoizedState!==null||Ni;if(!j){var ue=P.alternate,Ee=ue!==null&&ue.memoizedState!==null||ui;ue=Ni;var We=ui;if(Ni=j,(ui=Ee)&&!We)for(Ye=P;Ye!==null;)j=Ye,Ee=j.child,j.tag===22&&j.memoizedState!==null?ff(P):Ee!==null?(Ee.return=j,Ye=Ee):ff(P);for(;L!==null;)Ye=L,pu(L),L=L.sibling;Ye=P,Ni=ue,ui=We}mu(f)}else(P.subtreeFlags&8772)!==0&&L!==null?(L.return=P,Ye=L):mu(f)}}function mu(f){for(;Ye!==null;){var h=Ye;if((h.flags&8772)!==0){var x=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:ui||_i(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!ui)if(x===null)w.componentDidMount();else{var P=h.elementType===h.type?x.memoizedProps:Ji(h.type,x.memoizedProps);w.componentDidUpdate(P,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&Yp(h,L,w);break;case 3:var j=h.updateQueue;if(j!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=ve(h.child.stateNode);break;case 1:x=h.child.stateNode}Yp(h,j,x)}break;case 5:var ue=h.stateNode;x===null&&h.flags&4&&ot(ue,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&h.memoizedState===null){var Ee=h.alternate;if(Ee!==null){var We=Ee.memoizedState;if(We!==null){var at=We.dehydrated;at!==null&&zt(at)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ui||h.flags&512&&Oi(h)}catch(Dt){Gi(h,h.return,Dt)}}if(h===f){Ye=null;break}if(x=h.sibling,x!==null){x.return=h.return,Ye=x;break}Ye=h.return}}function ra(f){for(;Ye!==null;){var h=Ye;if(h===f){Ye=null;break}var x=h.sibling;if(x!==null){x.return=h.return,Ye=x;break}Ye=h.return}}function ff(f){for(;Ye!==null;){var h=Ye;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{_i(4,h)}catch(Ee){Gi(h,x,Ee)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var P=h.return;try{w.componentDidMount()}catch(Ee){Gi(h,P,Ee)}}var L=h.return;try{Oi(h)}catch(Ee){Gi(h,L,Ee)}break;case 5:var j=h.return;try{Oi(h)}catch(Ee){Gi(h,j,Ee)}}}catch(Ee){Gi(h,h.return,Ee)}if(h===f){Ye=null;break}var ue=h.sibling;if(ue!==null){ue.return=h.return,Ye=ue;break}Ye=h.return}}var nl=0,il=1,rl=2,Gs=3,ki=4;if(typeof Symbol=="function"&&Symbol.for){var Yr=Symbol.for;nl=Yr("selector.component"),il=Yr("selector.has_pseudo_class"),rl=Yr("selector.role"),Gs=Yr("selector.test_id"),ki=Yr("selector.text")}function gu(f){var h=Ie(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(f=Ft(f),f===null)throw Error(a(362));return f.stateNode.current}function hf(f,h){switch(h.$$typeof){case nl:if(f.type===h.value)return!0;break;case il:e:{h=h.value,f=[f,0];for(var x=0;x<f.length;){var w=f[x++],P=f[x++],L=h[P];if(w.tag!==5||!_e(w)){for(;L!=null&&hf(w,L);)P++,L=h[P];if(P===h.length){h=!0;break e}else for(w=w.child;w!==null;)f.push(w,P),w=w.sibling}}h=!1}return h;case rl:if(f.tag===5&&ke(f.stateNode,h.value))return!0;break;case ki:if((f.tag===5||f.tag===6)&&(f=H(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Gs:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Qr(f){switch(f.$$typeof){case nl:return"<"+(G(f.value)||"Unknown")+">";case il:return":has("+(Qr(f)||"")+")";case rl:return'[role="'+f.value+'"]';case ki:return'"'+f.value+'"';case Gs:return'[data-testname="'+f.value+'"]';default:throw Error(a(365))}}function Hs(f,h){var x=[];f=[f,0];for(var w=0;w<f.length;){var P=f[w++],L=f[w++],j=h[L];if(P.tag!==5||!_e(P)){for(;j!=null&&hf(P,j);)L++,j=h[L];if(L===h.length)x.push(P);else for(P=P.child;P!==null;)f.push(P,L),P=P.sibling}}return x}function vu(f,h){if(!St)throw Error(a(363));f=gu(f),f=Hs(f,h),h=[],f=Array.from(f);for(var x=0;x<f.length;){var w=f[x++];if(w.tag===5)_e(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)f.push(w),w=w.sibling}return h}var um=Math.ceil,Tr=l.ReactCurrentDispatcher,ds=l.ReactCurrentOwner,Tn=l.ReactCurrentBatchConfig,Vt=0,Ln=null,zn=null,ci=0,Ui=0,Vs=yi(0),Kn=0,sl=null,sa=0,ol=0,oa=0,Mo=null,zi=null,df=0,So=1/0;function aa(){So=$n()+500}var wo=!1,br=null,Pr=null,Co=!1,Qi=null,al=0,ps=0,pf=null,ll=-1,Mn=0;function fi(){return(Vt&6)!==0?$n():ll!==-1?ll:ll=$n()}function ms(f){return(f.mode&1)===0?1:(Vt&2)!==0&&ci!==0?ci&-ci:Kp.transition!==null?(Mn===0&&(f=Na,Na<<=1,(Na&4194240)===0&&(Na=64),Mn=f),Mn):(f=jt,f!==0?f:Ke())}function qi(f,h,x){if(50<ps)throw ps=0,pf=null,Error(a(185));var w=la(f,h);return w===null?null:(ko(w,h,x),((Vt&2)===0||w!==Ln)&&(w===Ln&&((Vt&2)===0&&(ol|=h),Kn===4&&qr(w,ci)),Ti(w,x),h===1&&Vt===0&&(f.mode&1)===0&&(aa(),Bc&&Ar())),w)}function la(f,h){f.lanes|=h;var x=f.alternate;for(x!==null&&(x.lanes|=h),x=f,f=f.return;f!==null;)f.childLanes|=h,x=f.alternate,x!==null&&(x.childLanes|=h),x=f,f=f.return;return x.tag===3?x.stateNode:null}function Ti(f,h){var x=f.callbackNode;Xp(f,h);var w=Kl(f,f===Ln?ci:0);if(w===0)x!==null&&ka(x),f.callbackNode=null,f.callbackPriority=0;else if(h=w&-w,f.callbackPriority!==h){if(x!=null&&ka(x),h===1)f.tag===0?Lc(ul.bind(null,f)):Rc(ul.bind(null,f)),yt?ct(function(){Vt===0&&Ar()}):Uo(zo,Ar),x=null;else{switch(bs(w)){case 1:x=zo;break;case 4:x=z0;break;case 16:x=bc;break;case 536870912:x=Pc;break;default:x=bc}x=_u(x,Eo.bind(null,f))}f.callbackPriority=h,f.callbackNode=x}}function Eo(f,h){if(ll=-1,Mn=0,(Vt&6)!==0)throw Error(a(327));var x=f.callbackNode;if(bo()&&f.callbackNode!==x)return null;var w=Kl(f,f===Ln?ci:0);if(w===0)return null;if((w&30)!==0||(w&f.expiredLanes)!==0||h)h=ur(f,w);else{h=w;var P=Vt;Vt|=2;var L=gf();(Ln!==f||ci!==h)&&(aa(),Nn(f,h));do try{xu();break}catch(ue){mf(f,ue)}while(!0);Ii(),Tr.current=L,Vt=P,zn!==null?h=0:(Ln=null,ci=0,h=Kn)}if(h!==0){if(h===2&&(P=Cc(f),P!==0&&(w=P,h=Cn(f,P))),h===1)throw x=sl,Nn(f,0),qr(f,w),Ti(f,$n()),x;if(h===6)qr(f,w);else{if(P=f.current.alternate,(w&30)===0&&!hi(P)&&(h=ur(f,w),h===2&&(L=Cc(f),L!==0&&(w=L,h=Cn(f,L))),h===1))throw x=sl,Nn(f,0),qr(f,w),Ti(f,$n()),x;switch(f.finishedWork=P,f.finishedLanes=w,h){case 0:case 1:throw Error(a(345));case 2:To(f,zi);break;case 3:if(qr(f,w),(w&130023424)===w&&(h=df+500-$n(),10<h)){if(Kl(f,0)!==0)break;if(P=f.suspendedLanes,(P&w)!==w){fi(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=ce(To.bind(null,f,zi),h);break}To(f,zi);break;case 4:if(qr(f,w),(w&4194240)===w)break;for(h=f.eventTimes,P=-1;0<w;){var j=31-yr(w);L=1<<j,j=h[j],j>P&&(P=j),w&=~L}if(w=P,w=$n()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*um(w/1960))-w,10<w){f.timeoutHandle=ce(To.bind(null,f,zi),w);break}To(f,zi);break;case 5:To(f,zi);break;default:throw Error(a(329))}}}return Ti(f,$n()),f.callbackNode===x?Eo.bind(null,f):null}function Cn(f,h){var x=Mo;return f.current.memoizedState.isDehydrated&&(Nn(f,h).flags|=256),f=ur(f,h),f!==2&&(h=zi,zi=x,h!==null&&Gn(h)),f}function Gn(f){zi===null?zi=f:zi.push.apply(zi,f)}function hi(f){for(var h=f;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var P=x[w],L=P.getSnapshot;P=P.value;try{if(!Li(L(),P))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function qr(f,h){for(h&=~oa,h&=~ol,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var x=31-yr(h),w=1<<x;f[x]=-1,h&=~w}}function ul(f){if((Vt&6)!==0)throw Error(a(327));bo();var h=Kl(f,0);if((h&1)===0)return Ti(f,$n()),null;var x=ur(f,h);if(f.tag!==0&&x===2){var w=Cc(f);w!==0&&(h=w,x=Cn(f,w))}if(x===1)throw x=sl,Nn(f,0),qr(f,h),Ti(f,$n()),x;if(x===6)throw Error(a(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,To(f,zi),Ti(f,$n()),null}function cl(f){Qi!==null&&Qi.tag===0&&(Vt&6)===0&&bo();var h=Vt;Vt|=1;var x=Tn.transition,w=jt;try{if(Tn.transition=null,jt=1,f)return f()}finally{jt=w,Tn.transition=x,Vt=h,(Vt&6)===0&&Ar()}}function ld(){Ui=Vs.current,Jt(Vs)}function Nn(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==qe&&(f.timeoutHandle=qe,Ve(x)),zn!==null)for(x=zn.return;x!==null;){var w=x;switch(zh(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&fo();break;case 3:Xa(),Jt(pn),Jt(Jn),Ko();break;case 5:Vh(w);break;case 4:Xa();break;case 13:Jt(Bn);break;case 19:Jt(Bn);break;case 10:$l(w.type._context);break;case 22:case 23:ld()}x=x.return}if(Ln=f,zn=f=Ws(f.current,null),ci=Ui=h,Kn=0,sl=null,oa=ol=sa=0,zi=Mo=null,_r!==null){for(h=0;h<_r.length;h++)if(x=_r[h],w=x.interleaved,w!==null){x.interleaved=null;var P=w.next,L=x.pending;if(L!==null){var j=L.next;L.next=P,w.next=j}x.pending=w}_r=null}return f}function mf(f,h){do{var x=zn;try{if(Ii(),tu.current=Za,Wc){for(var w=Rn.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}Wc=!1}if(Yo=0,oi=si=Rn=null,cs=!1,Qo=0,ds.current=null,x===null||x.return===null){Kn=1,sl=h,zn=null;break}e:{var L=f,j=x.return,ue=x,Ee=h;if(h=ci,ue.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var We=Ee,at=ue,Dt=at.tag;if((at.mode&1)===0&&(Dt===0||Dt===11||Dt===15)){var wt=at.alternate;wt?(at.updateQueue=wt.updateQueue,at.memoizedState=wt.memoizedState,at.lanes=wt.lanes):(at.updateQueue=null,at.memoizedState=null)}var gn=$h(j);if(gn!==null){gn.flags&=-257,Zo(gn,j,ue,L,h),gn.mode&1&&Fs(L,We,h),h=gn,Ee=We;var nt=h.updateQueue;if(nt===null){var cn=new Set;cn.add(Ee),h.updateQueue=cn}else nt.add(Ee);break e}else{if((h&1)===0){Fs(L,We,h),yu();break e}Ee=Error(a(426))}}else if(En&&ue.mode&1){var fr=$h(j);if(fr!==null){(fr.flags&65536)===0&&(fr.flags|=256),Zo(fr,j,ue,L,h),Gc(Ee);break e}}L=Ee,Kn!==4&&(Kn=2),Mo===null?Mo=[L]:Mo.push(L),Ee=Zh(Ee,ue),ue=j;do{switch(ue.tag){case 3:ue.flags|=65536,h&=-h,ue.lanes|=h;var xe=am(ue,Ee,h);Fc(ue,xe);break e;case 1:L=Ee;var fe=ue.type,we=ue.stateNode;if((ue.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Pr===null||!Pr.has(we)))){ue.flags|=65536,h&=-h,ue.lanes|=h;var $e=ef(ue,L,h);Fc(ue,$e);break e}}ue=ue.return}while(ue!==null)}yf(x)}catch(mt){h=mt,zn===x&&x!==null&&(zn=x=x.return);continue}break}while(!0)}function gf(){var f=Tr.current;return Tr.current=Za,f===null?Za:f}function yu(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),Ln===null||(sa&268435455)===0&&(ol&268435455)===0||qr(Ln,ci)}function ur(f,h){var x=Vt;Vt|=2;var w=gf();Ln===f&&ci===h||Nn(f,h);do try{Br();break}catch(P){mf(f,P)}while(!0);if(Ii(),Vt=x,Tr.current=w,zn!==null)throw Error(a(261));return Ln=null,ci=0,Kn}function Br(){for(;zn!==null;)vf(zn)}function xu(){for(;zn!==null&&!ho();)vf(zn)}function vf(f){var h=fd(f.alternate,f,Ui);f.memoizedProps=f.pendingProps,h===null?yf(f):zn=h,ds.current=null}function yf(f){var h=f;do{var x=h.alternate;if(f=h.return,(h.flags&32768)===0){if(x=rf(x,h,Ui),x!==null){zn=x;return}}else{if(x=af(x,h),x!==null){x.flags&=32767,zn=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Kn=6,zn=null;return}}if(h=h.sibling,h!==null){zn=h;return}zn=h=f}while(h!==null);Kn===0&&(Kn=5)}function To(f,h){var x=jt,w=Tn.transition;try{Tn.transition=null,jt=1,cm(f,h,x)}finally{Tn.transition=w,jt=x}return null}function cm(f,h,x){do bo();while(Qi!==null);if((Vt&6)!==0)throw Error(a(327));var w=f.finishedWork,P=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(a(177));f.callbackNode=null,f.callbackPriority=0;var L=w.lanes|w.childLanes;if(Tc(f,L),f===Ln&&(zn=Ln=null,ci=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Co||(Co=!0,_u(bc,function(){return bo(),null})),L=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||L){L=Tn.transition,Tn.transition=null;var j=jt;jt=1;var ue=Vt;Vt|=4,ds.current=null,rd(f,w),V0(f,w),N(f.containerInfo),f.current=w,Kr(w),U0(),Vt=ue,jt=j,Tn.transition=L}else f.current=w;if(Co&&(Co=!1,Qi=f,al=P),L=f.pendingLanes,L===0&&(Pr=null),Ql(w.stateNode),Ti(f,$n()),h!==null)for(x=f.onRecoverableError,w=0;w<h.length;w++)x(h[w]);if(wo)throw wo=!1,f=br,br=null,f;return(al&1)!==0&&f.tag!==0&&bo(),L=f.pendingLanes,(L&1)!==0?f===pf?ps++:(ps=0,pf=f):ps=0,Ar(),null}function bo(){if(Qi!==null){var f=bs(al),h=Tn.transition,x=jt;try{if(Tn.transition=null,jt=16>f?16:f,Qi===null)var w=!1;else{if(f=Qi,Qi=null,al=0,(Vt&6)!==0)throw Error(a(331));var P=Vt;for(Vt|=4,Ye=f.current;Ye!==null;){var L=Ye,j=L.child;if((Ye.flags&16)!==0){var ue=L.deletions;if(ue!==null){for(var Ee=0;Ee<ue.length;Ee++){var We=ue[Ee];for(Ye=We;Ye!==null;){var at=Ye;switch(at.tag){case 0:case 11:case 15:zs(8,at,L)}var Dt=at.child;if(Dt!==null)Dt.return=at,Ye=Dt;else for(;Ye!==null;){at=Ye;var wt=at.sibling,gn=at.return;if(sd(at),at===We){Ye=null;break}if(wt!==null){wt.return=gn,Ye=wt;break}Ye=gn}}}var nt=L.alternate;if(nt!==null){var cn=nt.child;if(cn!==null){nt.child=null;do{var fr=cn.sibling;cn.sibling=null,cn=fr}while(cn!==null)}}Ye=L}}if((L.subtreeFlags&2064)!==0&&j!==null)j.return=L,Ye=j;else e:for(;Ye!==null;){if(L=Ye,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:zs(9,L,L.return)}var xe=L.sibling;if(xe!==null){xe.return=L.return,Ye=xe;break e}Ye=L.return}}var fe=f.current;for(Ye=fe;Ye!==null;){j=Ye;var we=j.child;if((j.subtreeFlags&2064)!==0&&we!==null)we.return=j,Ye=we;else e:for(j=fe;Ye!==null;){if(ue=Ye,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:_i(9,ue)}}catch(mt){Gi(ue,ue.return,mt)}if(ue===j){Ye=null;break e}var $e=ue.sibling;if($e!==null){$e.return=ue.return,Ye=$e;break e}Ye=ue.return}}if(Vt=P,Ar(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Yl,f)}catch{}w=!0}return w}finally{jt=x,Tn.transition=h}}return!1}function ud(f,h,x){h=Zh(x,h),h=am(f,h,1),po(f,h),h=fi(),f=la(f,1),f!==null&&(ko(f,1,h),Ti(f,h))}function Gi(f,h,x){if(f.tag===3)ud(f,f,x);else for(;h!==null;){if(h.tag===3){ud(h,f,x);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Pr===null||!Pr.has(w))){f=Zh(x,f),f=ef(h,f,1),po(h,f),f=fi(),h=la(h,1),h!==null&&(ko(h,1,f),Ti(h,f));break}}h=h.return}}function fm(f,h,x){var w=f.pingCache;w!==null&&w.delete(h),h=fi(),f.pingedLanes|=f.suspendedLanes&x,Ln===f&&(ci&x)===x&&(Kn===4||Kn===3&&(ci&130023424)===ci&&500>$n()-df?Nn(f,0):oa|=x),Ti(f,h)}function cd(f,h){h===0&&((f.mode&1)===0?h=1:(h=sn,sn<<=1,(sn&130023424)===0&&(sn=4194304)));var x=fi();f=la(f,h),f!==null&&(ko(f,h,x),Ti(f,x))}function hm(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),cd(f,x)}function Au(f,h){var x=0;switch(f.tag){case 13:var w=f.stateNode,P=f.memoizedState;P!==null&&(x=P.retryLane);break;case 19:w=f.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(h),cd(f,x)}var fd;fd=function(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps||pn.current)li=!0;else{if((f.lanes&x)===0&&(h.flags&128)===0)return li=!1,of(f,h,x);li=(f.flags&131072)!==0}else li=!1,En&&(h.flags&1048576)!==0&&$p(h,Uc,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var P=Hr(h,Jn.current);Ua(h,x),P=Ka(null,h,w,f,P,x);var L=yo();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Xn(w)?(L=!0,Sc(h)):L=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,za(h),P.updater=Oc,h.stateNode=P,P._reactInternals=h,kh(h,w,f,x),h=Ei(null,h,w,!0,L,x)):(h.tag=0,En&&L&&Uh(h),Fn(null,h,P,x),h=h.child),h;case 16:w=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,P=w._init,w=P(w._payload),h.type=w,P=h.tag=dm(w),f=Ji(w,f),P){case 0:h=ks(null,h,w,f,x);break e;case 1:h=ea(null,h,w,f,x);break e;case 11:h=_n(null,h,w,f,x);break e;case 14:h=mn(null,h,w,Ji(w.type,f),x);break e}throw Error(a(306,w,""))}return h;case 0:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:Ji(w,P),ks(f,h,w,P,x);case 1:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:Ji(w,P),ea(f,h,w,P,x);case 3:e:{if(cu(h),f===null)throw Error(a(387));w=h.pendingProps,L=h.memoizedState,P=L.element,Fh(f,h),Nc(h,w,null,x);var j=h.memoizedState;if(w=j.element,Ae&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:j.cache,transitions:j.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){P=Error(a(423)),h=td(f,h,w,x,P);break e}else if(w!==P){P=Error(a(424)),h=td(f,h,w,x,P);break e}else for(Ae&&(xi=be(h.stateNode.containerInfo),Di=h,En=!0,wr=null,Ha=!1),x=nm(h,null,w,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Va(),w===P){h=Yi(f,h,x);break e}Fn(f,h,w,x)}h=h.child}return h;case 5:return im(h),f===null&&go(h),w=h.type,P=h.pendingProps,L=f!==null?f.memoizedProps:null,j=P.children,Pe(w,P)?j=null:L!==null&&Pe(w,L)&&(h.flags|=32),Fi(f,h),Fn(f,h,j,x),h.child;case 6:return f===null&&go(h),null;case 13:return nd(f,h,x);case 4:return Hc(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=Is(h,null,w,x):Fn(f,h,w,x),h.child;case 11:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:Ji(w,P),_n(f,h,w,P,x);case 7:return Fn(f,h,h.pendingProps,x),h.child;case 8:return Fn(f,h,h.pendingProps.children,x),h.child;case 12:return Fn(f,h,h.pendingProps.children,x),h.child;case 10:e:{if(w=h.type._context,P=h.pendingProps,L=h.memoizedProps,j=P.value,Ho(h,w,j),L!==null)if(Li(L.value,j)){if(L.children===P.children&&!pn.current){h=Yi(f,h,x);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var ue=L.dependencies;if(ue!==null){j=L.child;for(var Ee=ue.firstContext;Ee!==null;){if(Ee.context===w){if(L.tag===1){Ee=Bs(-1,x&-x),Ee.tag=2;var We=L.updateQueue;if(We!==null){We=We.shared;var at=We.pending;at===null?Ee.next=Ee:(Ee.next=at.next,at.next=Ee),We.pending=Ee}}L.lanes|=x,Ee=L.alternate,Ee!==null&&(Ee.lanes|=x),Vo(L.return,x,h),ue.lanes|=x;break}Ee=Ee.next}}else if(L.tag===10)j=L.type===h.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(a(341));j.lanes|=x,ue=j.alternate,ue!==null&&(ue.lanes|=x),Vo(j,x,h),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===h){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}Fn(f,h,P.children,x),h=h.child}return h;case 9:return P=h.type,w=h.pendingProps.children,Ua(h,x),P=Xi(P),w=w(P),h.flags|=1,Fn(f,h,w,x),h.child;case 14:return w=h.type,P=Ji(w,h.pendingProps),P=Ji(w.type,P),mn(f,h,w,P,x);case 15:return Os(f,h,h.type,h.pendingProps,x);case 17:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:Ji(w,P),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Xn(w)?(f=!0,Sc(h)):f=!1,Ua(h,x),qp(h,w,P),kh(h,w,P,x),Ei(null,h,w,!0,f,x);case 19:return na(f,h,x);case 22:return Ai(f,h,x)}throw Error(a(156,h.tag))};function _u(f,h){return Uo(f,h)}function xf(f,h,x,w){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(f,h,x,w){return new xf(f,h,x,w)}function Mu(f){return f=f.prototype,!(!f||!f.isReactComponent)}function dm(f){if(typeof f=="function")return Mu(f)?1:0;if(f!=null){if(f=f.$$typeof,f===C)return 11;if(f===T)return 14}return 2}function Ws(f,h){var x=f.alternate;return x===null?(x=cr(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function Su(f,h,x,w,P,L){var j=2;if(w=f,typeof f=="function")Mu(f)&&(j=1);else if(typeof f=="string")j=5;else e:switch(f){case p:return Po(x.children,P,L,h);case g:j=8,P|=8;break;case v:return f=cr(12,x,h,P|2),f.elementType=v,f.lanes=L,f;case S:return f=cr(13,x,h,P),f.elementType=S,f.lanes=L,f;case M:return f=cr(19,x,h,P),f.elementType=M,f.lanes=L,f;case B:return fl(x,P,L,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case y:j=10;break e;case _:j=9;break e;case C:j=11;break e;case T:j=14;break e;case b:j=16,w=null;break e}throw Error(a(130,f==null?f:typeof f,""))}return h=cr(j,x,h,P),h.elementType=f,h.type=w,h.lanes=L,h}function Po(f,h,x,w){return f=cr(7,f,w,h),f.lanes=x,f}function fl(f,h,x,w){return f=cr(22,f,w,h),f.elementType=B,f.lanes=x,f.stateNode={},f}function Af(f,h,x){return f=cr(6,f,null,h),f.lanes=x,f}function _f(f,h,x){return h=cr(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function pm(f,h,x,w,P){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=w,this.onRecoverableError=P,Ae&&(this.mutableSourceEagerHydrationData=null)}function mm(f,h,x,w,P,L,j,ue,Ee){return f=new pm(f,h,x,ue,Ee),h===1?(h=1,L===!0&&(h|=8)):h=0,L=cr(3,null,null,h),f.current=L,L.stateNode=f,L.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null},za(L),f}function hd(f){if(!f)return xn;f=f._reactInternals;e:{if(D(f)!==f||f.tag!==1)throw Error(a(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Xn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(a(171))}if(f.tag===1){var x=f.type;if(Xn(x))return Jp(f,x,h)}return h}function gm(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(a(188)):(f=Object.keys(f).join(","),Error(a(268,f)));return f=re(h),f===null?null:f.stateNode}function vm(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function Mf(f,h){vm(f,h),(f=f.alternate)&&vm(f,h)}function ym(f){return f=re(f),f===null?null:f.stateNode}function xm(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=fi();qi(f,134217728,h),Mf(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=fi(),x=ms(f);qi(f,x,h),Mf(f,x)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var x=Oa(h.pendingLanes);x!==0&&(ls(h,x|1),Ti(h,$n()),(Vt&6)===0&&(aa(),Ar()))}break;case 13:var w=fi();cl(function(){return qi(f,1,w)}),Mf(f,1)}},t.batchedUpdates=function(f,h){var x=Vt;Vt|=1;try{return f(h)}finally{Vt=x,Vt===0&&(aa(),Bc&&Ar())}},t.createComponentSelector=function(f){return{$$typeof:nl,value:f}},t.createContainer=function(f,h,x,w,P,L,j){return mm(f,h,!1,null,x,w,P,L,j)},t.createHasPseudoClassSelector=function(f){return{$$typeof:il,value:f}},t.createHydrationContainer=function(f,h,x,w,P,L,j,ue,Ee){return f=mm(x,w,!0,f,P,L,j,ue,Ee),f.context=hd(null),x=f.current,w=fi(),P=ms(x),L=Bs(w,P),L.callback=h??null,po(x,L),f.current.lanes=P,ko(f,P,w),Ti(f,w),f},t.createPortal=function(f,h,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:f,containerInfo:h,implementation:x}},t.createRoleSelector=function(f){return{$$typeof:rl,value:f}},t.createTestNameSelector=function(f){return{$$typeof:Gs,value:f}},t.createTextSelector=function(f){return{$$typeof:ki,value:f}},t.deferredUpdates=function(f){var h=jt,x=Tn.transition;try{return Tn.transition=null,jt=16,f()}finally{jt=h,Tn.transition=x}},t.discreteUpdates=function(f,h,x,w,P){var L=jt,j=Tn.transition;try{return Tn.transition=null,jt=1,f(h,x,w,P)}finally{jt=L,Tn.transition=j,Vt===0&&aa()}},t.findAllNodes=vu,t.findBoundingRects=function(f,h){if(!St)throw Error(a(363));h=vu(f,h),f=[];for(var x=0;x<h.length;x++)f.push(J(h[x]));for(h=f.length-1;0<h;h--){x=f[h];for(var w=x.x,P=w+x.width,L=x.y,j=L+x.height,ue=h-1;0<=ue;ue--)if(h!==ue){var Ee=f[ue],We=Ee.x,at=We+Ee.width,Dt=Ee.y,wt=Dt+Ee.height;if(w>=We&&L>=Dt&&P<=at&&j<=wt){f.splice(h,1);break}else if(w!==We||x.width!==Ee.width||wt<L||Dt>j){if(!(L!==Dt||x.height!==Ee.height||at<w||We>P)){We>w&&(Ee.width+=We-w,Ee.x=w),at<P&&(Ee.width=P-We),f.splice(h,1);break}}else{Dt>L&&(Ee.height+=Dt-L,Ee.y=L),wt<j&&(Ee.height=j-Dt),f.splice(h,1);break}}}return f},t.findHostInstance=gm,t.findHostInstanceWithNoPortals=function(f){return f=Q(f),f=f!==null?te(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return gm(f)},t.flushControlled=function(f){var h=Vt;Vt|=1;var x=Tn.transition,w=jt;try{Tn.transition=null,jt=1,f()}finally{jt=w,Tn.transition=x,Vt=h,Vt===0&&(aa(),Ar())}},t.flushPassiveEffects=bo,t.flushSync=cl,t.focusWithin=function(f,h){if(!St)throw Error(a(363));for(f=gu(f),h=Hs(f,h),h=Array.from(h),f=0;f<h.length;){var x=h[f++];if(!_e(x)){if(x.tag===5&&Ge(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},t.getCurrentUpdatePriority=function(){return jt},t.getFindAllNodesFailureDescription=function(f,h){if(!St)throw Error(a(363));var x=0,w=[];f=[gu(f),0];for(var P=0;P<f.length;){var L=f[P++],j=f[P++],ue=h[j];if((L.tag!==5||!_e(L))&&(hf(L,ue)&&(w.push(Qr(ue)),j++,j>x&&(x=j)),j<h.length))for(L=L.child;L!==null;)f.push(L,j),L=L.sibling}if(x<h.length){for(f=[];x<h.length;x++)f.push(Qr(h[x]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ve(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:ym,findFiberByHostInstance:f.findFiberByHostInstance||xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Yl=h.inject(f),us=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,x,w){if(!St)throw Error(a(363));f=vu(f,h);var P=je(f,x,w).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(f,h){var x=h._getVersion;x=x(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,x]:f.mutableSourceEagerHydrationData.push(h,x)},t.runWithPriority=function(f,h){var x=jt;try{return jt=f,h()}finally{jt=x}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,x,w){var P=h.current,L=fi(),j=ms(P);return x=hd(x),h.context===null?h.context=x:h.pendingContext=x,h=Bs(L,j),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),po(P,h),f=qi(P,j,L),f!==null&&Dc(f,P,j),j},t}),ty}var GM;function ZF(){return GM||(GM=1,Zv.exports=qF()),Zv.exports}var $F=ZF();const eN=u0($F);var ny={exports:{}},iy={};var HM;function tN(){return HM||(HM=1,(function(i){function e(z,Y){var N=z.length;z.push(Y);e:for(;0<N;){var X=N-1>>>1,ee=z[X];if(0<r(ee,Y))z[X]=Y,z[N]=ee,N=X;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Y=z[0],N=z.pop();if(N!==Y){z[0]=N;e:for(var X=0,ee=z.length,oe=ee>>>1;X<oe;){var le=2*(X+1)-1,Pe=z[le],Ce=le+1,ce=z[Ce];if(0>r(Pe,N))Ce<ee&&0>r(ce,Pe)?(z[X]=ce,z[Ce]=N,X=Ce):(z[X]=Pe,z[le]=N,X=le);else if(Ce<ee&&0>r(ce,N))z[X]=ce,z[Ce]=N,X=Ce;else break e}}return Y}function r(z,Y){var N=z.sortIndex-Y.sortIndex;return N!==0?N:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],d=[],p=1,g=null,v=3,y=!1,_=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=z)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function B(z){if(C=!1,b(z),!_)if(t(c)!==null)_=!0,ve(I);else{var Y=t(d);Y!==null&&de(B,Y.startTime-z)}}function I(z,Y){_=!1,C&&(C=!1,M(U),U=-1),y=!0;var N=v;try{for(b(Y),g=t(c);g!==null&&(!(g.expirationTime>Y)||z&&!Q());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var ee=X(g.expirationTime<=Y);Y=i.unstable_now(),typeof ee=="function"?g.callback=ee:g===t(c)&&n(c),b(Y)}else n(c);g=t(c)}if(g!==null)var oe=!0;else{var le=t(d);le!==null&&de(B,le.startTime-Y),oe=!1}return oe}finally{g=null,v=N,y=!1}}var F=!1,G=null,U=-1,D=5,k=-1;function Q(){return!(i.unstable_now()-k<D)}function re(){if(G!==null){var z=i.unstable_now();k=z;var Y=!0;try{Y=G(!0,z)}finally{Y?Z():(F=!1,G=null)}}else F=!1}var Z;if(typeof T=="function")Z=function(){T(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=re,Z=function(){se.postMessage(null)}}else Z=function(){S(re,0)};function ve(z){G=z,F||(F=!0,Z())}function de(z,Y){U=S(function(){z(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){_||y||(_=!0,ve(I))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var N=v;v=Y;try{return z()}finally{v=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=v;v=z;try{return Y()}finally{v=N}},i.unstable_scheduleCallback=function(z,Y,N){var X=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?X+N:X):N=X,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=N+ee,z={id:p++,callback:Y,priorityLevel:z,startTime:N,expirationTime:ee,sortIndex:-1},N>X?(z.sortIndex=N,e(d,z),t(c)===null&&z===t(d)&&(C?(M(U),U=-1):C=!0,de(B,N-X))):(z.sortIndex=ee,e(c,z),_||y||(_=!0,ve(I))),z},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(z){var Y=v;return function(){var N=v;v=Y;try{return z.apply(this,arguments)}finally{v=N}}}})(iy)),iy}var VM;function nN(){return VM||(VM=1,ny.exports=tN()),ny.exports}var WM=nN();function YE(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}const _a=[];function QE(i,e,t=!1,n={}){for(const s of _a)if(YE(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,promise:i(...e).then(s=>r.response=s).then(()=>{n.lifespan&&n.lifespan>0&&setTimeout(()=>{const s=_a.indexOf(r);s!==-1&&_a.splice(s,1)},n.lifespan)}).catch(s=>r.error=s)};if(_a.push(r),!t)throw r.promise}const iN=(i,e,t)=>QE(i,e,!1,t),rN=(i,e,t)=>void QE(i,e,!0,t),sN=i=>{if(i===void 0||i.length===0)_a.splice(0,_a.length);else{const e=_a.find(t=>YE(i,t.keys,t.equal));if(e){const t=_a.indexOf(e);t!==-1&&_a.splice(t,1)}}},GA={},oN=i=>void Object.assign(GA,i);function aN(i,e){function t(p,{args:g=[],attach:v,...y},_){let C=`${p[0].toUpperCase()}${p.slice(1)}`,S;if(p==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const M=y.object;S=Qf(M,{type:p,root:_,attach:v,primitive:!0})}else{const M=GA[C];if(!M)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(g))throw new Error("R3F: The args prop must be an array!");S=Qf(new M(...g),{type:p,root:_,attach:v,memoizedProps:{args:g}})}return S.__r3f.attach===void 0&&(S instanceof Ut?S.__r3f.attach="geometry":S instanceof gi&&(S.__r3f.attach="material")),C!=="inject"&&sy(S,y),S}function n(p,g){let v=!1;if(g){var y,_;(y=g.__r3f)!=null&&y.attach?ry(p,g,g.__r3f.attach):g.isObject3D&&p.isObject3D&&(p.add(g),v=!0),v||(_=p.__r3f)==null||_.objects.push(g),g.__r3f||Qf(g,{}),g.__r3f.parent=p,Cx(g),qf(g)}}function r(p,g,v){let y=!1;if(g){var _,C;if((_=g.__r3f)!=null&&_.attach)ry(p,g,g.__r3f.attach);else if(g.isObject3D&&p.isObject3D){g.parent=p,g.dispatchEvent({type:"added"});const S=p.children.filter(T=>T!==g),M=S.indexOf(v);p.children=[...S.slice(0,M),g,...S.slice(M)],y=!0}y||(C=p.__r3f)==null||C.objects.push(g),g.__r3f||Qf(g,{}),g.__r3f.parent=p,Cx(g),qf(g)}}function s(p,g,v=!1){p&&[...p].forEach(y=>a(g,y,v))}function a(p,g,v){if(g){var y,_,C;if(g.__r3f&&(g.__r3f.parent=null),(y=p.__r3f)!=null&&y.objects&&(p.__r3f.objects=p.__r3f.objects.filter(B=>B!==g)),(_=g.__r3f)!=null&&_.attach)YM(p,g,g.__r3f.attach);else if(g.isObject3D&&p.isObject3D){var S;p.remove(g),(S=g.__r3f)!=null&&S.root&&mN(g.__r3f.root,g)}const T=(C=g.__r3f)==null?void 0:C.primitive,b=v===void 0?g.dispose!==null&&!T:v;if(!T){var M;s((M=g.__r3f)==null?void 0:M.objects,g,b),s(g.children,g,b)}g.__r3f&&(delete g.__r3f.root,delete g.__r3f.objects,delete g.__r3f.handlers,delete g.__r3f.memoizedProps,T||delete g.__r3f),b&&g.dispose&&g.type!=="Scene"&&WM.unstable_scheduleCallback(WM.unstable_IdlePriority,()=>{try{g.dispose()}catch{}}),qf(p)}}function l(p,g,v,y){var _;const C=(_=p.__r3f)==null?void 0:_.parent;if(!C)return;const S=t(g,v,p.__r3f.root);if(p.children){for(const M of p.children)M.__r3f&&n(S,M);p.children=p.children.filter(M=>!M.__r3f)}p.__r3f.objects.forEach(M=>n(S,M)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||a(C,p),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),n(C,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[y,y.alternate].forEach(M=>{M!==null&&(M.stateNode=S,M.ref&&(typeof M.ref=="function"?M.ref(S):M.ref.current=S))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:eN({createInstance:t,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,g)=>{if(!g)return;const v=p.getState().scene;v.__r3f&&(v.__r3f.root=p,n(v,g))},removeChildFromContainer:(p,g)=>{g&&a(p.getState().scene,g)},insertInContainerBefore:(p,g,v)=>{if(!g||!v)return;const y=p.getState().scene;y.__r3f&&r(y,g,v)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var g;return!!((g=p?.__r3f)!=null?g:{}).handlers},prepareUpdate(p,g,v,y){if(p.__r3f.primitive&&y.object&&y.object!==p)return[!0];{const{args:_=[],children:C,...S}=y,{args:M=[],children:T,...b}=v;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((I,F)=>I!==M[F]))return[!0];const B=iT(p,S,b,!0);return B.changes.length?[!1,B]:null}},commitUpdate(p,[g,v],y,_,C,S){g?l(p,y,C,S):sy(p,v)},commitMount(p,g,v,y){var _;const C=(_=p.__r3f)!=null?_:{};p.raycast&&C.handlers&&C.eventCount&&p.__r3f.root.getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>Qf(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var g;const{attach:v,parent:y}=(g=p.__r3f)!=null?g:{};v&&y&&YM(y,p,v),p.isObject3D&&(p.visible=!1),qf(p)},unhideInstance(p,g){var v;const{attach:y,parent:_}=(v=p.__r3f)!=null?v:{};y&&_&&ry(_,p,y),(p.isObject3D&&g.visible==null||g.visible)&&(p.visible=!0),qf(p)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():nh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&In.fun(performance.now)?performance.now:In.fun(Date.now)?Date.now:()=>0,scheduleTimeout:In.fun(setTimeout)?setTimeout:void 0,cancelTimeout:In.fun(clearTimeout)?clearTimeout:void 0}),applyProps:sy}}var jM,JM;const qE=()=>{var i;return(i=GA.ColorManagement)!=null?i:null},ZE=i=>i&&i.isOrthographicCamera,lN=i=>i&&i.hasOwnProperty("current"),kp=typeof window<"u"&&((jM=window.document)!=null&&jM.createElement||((JM=window.navigator)==null?void 0:JM.product)==="ReactNative")?q.useLayoutEffect:q.useEffect;function $E(i){const e=q.useRef(i);return kp(()=>void(e.current=i),[i]),e}function uN({set:i}){return kp(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class eT extends q.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}eT.getDerivedStateFromError=()=>({error:!0});const tT="__default",XM=new Map,cN=i=>i&&!!i.memoized&&!!i.changes;function nT(i){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(i)?Math.min(Math.max(i[0],e),i[1]):i}const Bd=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()},In={obj:i=>i===Object(i)&&!In.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(In.str(i)||In.num(i))return i===e;const s=In.obj(i);if(s&&n==="reference")return i===e;const a=In.arr(i);if(a&&t==="reference")return i===e;if((a||s)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(l in r?e:i)if(!In.equ(i[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:i)if(i[l]!==e[l])return!1;if(In.und(l)){if(a&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function fN(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function hN(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function Qf(i,e){const t=i;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),i}function wx(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,a)=>s[a],i),{target:t,key:r}}else return{target:t,key:e}}const KM=/-\d+$/;function ry(i,e,t){if(In.str(t)){if(KM.test(t)){const s=t.replace(KM,""),{target:a,key:l}=wx(i,s);Array.isArray(a[l])||(a[l]=[])}const{target:n,key:r}=wx(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function YM(i,e,t){var n,r;if(In.str(t)){const{target:s,key:a}=wx(i,t),l=e.__r3f.previousAttach;l===void 0?delete s[a]:s[a]=l}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function iT(i,{children:e,key:t,ref:n,...r},{children:s,key:a,ref:l,...c}={},d=!1){var p;const g=(p=i?.__r3f)!=null?p:{},v=Object.entries(r),y=[];if(d){const C=Object.keys(c);for(let S=0;S<C.length;S++)r.hasOwnProperty(C[S])||v.unshift([C[S],tT+"remove"])}v.forEach(([C,S])=>{var M;if((M=i.__r3f)!=null&&M.primitive&&C==="object"||In.equ(S,c[C]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(C))return y.push([C,S,!0,[]]);let T=[];C.includes("-")&&(T=C.split("-")),y.push([C,S,!1,T]);for(const b in r){const B=r[b];b.startsWith(`${C}-`)&&y.push([b,B,!1,b.split("-")])}});const _={...r};return g.memoizedProps&&g.memoizedProps.args&&(_.args=g.memoizedProps.args),g.memoizedProps&&g.memoizedProps.attach&&(_.attach=g.memoizedProps.attach),{memoized:_,changes:y}}function sy(i,e){var t,n,r;const s=(t=i.__r3f)!=null?t:{},a=s.root,l=(n=a==null||a.getState==null?void 0:a.getState())!=null?n:{},{memoized:c,changes:d}=cN(e)?e:iT(i,e),p=s.eventCount;i.__r3f&&(i.__r3f.memoizedProps=c);for(let v=0;v<d.length;v++){let[y,_,C,S]=d[v],M=i,T=M[y];if(S.length&&(T=S.reduce((b,B)=>b[B],i),!(T&&T.set))){const[b,...B]=S.reverse();M=B.reverse().reduce((I,F)=>I[F],i),y=b}if(_===tT+"remove")if(M.constructor){let b=XM.get(M.constructor);b||(b=new M.constructor,XM.set(M.constructor,b)),_=b[y]}else _=0;if(C)_?s.handlers[y]=_:delete s.handlers[y],s.eventCount=Object.keys(s.handlers).length;else if(T&&T.set&&(T.copy||T instanceof sc)){if(Array.isArray(_))T.fromArray?T.fromArray(_):T.set(..._);else if(T.copy&&_&&_.constructor&&T.constructor===_.constructor)T.copy(_);else if(_!==void 0){const b=T instanceof et;!b&&T.setScalar?T.setScalar(_):T instanceof sc&&_ instanceof sc?T.mask=_.mask:T.set(_),!qE()&&!l.linear&&b&&T.convertSRGBToLinear()}}else M[y]=_,!l.linear&&M[y]instanceof bn&&M[y].format===Or&&M[y].type===Ba&&(M[y].encoding=Sn);qf(i)}if(s.parent&&l.internal&&i.raycast&&p!==s.eventCount){const v=l.internal.interaction.indexOf(i);v>-1&&l.internal.interaction.splice(v,1),s.eventCount&&l.internal.interaction.push(i)}return!(d.length===1&&d[0][0]==="onUpdate")&&d.length&&(r=i.__r3f)!=null&&r.parent&&Cx(i),i}function qf(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function Cx(i){i.onUpdate==null||i.onUpdate(i)}function dN(i,e){i.manual||(ZE(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function Pg(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function pN(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return nh.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return nh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nh.ContinuousEventPriority;default:return nh.DefaultEventPriority}}function rT(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function mN(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{rT(t.capturedMap,e,n,r)})}function gN(i){function e(c){const{internal:d}=i.getState(),p=c.offsetX-d.initialClick[0],g=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function n(c,d){const p=i.getState(),g=new Set,v=[],y=d?d(p.internal.interaction):p.internal.interaction;for(let M=0;M<y.length;M++){const T=Bd(y[M]);T&&(T.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function _(M){const T=Bd(M);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var b;T.events.compute==null||T.events.compute(c,T,(b=T.previousRoot)==null?void 0:b.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(M,!0):[]}let C=y.flatMap(_).sort((M,T)=>{const b=Bd(M.object),B=Bd(T.object);return!b||!B?M.distance-T.distance:B.events.priority-b.events.priority||M.distance-T.distance}).filter(M=>{const T=Pg(M);return g.has(T)?!1:(g.add(T),!0)});p.events.filter&&(C=p.events.filter(C,p));for(const M of C){let T=M.object;for(;T;){var S;(S=T.__r3f)!=null&&S.eventCount&&v.push({...M,eventObject:T}),T=T.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let M of p.internal.capturedMap.get(c.pointerId).values())g.has(Pg(M.intersection))||v.push(M.intersection);return v}function r(c,d,p,g){const v=i.getState();if(c.length){const y={stopped:!1};for(const _ of c){const C=Bd(_.object)||v,{raycaster:S,pointer:M,camera:T,internal:b}=C,B=new V(M.x,M.y,0).unproject(T),I=k=>{var Q,re;return(Q=(re=b.capturedMap.get(k))==null?void 0:re.has(_.eventObject))!=null?Q:!1},F=k=>{const Q={intersection:_,target:d.target};b.capturedMap.has(k)?b.capturedMap.get(k).set(_.eventObject,Q):b.capturedMap.set(k,new Map([[_.eventObject,Q]])),d.target.setPointerCapture(k)},G=k=>{const Q=b.capturedMap.get(k);Q&&rT(b.capturedMap,_.eventObject,Q,k)};let U={};for(let k in d){let Q=d[k];typeof Q!="function"&&(U[k]=Q)}let D={..._,...U,pointer:M,intersections:c,stopped:y.stopped,delta:p,unprojectedPoint:B,ray:S.ray,camera:T,stopPropagation(){const k="pointerId"in d&&b.capturedMap.get(d.pointerId);if((!k||k.has(_.eventObject))&&(D.stopped=y.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(Q=>Q.eventObject===_.eventObject))){const Q=c.slice(0,c.indexOf(_));s([...Q,_])}},target:{hasPointerCapture:I,setPointerCapture:F,releasePointerCapture:G},currentTarget:{hasPointerCapture:I,setPointerCapture:F,releasePointerCapture:G},nativeEvent:d};if(g(D),y.stopped===!0)break}}return c}function s(c){const{internal:d}=i.getState();for(const p of d.hovered.values())if(!c.length||!c.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f,y=v?.handlers;if(d.hovered.delete(Pg(p)),v!=null&&v.eventCount){const _={...p,intersections:c};y.onPointerOut==null||y.onPointerOut(_),y.onPointerLeave==null||y.onPointerLeave(_)}}}function a(c,d){for(let p=0;p<d.length;p++){const g=d[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:p}=i.getState();"pointerId"in d&&p.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(d.pointerId)&&(p.capturedMap.delete(d.pointerId),s([]))})}}return function(p){const{onPointerMissed:g,internal:v}=i.getState();v.lastEvent.current=p;const y=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",S=n(p,y?t:void 0),M=_?e(p):0;c==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=S.map(b=>b.eventObject)),_&&!S.length&&M<=2&&(a(p,v.interaction),g&&g(p)),y&&s(S);function T(b){const B=b.eventObject,I=B.__r3f,F=I?.handlers;if(I!=null&&I.eventCount)if(y){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const G=Pg(b),U=v.hovered.get(G);U?U.stopped&&b.stopPropagation():(v.hovered.set(G,b),F.onPointerOver==null||F.onPointerOver(b),F.onPointerEnter==null||F.onPointerEnter(b))}F.onPointerMove==null||F.onPointerMove(b)}else{const G=F[c];G?(!_||v.initialHits.includes(B))&&(a(p,v.interaction.filter(U=>!v.initialHits.includes(U))),G(b)):_&&v.initialHits.includes(B)&&a(p,v.interaction.filter(U=>!v.initialHits.includes(U)))}}r(S,p,M,T)}}return{handlePointer:l}}const sT=i=>!!(i!=null&&i.render),oT=q.createContext(null),vN=(i,e)=>{const t=KF((l,c)=>{const d=new V,p=new V,g=new V;function v(M=c().camera,T=p,b=c().size){const{width:B,height:I,top:F,left:G}=b,U=B/I;T instanceof V?g.copy(T):g.set(...T);const D=M.getWorldPosition(d).distanceTo(g);if(ZE(M))return{width:B/M.zoom,height:I/M.zoom,top:F,left:G,factor:1,distance:D,aspect:U};{const k=M.fov*Math.PI/180,Q=2*Math.tan(k/2)*D,re=Q*(B/I);return{width:re,height:Q,top:F,left:G,factor:B/re,distance:D,aspect:U}}}let y;const _=M=>l(T=>({performance:{...T.performance,current:M}})),C=new Re;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(M=1)=>i(c(),M),advance:(M,T)=>e(M,T,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new OA,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=c();y&&clearTimeout(y),M.performance.current!==M.performance.min&&_(M.performance.min),y=setTimeout(()=>_(c().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:M=>l(T=>({...T,events:{...T.events,...M}})),setSize:(M,T,b,B,I)=>{const F=c().camera,G={width:M,height:T,top:B||0,left:I||0,updateStyle:b};l(U=>({size:G,viewport:{...U.viewport,...v(F,p,G)}}))},setDpr:M=>l(T=>{const b=nT(M);return{viewport:{...T.viewport,dpr:b,initialDpr:T.viewport.initialDpr||b}}}),setFrameloop:(M="always")=>{const T=c().clock;T.stop(),T.elapsedTime=0,M!=="never"&&(T.start(),T.elapsedTime=0),l(()=>({frameloop:M}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:q.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(M,T,b)=>{const B=c().internal;return B.priority=B.priority+(T>0?1:0),B.subscribers.push({ref:M,priority:T,store:b}),B.subscribers=B.subscribers.sort((I,F)=>I.priority-F.priority),()=>{const I=c().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(T>0?1:0),I.subscribers=I.subscribers.filter(F=>F.ref!==M))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:d,gl:p,set:g}=t.getState();if(c!==r||d.dpr!==s){var v;r=c,s=d.dpr,dN(l,c),p.setPixelRatio(d.dpr);const y=(v=c.updateStyle)!=null?v:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,y)}l!==a&&(a=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};let Bg,yN=new Set,xN=new Set,AN=new Set;function oy(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Rd(i,e){switch(i){case"before":return oy(yN,e);case"after":return oy(xN,e);case"tail":return oy(AN,e)}}let ay,ly;function uy(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),ay=e.internal.subscribers,Bg=0;Bg<ay.length;Bg++)ly=ay[Bg],ly.ref.current(ly.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function _N(i){let e=!1,t,n,r;function s(c){n=requestAnimationFrame(s),e=!0,t=0,Rd("before",c);for(const p of i.values()){var d;r=p.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((d=r.gl.xr)!=null&&d.isPresenting)&&(t+=uy(c,r))}if(Rd("after",c),t===0)return Rd("tail",c),e=!1,cancelAnimationFrame(n)}function a(c,d=1){var p;if(!c)return i.forEach(g=>a(g.store.getState()),d);(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(c.internal.frames=Math.min(60,c.internal.frames+d),e||(e=!0,requestAnimationFrame(s)))}function l(c,d=!0,p,g){if(d&&Rd("before",c),p)uy(c,p,g);else for(const v of i.values())uy(c,v.store.getState());d&&Rd("after",c)}return{loop:s,invalidate:a,advance:l}}function aT(){const i=q.useContext(oT);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function ts(i=t=>t,e){return aT()(i,e)}function Bh(i,e=0){const t=aT(),n=t.getState().internal.subscribe,r=$E(i);return kp(()=>n(r,e,t),[e,n,t]),null}function lT(i,e){return function(t,...n){const r=new t;return i&&i(r),Promise.all(n.map(s=>new Promise((a,l)=>r.load(s,c=>{c.scene&&Object.assign(c,fN(c.scene)),a(c)},e,c=>l(new Error(`Could not load ${s}: ${c.message})`))))))}}function Wl(i,e,t,n){const r=Array.isArray(e)?e:[e],s=iN(lT(t,n),[i,...r],{equal:In.equ});return Array.isArray(e)?s:s[0]}Wl.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return rN(lT(t),[i,...n])};Wl.clear=function(i,e){const t=Array.isArray(e)?e:[e];return sN([i,...t])};const yh=new Map,{invalidate:QM,advance:qM}=_N(yh),{reconciler:Zg,applyProps:Ma}=aN(yh,pN),Yf={objects:"shallow",strict:!1},MN=(i,e)=>{const t=typeof i=="function"?i(e):i;return sT(t)?t:new pA({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function SN(i,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:s}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function wN(i){const e=yh.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||vN(QM,qM),a=t||Zg.createContainer(s,nh.ConcurrentRoot,null,!1,null,"",r,null);e||yh.set(i,{fiber:a,store:s});let l,c=!1,d;return{configure(p={}){let{gl:g,size:v,scene:y,events:_,onCreated:C,shadows:S=!1,linear:M=!1,flat:T=!1,legacy:b=!1,orthographic:B=!1,frameloop:I="always",dpr:F=[1,2],performance:G,raycaster:U,camera:D,onPointerMissed:k}=p,Q=s.getState(),re=Q.gl;Q.gl||Q.set({gl:re=MN(g,i)});let Z=Q.raycaster;Z||Q.set({raycaster:Z=new XE});const{params:te,...se}=U||{};if(In.equ(se,Z,Yf)||Ma(Z,{...se}),In.equ(te,Z.params,Yf)||Ma(Z,{params:{...Z.params,...te}}),!Q.camera||Q.camera===d&&!In.equ(d,D,Yf)){d=D;const X=D instanceof xp,ee=X?D:B?new eo(0,0,0,0,.1,1e3):new On(75,0,.1,1e3);X||(ee.position.z=5,D&&Ma(ee,D),!Q.camera&&!(D!=null&&D.rotation)&&ee.lookAt(0,0,0)),Q.set({camera:ee})}if(!Q.scene){let X;y instanceof qg?X=y:(X=new qg,y&&Ma(X,y)),Q.set({scene:Qf(X)})}if(!Q.xr){const X=(le,Pe)=>{const Ce=s.getState();Ce.frameloop!=="never"&&qM(le,!0,Ce,Pe)},ee=()=>{const le=s.getState();le.gl.xr.enabled=le.gl.xr.isPresenting,le.gl.xr.setAnimationLoop(le.gl.xr.isPresenting?X:null),le.gl.xr.isPresenting||QM(le)},oe={connect(){const le=s.getState().gl;le.xr.addEventListener("sessionstart",ee),le.xr.addEventListener("sessionend",ee)},disconnect(){const le=s.getState().gl;le.xr.removeEventListener("sessionstart",ee),le.xr.removeEventListener("sessionend",ee)}};re.xr&&oe.connect(),Q.set({xr:oe})}if(re.shadowMap){const X=re.shadowMap.enabled,ee=re.shadowMap.type;if(re.shadowMap.enabled=!!S,In.boo(S))re.shadowMap.type=Wd;else if(In.str(S)){var ve;const oe={basic:nC,percentage:d0,soft:Wd,variance:Ku};re.shadowMap.type=(ve=oe[S])!=null?ve:Wd}else In.obj(S)&&Object.assign(re.shadowMap,S);(X!==re.shadowMap.enabled||ee!==re.shadowMap.type)&&(re.shadowMap.needsUpdate=!0)}const de=qE();de&&("enabled"in de?de.enabled=!b:"legacyMode"in de&&(de.legacyMode=b));const z=M?Ra:Sn,Y=T?$s:Zx;re.outputEncoding!==z&&(re.outputEncoding=z),re.toneMapping!==Y&&(re.toneMapping=Y),Q.legacy!==b&&Q.set(()=>({legacy:b})),Q.linear!==M&&Q.set(()=>({linear:M})),Q.flat!==T&&Q.set(()=>({flat:T})),g&&!In.fun(g)&&!sT(g)&&!In.equ(g,re,Yf)&&Ma(re,g),_&&!Q.events.handlers&&Q.set({events:_(s)});const N=SN(i,v);return In.equ(N,Q.size,Yf)||Q.setSize(N.width,N.height,N.updateStyle,N.top,N.left),F&&Q.viewport.dpr!==nT(F)&&Q.setDpr(F),Q.frameloop!==I&&Q.setFrameloop(I),Q.onPointerMissed||Q.set({onPointerMissed:k}),G&&!In.equ(G,Q.performance,Yf)&&Q.set(X=>({performance:{...X.performance,...G}})),l=C,c=!0,this},render(p){return c||this.configure(),Zg.updateContainer(q.createElement(CN,{store:s,children:p,onCreated:l,rootElement:i}),a,null,()=>{}),s},unmount(){uT(i)}}}function CN({store:i,children:e,onCreated:t,rootElement:n}){return kp(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),q.createElement(oT.Provider,{value:i},e)}function uT(i,e){const t=yh.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),Zg.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,a,l,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),hN(r),yh.delete(i)}catch{}},500)})}}Zg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:q.version});function Cs(){return Cs=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Cs.apply(null,arguments)}var cy,ZM;function EN(){if(ZM)return cy;ZM=1;function i(e,t,n){var r,s,a,l,c;t==null&&(t=100);function d(){var g=Date.now()-l;g<t&&g>=0?r=setTimeout(d,t-g):(r=null,n||(c=e.apply(a,s),a=s=null))}var p=function(){a=this,s=arguments,l=Date.now();var g=n&&!r;return r||(r=setTimeout(d,t)),g&&(c=e.apply(a,s),a=s=null),c};return p.clear=function(){r&&(clearTimeout(r),r=null)},p.flush=function(){r&&(c=e.apply(a,s),a=s=null,clearTimeout(r),r=null)},p}return i.debounce=i,cy=i,cy}var TN=EN();const $M=u0(TN);function bN(i){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=i===void 0?{debounce:0,scroll:!1,offsetSize:!1}:i;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),d=e?typeof e=="number"?e:e.scroll:null,p=e?typeof e=="number"?e:e.resize:null,g=q.useRef(!1);q.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[v,y,_]=q.useMemo(()=>{const T=()=>{if(!c.current.element)return;const{left:b,top:B,width:I,height:F,bottom:G,right:U,x:D,y:k}=c.current.element.getBoundingClientRect(),Q={left:b,top:B,width:I,height:F,bottom:G,right:U,x:D,y:k};c.current.element instanceof HTMLElement&&r&&(Q.height=c.current.element.offsetHeight,Q.width=c.current.element.offsetWidth),Object.freeze(Q),g.current&&!LN(c.current.lastBounds,Q)&&l(c.current.lastBounds=Q)};return[T,p?$M(T,p):T,d?$M(T,d):T]},[l,r,d,p]);function C(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(T=>T.removeEventListener("scroll",_,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function S(){c.current.element&&(c.current.resizeObserver=new s(_),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(T=>T.addEventListener("scroll",_,{capture:!0,passive:!0})))}const M=T=>{!T||T===c.current.element||(C(),c.current.element=T,c.current.scrollContainers=cT(T),S())};return BN(_,!!t),PN(y),q.useEffect(()=>{C(),S()},[t,_,y]),q.useEffect(()=>C,[]),[M,a,v]}function PN(i){q.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function BN(i,e){q.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function cT(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...cT(i.parentElement)]}const RN=["x","y","top","bottom","left","right","width","height"],LN=(i,e)=>RN.every(t=>i[t]===e[t]);var IN=Object.defineProperty,DN=Object.defineProperties,FN=Object.getOwnPropertyDescriptors,eS=Object.getOwnPropertySymbols,NN=Object.prototype.hasOwnProperty,ON=Object.prototype.propertyIsEnumerable,tS=(i,e,t)=>e in i?IN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,nS=(i,e)=>{for(var t in e||(e={}))NN.call(e,t)&&tS(i,t,e[t]);if(eS)for(var t of eS(e))ON.call(e,t)&&tS(i,t,e[t]);return i},kN=(i,e)=>DN(i,FN(e));function fT(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=fT(n,e,t);if(r)return r;n=n.sibling}}function hT(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const HA=hT(q.createContext(null));class dT extends q.Component{render(){return q.createElement(HA.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:iS,ReactCurrentDispatcher:rS}=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function UN(){const i=q.useContext(HA);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=q.useId();return q.useMemo(()=>{var n;return(n=iS?.current)!=null?n:fT(i,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[i,e])}function zN(){var i,e;const t=UN(),[n]=q.useState(()=>new Map);n.clear();let r=t;for(;r;){const s=(i=r.type)==null?void 0:i._context;s&&s!==HA&&!n.has(s)&&n.set(s,(e=rS?.current)==null?void 0:e.readContext(hT(s))),r=r.return}return n}function GN(){const i=zN();return q.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>q.createElement(e,null,q.createElement(t.Provider,kN(nS({},n),{value:i.get(t)}))),e=>q.createElement(dT,nS({},e))),[i])}const fy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function HN(i){const{handlePointer:e}=gN(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(fy).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([a,l])=>{const[c,d]=fy[a];t.addEventListener(c,l,{passive:d})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,a])=>{if(n&&n.connected instanceof HTMLElement){const[l]=fy[s];n.connected.removeEventListener(l,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const VN=q.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:a=HN,eventSource:l,eventPrefix:c,shadows:d,linear:p,flat:g,legacy:v,orthographic:y,frameloop:_,dpr:C,performance:S,raycaster:M,camera:T,onPointerMissed:b,onCreated:B,...I},F){q.useMemo(()=>oN(VF),[]);const G=GN(),[U,D]=bN({scroll:!0,debounce:{scroll:50,resize:0},...n}),k=q.useRef(null),Q=q.useRef(null);q.useImperativeHandle(F,()=>k.current);const re=$E(b),[Z,te]=q.useState(!1),[se,ve]=q.useState(!1);if(Z)throw Z;if(se)throw se;const de=q.useRef(null);kp(()=>{const Y=k.current;D.width>0&&D.height>0&&Y&&(de.current||(de.current=wN(Y)),de.current.configure({gl:s,events:a,shadows:d,linear:p,flat:g,legacy:v,orthographic:y,frameloop:_,dpr:C,performance:S,raycaster:M,camera:T,size:D,onPointerMissed:(...N)=>re.current==null?void 0:re.current(...N),onCreated:N=>{N.events.connect==null||N.events.connect(l?lN(l)?l.current:l:Q.current),c&&N.setEvents({compute:(X,ee)=>{const oe=X[c+"X"],le=X[c+"Y"];ee.pointer.set(oe/ee.size.width*2-1,-(le/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),B?.(N)}}),de.current.render(q.createElement(G,null,q.createElement(eT,{set:ve},q.createElement(q.Suspense,{fallback:q.createElement(uN,{set:te})},e)))))}),q.useEffect(()=>{const Y=k.current;if(Y)return()=>uT(Y)},[]);const z=l?"none":"auto";return q.createElement("div",Cs({ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...r}},I),q.createElement("div",{ref:U,style:{width:"100%",height:"100%"}},q.createElement("canvas",{ref:k,style:{display:"block"}},t)))}),b0=q.forwardRef(function(e,t){return q.createElement(dT,null,q.createElement(VN,Cs({},e,{ref:t})))}),Up=new V,VA=new V,WN=new V,sS=new Re;function jN(i,e,t){const n=Up.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,s=t.height/2;return[n.x*r+r,-(n.y*s)+s]}function JN(i,e){const t=Up.setFromMatrixPosition(i.matrixWorld),n=VA.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),s=e.getWorldDirection(WN);return r.angleTo(s)>Math.PI/2}function XN(i,e,t,n){const r=Up.setFromMatrixPosition(i.matrixWorld),s=r.clone();s.project(e),sS.set(s.x,s.y),t.setFromCamera(sS,e);const a=t.intersectObjects(n,!0);if(a.length){const l=a[0].distance;return r.distanceTo(t.ray.origin)<l}return!0}function KN(i,e){if(e instanceof eo)return e.zoom;if(e instanceof On){const t=Up.setFromMatrixPosition(i.matrixWorld),n=VA.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(r/2)*s)}else return 1}function YN(i,e,t){if(e instanceof On||e instanceof eo){const n=Up.setFromMatrixPosition(i.matrixWorld),r=VA.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(r),a=(t[1]-t[0])/(e.far-e.near),l=t[1]-a*e.far;return Math.round(a*s+l)}}const Ex=i=>Math.abs(i)<1e-10?0:i;function pT(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=Ex(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const QN=(i=>e=>pT(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),qN=(i=>(e,t)=>pT(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function ZN(i){return i&&typeof i=="object"&&"current"in i}const $N=q.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:s,fullscreen:a,portal:l,distanceFactor:c,sprite:d=!1,transform:p=!1,occlude:g,onOcclude:v,castShadow:y,receiveShadow:_,material:C,geometry:S,zIndexRange:M=[16777271,0],calculatePosition:T=jN,as:b="div",wrapperClass:B,pointerEvents:I="auto",...F},G)=>{const{gl:U,camera:D,scene:k,size:Q,raycaster:re,events:Z,viewport:te}=ts(),[se]=q.useState(()=>document.createElement(b)),ve=q.useRef(),de=q.useRef(null),z=q.useRef(0),Y=q.useRef([0,0]),N=q.useRef(null),X=q.useRef(null),ee=l?.current||Z.connected||U.domElement.parentNode,oe=q.useRef(null),le=q.useRef(!1),Pe=q.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&ZN(g[0]),[g]);q.useLayoutEffect(()=>{const Fe=U.domElement;g&&g==="blending"?(Fe.style.zIndex=`${Math.floor(M[0]/2)}`,Fe.style.position="absolute",Fe.style.pointerEvents="none"):(Fe.style.zIndex=null,Fe.style.position=null,Fe.style.pointerEvents=null)},[g]),q.useLayoutEffect(()=>{if(de.current){const Fe=ve.current=Jw.createRoot(se);if(k.updateMatrixWorld(),p)se.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Oe=T(de.current,D,Q);se.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Oe[0]}px,${Oe[1]}px,0);transform-origin:0 0;`}return ee&&(r?ee.prepend(se):ee.appendChild(se)),()=>{ee&&ee.removeChild(se),Fe.unmount()}}},[ee,p]),q.useLayoutEffect(()=>{B&&(se.className=B)},[B]);const Ce=q.useMemo(()=>p?{position:"absolute",top:0,left:0,width:Q.width,height:Q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...a&&{top:-Q.height/2,left:-Q.width/2,width:Q.width,height:Q.height},...t},[t,s,a,Q,p]),ce=q.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);q.useLayoutEffect(()=>{if(le.current=!1,p){var Fe;(Fe=ve.current)==null||Fe.render(q.createElement("div",{ref:N,style:Ce},q.createElement("div",{ref:X,style:ce},q.createElement("div",{ref:G,className:n,style:t,children:i}))))}else{var Oe;(Oe=ve.current)==null||Oe.render(q.createElement("div",{ref:G,style:Ce,className:n,children:i}))}});const Ve=q.useRef(!0);Bh(Fe=>{if(de.current){D.updateMatrixWorld(),de.current.updateWorldMatrix(!0,!1);const Oe=p?Y.current:T(de.current,D,Q);if(p||Math.abs(z.current-D.zoom)>e||Math.abs(Y.current[0]-Oe[0])>e||Math.abs(Y.current[1]-Oe[1])>e){const Be=JN(de.current,D);let Ae=!1;Pe&&(Array.isArray(g)?Ae=g.map(lt=>lt.current):g!=="blending"&&(Ae=[k]));const Ie=Ve.current;if(Ae){const lt=XN(de.current,D,re,Ae);Ve.current=lt&&!Be}else Ve.current=!Be;Ie!==Ve.current&&(v?v(!Ve.current):se.style.display=Ve.current?"block":"none");const Ze=Math.floor(M[0]/2),Ke=g?Pe?[M[0],Ze]:[Ze-1,0]:M;if(se.style.zIndex=`${YN(de.current,D,Ke)}`,p){const[lt,yt]=[Q.width/2,Q.height/2],ct=D.projectionMatrix.elements[5]*yt,{isOrthographicCamera:St,top:Ft,left:J,bottom:H,right:_e}=D,ke=QN(D.matrixWorldInverse),Ge=St?`scale(${ct})translate(${Ex(-(_e+J)/2)}px,${Ex((Ft+H)/2)}px)`:`translateZ(${ct}px)`;let je=de.current.matrixWorld;d&&(je=D.matrixWorldInverse.clone().transpose().copyPosition(je).scale(de.current.scale),je.elements[3]=je.elements[7]=je.elements[11]=0,je.elements[15]=1),se.style.width=Q.width+"px",se.style.height=Q.height+"px",se.style.perspective=St?"":`${ct}px`,N.current&&X.current&&(N.current.style.transform=`${Ge}${ke}translate(${lt}px,${yt}px)`,X.current.style.transform=qN(je,1/((c||10)/400)))}else{const lt=c===void 0?1:KN(de.current,D)*c;se.style.transform=`translate3d(${Oe[0]}px,${Oe[1]}px,0) scale(${lt})`}Y.current=Oe,z.current=D.zoom}}if(!Pe&&oe.current&&!le.current)if(p){if(N.current){const Oe=N.current.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const{isOrthographicCamera:Be}=D;if(Be||S)F.scale&&(Array.isArray(F.scale)?F.scale instanceof V?oe.current.scale.copy(F.scale.clone().divideScalar(1)):oe.current.scale.set(1/F.scale[0],1/F.scale[1],1/F.scale[2]):oe.current.scale.setScalar(1/F.scale));else{const Ae=(c||10)/400,Ie=Oe.clientWidth*Ae,Ze=Oe.clientHeight*Ae;oe.current.scale.set(Ie,Ze,1)}le.current=!0}}}else{const Oe=se.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const Be=1/te.factor,Ae=Oe.clientWidth*Be,Ie=Oe.clientHeight*Be;oe.current.scale.set(Ae,Ie,1),le.current=!0}oe.current.lookAt(Fe.camera.position)}});const qe=q.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return q.createElement("group",Cs({},F,{ref:de}),g&&!Pe&&q.createElement("mesh",{castShadow:y,receiveShadow:_,ref:oe},S||q.createElement("planeGeometry",null),C||q.createElement("shaderMaterial",{side:ws,vertexShader:qe.vertexShader,fragmentShader:qe.fragmentShader})))}),oS=i=>{let e;const t=new Set,n=(d,p)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(y=>y(e,v))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=e=i(n,r,l);return l},eO=(i=>i?oS(i):oS),tO=i=>i;function nO(i,e=tO){const t=bl.useSyncExternalStore(i.subscribe,bl.useCallback(()=>e(i.getState()),[i,e]),bl.useCallback(()=>e(i.getInitialState()),[i,e]));return bl.useDebugValue(t),t}const aS=i=>{const e=eO(i),t=n=>nO(e,n);return Object.assign(t,e),t},iO=(i=>i?aS(i):aS);let Ld=0;const rO=iO(i=>(th.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-Ld)/(n-Ld)*100})},th.onLoad=()=>{i({active:!1})},th.onError=e=>i(t=>({errors:[...t.errors,e]})),th.onProgress=(e,t,n)=>{t===n&&(Ld=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-Ld)/(n-Ld)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),sO=parseInt(_h.replace(/\D+/g,""));function lS(i,e){if(e===JC)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===Yg||e===tA){let t=i.getIndex();if(t===null){const a=[],l=i.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)a.push(c);i.setIndex(a),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===Yg)for(let a=1;a<=n;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var oO=Object.defineProperty,aO=(i,e,t)=>e in i?oO(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,lO=(i,e,t)=>(aO(i,e+"",t),t);class uO{constructor(){lO(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var cO=Object.defineProperty,fO=(i,e,t)=>e in i?cO(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Tt=(i,e,t)=>(fO(i,typeof e!="symbol"?e+"":e,t),t);const Rg=new Sh,uS=new xa,hO=Math.cos(70*(Math.PI/180)),cS=(i,e)=>(i%e+e)%e;let dO=class extends uO{constructor(e,t){super(),Tt(this,"object"),Tt(this,"domElement"),Tt(this,"enabled",!0),Tt(this,"target",new V),Tt(this,"minDistance",0),Tt(this,"maxDistance",1/0),Tt(this,"minZoom",0),Tt(this,"maxZoom",1/0),Tt(this,"minPolarAngle",0),Tt(this,"maxPolarAngle",Math.PI),Tt(this,"minAzimuthAngle",-1/0),Tt(this,"maxAzimuthAngle",1/0),Tt(this,"enableDamping",!1),Tt(this,"dampingFactor",.05),Tt(this,"enableZoom",!0),Tt(this,"zoomSpeed",1),Tt(this,"enableRotate",!0),Tt(this,"rotateSpeed",1),Tt(this,"enablePan",!0),Tt(this,"panSpeed",1),Tt(this,"screenSpacePanning",!0),Tt(this,"keyPanSpeed",7),Tt(this,"zoomToCursor",!1),Tt(this,"autoRotate",!1),Tt(this,"autoRotateSpeed",2),Tt(this,"reverseOrbit",!1),Tt(this,"reverseHorizontalOrbit",!1),Tt(this,"reverseVerticalOrbit",!1),Tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Tt(this,"mouseButtons",{LEFT:zu.ROTATE,MIDDLE:zu.DOLLY,RIGHT:zu.PAN}),Tt(this,"touches",{ONE:Gu.ROTATE,TWO:Gu.DOLLY_PAN}),Tt(this,"target0"),Tt(this,"position0"),Tt(this,"zoom0"),Tt(this,"_domElementKeyEvents",null),Tt(this,"getPolarAngle"),Tt(this,"getAzimuthalAngle"),Tt(this,"setPolarAngle"),Tt(this,"setAzimuthalAngle"),Tt(this,"getDistance"),Tt(this,"getZoomScale"),Tt(this,"listenToKeyEvents"),Tt(this,"stopListenToKeyEvents"),Tt(this,"saveState"),Tt(this,"reset"),Tt(this,"update"),Tt(this,"connect"),Tt(this,"dispose"),Tt(this,"dollyIn"),Tt(this,"dollyOut"),Tt(this,"getScale"),Tt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=ne=>{let De=cS(ne,2*Math.PI),tt=p.phi;tt<0&&(tt+=2*Math.PI),De<0&&(De+=2*Math.PI);let $=Math.abs(De-tt);2*Math.PI-$<$&&(De<tt?De+=2*Math.PI:tt+=2*Math.PI),g.phi=De-tt,n.update()},this.setAzimuthalAngle=ne=>{let De=cS(ne,2*Math.PI),tt=p.theta;tt<0&&(tt+=2*Math.PI),De<0&&(De+=2*Math.PI);let $=Math.abs(De-tt);2*Math.PI-$<$&&(De<tt?De+=2*Math.PI:tt+=2*Math.PI),g.theta=De-tt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ne=>{ne.addEventListener("keydown",At),this._domElementKeyEvents=ne},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",At),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),c=l.NONE},this.update=(()=>{const ne=new V,De=new V(0,1,0),tt=new Ri().setFromUnitVectors(e.up,De),$=tt.clone().invert(),Me=new V,Ne=new Ri,Xe=2*Math.PI;return function(){const nn=n.object.position;tt.setFromUnitVectors(e.up,De),$.copy(tt).invert(),ne.copy(nn).sub(n.target),ne.applyQuaternion(tt),p.setFromVector3(ne),n.autoRotate&&c===l.NONE&&te(re()),n.enableDamping?(p.theta+=g.theta*n.dampingFactor,p.phi+=g.phi*n.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let Yt=n.minAzimuthAngle,dn=n.maxAzimuthAngle;isFinite(Yt)&&isFinite(dn)&&(Yt<-Math.PI?Yt+=Xe:Yt>Math.PI&&(Yt-=Xe),dn<-Math.PI?dn+=Xe:dn>Math.PI&&(dn-=Xe),Yt<=dn?p.theta=Math.max(Yt,Math.min(dn,p.theta)):p.theta=p.theta>(Yt+dn)/2?Math.max(Yt,p.theta):Math.min(dn,p.theta)),p.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,p.phi)),p.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),n.zoomToCursor&&D||n.object.isOrthographicCamera?p.radius=oe(p.radius):p.radius=oe(p.radius*v),ne.setFromSpherical(p),ne.applyQuaternion($),nn.copy(n.target).add(ne),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(g.theta*=1-n.dampingFactor,g.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),y.set(0,0,0));let ri=!1;if(n.zoomToCursor&&D){let rn=null;if(n.object instanceof On&&n.object.isPerspectiveCamera){const Dn=ne.length();rn=oe(Dn*v);const kn=Dn-rn;n.object.position.addScaledVector(G,kn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Dn=new V(U.x,U.y,0);Dn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix(),ri=!0;const kn=new V(U.x,U.y,0);kn.unproject(n.object),n.object.position.sub(kn).add(Dn),n.object.updateMatrixWorld(),rn=ne.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;rn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(rn).add(n.object.position):(Rg.origin.copy(n.object.position),Rg.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Rg.direction))<hO?e.lookAt(n.target):(uS.setFromNormalAndCoplanarPoint(n.object.up,n.target),Rg.intersectPlane(uS,n.target))))}else n.object instanceof eo&&n.object.isOrthographicCamera&&(ri=v!==1,ri&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix()));return v=1,D=!1,ri||Me.distanceToSquared(n.object.position)>d||8*(1-Ne.dot(n.object.quaternion))>d?(n.dispatchEvent(r),Me.copy(n.object.position),Ne.copy(n.object.quaternion),ri=!1,!0):!1}})(),this.connect=ne=>{n.domElement=ne,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",ot),n.domElement.addEventListener("pointerdown",J),n.domElement.addEventListener("pointercancel",_e),n.domElement.addEventListener("wheel",je)},this.dispose=()=>{var ne,De,tt,$,Me,Ne;n.domElement&&(n.domElement.style.touchAction="auto"),(ne=n.domElement)==null||ne.removeEventListener("contextmenu",ot),(De=n.domElement)==null||De.removeEventListener("pointerdown",J),(tt=n.domElement)==null||tt.removeEventListener("pointercancel",_e),($=n.domElement)==null||$.removeEventListener("wheel",je),(Me=n.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",H),(Ne=n.domElement)==null||Ne.ownerDocument.removeEventListener("pointerup",_e),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",At)};const n=this,r={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const d=1e-6,p=new Sx,g=new Sx;let v=1;const y=new V,_=new Re,C=new Re,S=new Re,M=new Re,T=new Re,b=new Re,B=new Re,I=new Re,F=new Re,G=new V,U=new Re;let D=!1;const k=[],Q={};function re(){return 2*Math.PI/60/60*n.autoRotateSpeed}function Z(){return Math.pow(.95,n.zoomSpeed)}function te(ne){n.reverseOrbit||n.reverseHorizontalOrbit?g.theta+=ne:g.theta-=ne}function se(ne){n.reverseOrbit||n.reverseVerticalOrbit?g.phi+=ne:g.phi-=ne}const ve=(()=>{const ne=new V;return function(tt,$){ne.setFromMatrixColumn($,0),ne.multiplyScalar(-tt),y.add(ne)}})(),de=(()=>{const ne=new V;return function(tt,$){n.screenSpacePanning===!0?ne.setFromMatrixColumn($,1):(ne.setFromMatrixColumn($,0),ne.crossVectors(n.object.up,ne)),ne.multiplyScalar(tt),y.add(ne)}})(),z=(()=>{const ne=new V;return function(tt,$){const Me=n.domElement;if(Me&&n.object instanceof On&&n.object.isPerspectiveCamera){const Ne=n.object.position;ne.copy(Ne).sub(n.target);let Xe=ne.length();Xe*=Math.tan(n.object.fov/2*Math.PI/180),ve(2*tt*Xe/Me.clientHeight,n.object.matrix),de(2*$*Xe/Me.clientHeight,n.object.matrix)}else Me&&n.object instanceof eo&&n.object.isOrthographicCamera?(ve(tt*(n.object.right-n.object.left)/n.object.zoom/Me.clientWidth,n.object.matrix),de($*(n.object.top-n.object.bottom)/n.object.zoom/Me.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Y(ne){n.object instanceof On&&n.object.isPerspectiveCamera||n.object instanceof eo&&n.object.isOrthographicCamera?v=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(ne){Y(v/ne)}function X(ne){Y(v*ne)}function ee(ne){if(!n.zoomToCursor||!n.domElement)return;D=!0;const De=n.domElement.getBoundingClientRect(),tt=ne.clientX-De.left,$=ne.clientY-De.top,Me=De.width,Ne=De.height;U.x=tt/Me*2-1,U.y=-($/Ne)*2+1,G.set(U.x,U.y,1).unproject(n.object).sub(n.object.position).normalize()}function oe(ne){return Math.max(n.minDistance,Math.min(n.maxDistance,ne))}function le(ne){_.set(ne.clientX,ne.clientY)}function Pe(ne){ee(ne),B.set(ne.clientX,ne.clientY)}function Ce(ne){M.set(ne.clientX,ne.clientY)}function ce(ne){C.set(ne.clientX,ne.clientY),S.subVectors(C,_).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(te(2*Math.PI*S.x/De.clientHeight),se(2*Math.PI*S.y/De.clientHeight)),_.copy(C),n.update()}function Ve(ne){I.set(ne.clientX,ne.clientY),F.subVectors(I,B),F.y>0?N(Z()):F.y<0&&X(Z()),B.copy(I),n.update()}function qe(ne){T.set(ne.clientX,ne.clientY),b.subVectors(T,M).multiplyScalar(n.panSpeed),z(b.x,b.y),M.copy(T),n.update()}function Fe(ne){ee(ne),ne.deltaY<0?X(Z()):ne.deltaY>0&&N(Z()),n.update()}function Oe(ne){let De=!1;switch(ne.code){case n.keys.UP:z(0,n.keyPanSpeed),De=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),De=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),De=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),De=!0;break}De&&(ne.preventDefault(),n.update())}function Be(){if(k.length==1)_.set(k[0].pageX,k[0].pageY);else{const ne=.5*(k[0].pageX+k[1].pageX),De=.5*(k[0].pageY+k[1].pageY);_.set(ne,De)}}function Ae(){if(k.length==1)M.set(k[0].pageX,k[0].pageY);else{const ne=.5*(k[0].pageX+k[1].pageX),De=.5*(k[0].pageY+k[1].pageY);M.set(ne,De)}}function Ie(){const ne=k[0].pageX-k[1].pageX,De=k[0].pageY-k[1].pageY,tt=Math.sqrt(ne*ne+De*De);B.set(0,tt)}function Ze(){n.enableZoom&&Ie(),n.enablePan&&Ae()}function Ke(){n.enableZoom&&Ie(),n.enableRotate&&Be()}function lt(ne){if(k.length==1)C.set(ne.pageX,ne.pageY);else{const tt=dt(ne),$=.5*(ne.pageX+tt.x),Me=.5*(ne.pageY+tt.y);C.set($,Me)}S.subVectors(C,_).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(te(2*Math.PI*S.x/De.clientHeight),se(2*Math.PI*S.y/De.clientHeight)),_.copy(C)}function yt(ne){if(k.length==1)T.set(ne.pageX,ne.pageY);else{const De=dt(ne),tt=.5*(ne.pageX+De.x),$=.5*(ne.pageY+De.y);T.set(tt,$)}b.subVectors(T,M).multiplyScalar(n.panSpeed),z(b.x,b.y),M.copy(T)}function ct(ne){const De=dt(ne),tt=ne.pageX-De.x,$=ne.pageY-De.y,Me=Math.sqrt(tt*tt+$*$);I.set(0,Me),F.set(0,Math.pow(I.y/B.y,n.zoomSpeed)),N(F.y),B.copy(I)}function St(ne){n.enableZoom&&ct(ne),n.enablePan&&yt(ne)}function Ft(ne){n.enableZoom&&ct(ne),n.enableRotate&&lt(ne)}function J(ne){var De,tt;n.enabled!==!1&&(k.length===0&&((De=n.domElement)==null||De.ownerDocument.addEventListener("pointermove",H),(tt=n.domElement)==null||tt.ownerDocument.addEventListener("pointerup",_e)),_t(ne),ne.pointerType==="touch"?it(ne):ke(ne))}function H(ne){n.enabled!==!1&&(ne.pointerType==="touch"?Te(ne):Ge(ne))}function _e(ne){var De,tt,$;Mt(ne),k.length===0&&((De=n.domElement)==null||De.releasePointerCapture(ne.pointerId),(tt=n.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",H),($=n.domElement)==null||$.ownerDocument.removeEventListener("pointerup",_e)),n.dispatchEvent(a),c=l.NONE}function ke(ne){let De;switch(ne.button){case 0:De=n.mouseButtons.LEFT;break;case 1:De=n.mouseButtons.MIDDLE;break;case 2:De=n.mouseButtons.RIGHT;break;default:De=-1}switch(De){case zu.DOLLY:if(n.enableZoom===!1)return;Pe(ne),c=l.DOLLY;break;case zu.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(n.enablePan===!1)return;Ce(ne),c=l.PAN}else{if(n.enableRotate===!1)return;le(ne),c=l.ROTATE}break;case zu.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(n.enableRotate===!1)return;le(ne),c=l.ROTATE}else{if(n.enablePan===!1)return;Ce(ne),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Ge(ne){if(n.enabled!==!1)switch(c){case l.ROTATE:if(n.enableRotate===!1)return;ce(ne);break;case l.DOLLY:if(n.enableZoom===!1)return;Ve(ne);break;case l.PAN:if(n.enablePan===!1)return;qe(ne);break}}function je(ne){n.enabled===!1||n.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(ne.preventDefault(),n.dispatchEvent(s),Fe(ne),n.dispatchEvent(a))}function At(ne){n.enabled===!1||n.enablePan===!1||Oe(ne)}function it(ne){switch(rt(ne),k.length){case 1:switch(n.touches.ONE){case Gu.ROTATE:if(n.enableRotate===!1)return;Be(),c=l.TOUCH_ROTATE;break;case Gu.PAN:if(n.enablePan===!1)return;Ae(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case Gu.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ze(),c=l.TOUCH_DOLLY_PAN;break;case Gu.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ke(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Te(ne){switch(rt(ne),c){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;lt(ne),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;yt(ne),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;St(ne),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ft(ne),n.update();break;default:c=l.NONE}}function ot(ne){n.enabled!==!1&&ne.preventDefault()}function _t(ne){k.push(ne)}function Mt(ne){delete Q[ne.pointerId];for(let De=0;De<k.length;De++)if(k[De].pointerId==ne.pointerId){k.splice(De,1);return}}function rt(ne){let De=Q[ne.pointerId];De===void 0&&(De=new Re,Q[ne.pointerId]=De),De.set(ne.pageX,ne.pageY)}function dt(ne){const De=ne.pointerId===k[0].pointerId?k[1]:k[0];return Q[De.pointerId]}this.dollyIn=(ne=Z())=>{X(ne),n.update()},this.dollyOut=(ne=Z())=>{N(ne),n.update()},this.getScale=()=>v,this.setScale=ne=>{Y(ne),n.update()},this.getZoomScale=()=>Z(),t!==void 0&&this.connect(t),this.update()}};function $g(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const $u="srgb",Ta="srgb-linear",fS=3001,pO=3e3;class WA extends vr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new xO(t)}),this.register(function(t){return new AO(t)}),this.register(function(t){return new PO(t)}),this.register(function(t){return new BO(t)}),this.register(function(t){return new RO(t)}),this.register(function(t){return new MO(t)}),this.register(function(t){return new SO(t)}),this.register(function(t){return new wO(t)}),this.register(function(t){return new CO(t)}),this.register(function(t){return new yO(t)}),this.register(function(t){return new EO(t)}),this.register(function(t){return new _O(t)}),this.register(function(t){return new bO(t)}),this.register(function(t){return new TO(t)}),this.register(function(t){return new gO(t)}),this.register(function(t){return new LO(t)}),this.register(function(t){return new IO(t)})}load(e,t,n,r){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const d=Ll.extractUrlBase(e);a=Ll.resolveURL(d,this.path)}else a=Ll.extractUrlBase(e);this.manager.itemStart(e);const l=function(d){r?r(d):console.error(d),s.manager.itemError(e),s.manager.itemEnd(e)},c=new ss(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{s.parse(d,a,function(p){t(p),s.manager.itemEnd(e)},l)}catch(p){l(p)}},n,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const a={},l={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if($g(new Uint8Array(e.slice(0,4)))===mT){try{a[Zt.KHR_BINARY_GLTF]=new DO(e)}catch(p){r&&r(p);return}s=JSON.parse(a[Zt.KHR_BINARY_GLTF].content)}else s=JSON.parse($g(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new XO(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const p=this.pluginCallbacks[d](c);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[p.name]=p,a[p.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const p=s.extensionsUsed[d],g=s.extensionsRequired||[];switch(p){case Zt.KHR_MATERIALS_UNLIT:a[p]=new vO;break;case Zt.KHR_DRACO_MESH_COMPRESSION:a[p]=new FO(s,this.dracoLoader);break;case Zt.KHR_TEXTURE_TRANSFORM:a[p]=new NO;break;case Zt.KHR_MESH_QUANTIZATION:a[p]=new OO;break;default:g.indexOf(p)>=0&&l[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}c.setExtensions(a),c.setPlugins(l),c.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function mO(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const Zt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class gO{constructor(e){this.parser=e,this.name=Zt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const p=new et(16777215);c.color!==void 0&&p.setRGB(c.color[0],c.color[1],c.color[2],Ta);const g=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new FA(p),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new DA(p),d.distance=g;break;case"spot":d=new IA(p),d.distance=g,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),d.decay=2,ya(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=t.createUniqueName(c.name||"light_"+e),r=Promise.resolve(d),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return n._getNodeRef(t.cache,l,c)})}}class vO{constructor(){this.name=Zt.KHR_MATERIALS_UNLIT}getMaterialType(){return is}extendParams(e,t,n){const r=[];e.color=new et(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Ta),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,$u))}return Promise.all(r)}}class yO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class xO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Re(l,l)}return Promise.all(s)}}class AO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class _O{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class MO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new et(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],Ta)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,$u)),a.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class SO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class wO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new et().setRGB(l[0],l[1],l[2],Ta),Promise.all(s)}}class CO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class EO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new et().setRGB(l[0],l[1],l[2],Ta),a.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,$u)),Promise.all(s)}}class TO{constructor(e){this.parser=e,this.name=Zt.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class bO{constructor(e){this.parser=e,this.name=Zt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Es}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class PO{constructor(e){this.parser=e,this.name=Zt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class BO{constructor(e){this.parser=e,this.name=Zt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let c=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RO{constructor(e){this.parser=e,this.name=Zt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let c=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class LO{constructor(e){this.name=Zt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const c=r.byteOffset||0,d=r.byteLength||0,p=r.count,g=r.byteStride,v=new Uint8Array(l,c,d);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(p,g,v,r.mode,r.filter).then(function(y){return y.buffer}):a.ready.then(function(){const y=new ArrayBuffer(p*g);return a.decodeGltfBuffer(new Uint8Array(y),p,g,v,r.mode,r.filter),y})})}else return null}}class IO{constructor(e){this.name=Zt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const d of r.primitives)if(d.mode!==Ms.TRIANGLES&&d.mode!==Ms.TRIANGLE_STRIP&&d.mode!==Ms.TRIANGLE_FAN&&d.mode!==void 0)return null;const a=n.extensions[this.name].attributes,l=[],c={};for(const d in a)l.push(this.parser.getDependency("accessor",a[d]).then(p=>(c[d]=p,c[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(d=>{const p=d.pop(),g=p.isGroup?p.children:[p],v=d[0].count,y=[];for(const _ of g){const C=new Rt,S=new V,M=new Ri,T=new V(1,1,1),b=new vA(_.geometry,_.material,v);for(let B=0;B<v;B++)c.TRANSLATION&&S.fromBufferAttribute(c.TRANSLATION,B),c.ROTATION&&M.fromBufferAttribute(c.ROTATION,B),c.SCALE&&T.fromBufferAttribute(c.SCALE,B),b.setMatrixAt(B,C.compose(S,M,T));for(const B in c)if(B==="_COLOR_0"){const I=c[B];b.instanceColor=new cc(I.array,I.itemSize,I.normalized)}else B!=="TRANSLATION"&&B!=="ROTATION"&&B!=="SCALE"&&_.geometry.setAttribute(B,c[B]);tn.prototype.copy.call(b,_),this.parser.assignFinalMaterial(b),y.push(b)}return p.isGroup?(p.clear(),p.add(...y),p):y[0]}))}}const mT="glTF",Id=12,hS={JSON:1313821514,BIN:5130562};class DO{constructor(e){this.name=Zt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Id);if(this.header={magic:$g(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==mT)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Id,r=new DataView(e,Id);let s=0;for(;s<n;){const a=r.getUint32(s,!0);s+=4;const l=r.getUint32(s,!0);if(s+=4,l===hS.JSON){const c=new Uint8Array(e,Id+s,a);this.content=$g(c)}else if(l===hS.BIN){const c=Id+s;this.body=e.slice(c,c+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class FO{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Zt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},c={},d={};for(const p in a){const g=Tx[p]||p.toLowerCase();l[g]=a[p]}for(const p in e.attributes){const g=Tx[p]||p.toLowerCase();if(a[p]!==void 0){const v=n.accessors[e.attributes[p]],y=uh[v.componentType];d[g]=y.name,c[g]=v.normalized===!0}}return t.getDependency("bufferView",s).then(function(p){return new Promise(function(g,v){r.decodeDracoFile(p,function(y){for(const _ in y.attributes){const C=y.attributes[_],S=c[_];S!==void 0&&(C.normalized=S)}g(y)},l,d,Ta,v)})})}}class NO{constructor(){this.name=Zt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class OO{constructor(){this.name=Zt.KHR_MESH_QUANTIZATION}}class gT extends Ph{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=n[s+a];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=l*2,d=l*3,p=r-t,g=(n-t)/p,v=g*g,y=v*g,_=e*d,C=_-d,S=-2*y+3*v,M=y-v,T=1-S,b=M-v+g;for(let B=0;B!==l;B++){const I=a[C+B+l],F=a[C+B+c]*p,G=a[_+B+l],U=a[_+B]*p;s[B]=T*I+b*F+S*G+M*U}return s}}const kO=new Ri;class UO extends gT{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return kO.fromArray(s).normalize().toArray(s),s}}const Ms={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},uh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},dS={9728:qn,9729:Hn,9984:ip,9985:m0,9986:oh,9987:No},pS={33071:Wi,33648:fh,10497:Nl},hy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Tx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...sO>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Cl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},zO={CUBICSPLINE:void 0,LINEAR:uc,STEP:dh},dy={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function GO(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Np({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Fo})),i.DefaultMaterial}function Ou(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function ya(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function HO(i,e,t){let n=!1,r=!1,s=!1;for(let d=0,p=e.length;d<p;d++){const g=e[d];if(g.POSITION!==void 0&&(n=!0),g.NORMAL!==void 0&&(r=!0),g.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const a=[],l=[],c=[];for(let d=0,p=e.length;d<p;d++){const g=e[d];if(n){const v=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):i.attributes.position;a.push(v)}if(r){const v=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):i.attributes.normal;l.push(v)}if(s){const v=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):i.attributes.color;c.push(v)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(d){const p=d[0],g=d[1],v=d[2];return n&&(i.morphAttributes.position=p),r&&(i.morphAttributes.normal=g),s&&(i.morphAttributes.color=v),i.morphTargetsRelative=!0,i})}function VO(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function WO(i){let e;const t=i.extensions&&i.extensions[Zt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+py(t.attributes):e=i.indices+":"+py(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+py(i.targets[n]);return e}function py(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function bx(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function jO(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const JO=new Rt;class XO{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new mO,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new Op(this.options.manager):this.textureLoader=new VE(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ss(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const l={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:n,userData:{}};return Ou(s,l,r),ya(l,r),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const a=t[r].joints;for(let l=0,c=a.length;l<c;l++)e[a[l]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(a,l)=>{const c=this.associations.get(a);c!=null&&this.associations.set(l,c);for(const[d,p]of a.children.entries())s(p,l.children[d])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return n.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Zt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){n.load(Ll.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=hy[r.type],l=uh[r.componentType],c=r.normalized===!0,d=new l(r.count*a);return Promise.resolve(new hn(d,a,c))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],c=hy[r.type],d=uh[r.componentType],p=d.BYTES_PER_ELEMENT,g=p*c,v=r.byteOffset||0,y=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,_=r.normalized===!0;let C,S;if(y&&y!==g){const M=Math.floor(v/y),T="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+M+":"+r.count;let b=t.cache.get(T);b||(C=new d(l,M*y,r.count*y/p),b=new _p(C,y/p),t.cache.add(T,b)),S=new Ol(b,c,v%y/p,_)}else l===null?C=new d(r.count*c):C=new d(l,v,r.count*c),S=new hn(C,c,_);if(r.sparse!==void 0){const M=hy.SCALAR,T=uh[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,B=r.sparse.values.byteOffset||0,I=new T(a[1],b,r.sparse.count*M),F=new d(a[2],B,r.sparse.count*c);l!==null&&(S=new hn(S.array.slice(),S.itemSize,S.normalized));for(let G=0,U=I.length;G<U;G++){const D=I[G];if(S.setX(D,F[G*c]),c>=2&&S.setY(D,F[G*c+1]),c>=3&&S.setZ(D,F[G*c+2]),c>=4&&S.setW(D,F[G*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,a=t.images[s];let l=this.textureLoader;if(a.uri){const c=n.manager.getHandler(a.uri);c!==null&&(l=c)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,t,n){const r=this,s=this.json,a=s.textures[e],l=s.images[t],c=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const d=this.loadImageSource(t,n).then(function(p){p.flipY=!1,p.name=a.name||l.name||"",p.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(p.name=l.uri);const v=(s.samplers||{})[a.sampler]||{};return p.magFilter=dS[v.magFilter]||Hn,p.minFilter=dS[v.minFilter]||No,p.wrapS=pS[v.wrapS]||Nl,p.wrapT=pS[v.wrapT]||Nl,r.associations.set(p,{textures:e}),p}).catch(function(){return null});return this.textureCache[c]=d,d}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=r.images[e],l=self.URL||self.webkitURL;let c=a.uri||"",d=!1;if(a.bufferView!==void 0)c=n.getDependency("bufferView",a.bufferView).then(function(g){d=!0;const v=new Blob([g],{type:a.mimeType});return c=l.createObjectURL(v),c});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(c).then(function(g){return new Promise(function(v,y){let _=v;t.isImageBitmapLoader===!0&&(_=function(C){const S=new bn(C);S.needsUpdate=!0,v(S)}),t.load(Ll.resolveURL(g,s.path),_,void 0,y)})}).then(function(g){return d===!0&&l.revokeObjectURL(c),ya(g,a),g.userData.mimeType=a.mimeType||jO(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),g});return this.sourceCache[e]=p,p}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),s.extensions[Zt.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[Zt.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=s.associations.get(a);a=s.extensions[Zt.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),s.associations.set(a,c)}}return r!==void 0&&(typeof r=="number"&&(r=r===fS?$u:Ta),"colorSpace"in a?a.colorSpace=r:a.encoding=r===$u?fS:pO),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new Sp,gi.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(l,c)),n=c}else if(e.isLine){const l="LineBasicMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new ir,gi.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(l,c)),n=c}if(r||s||a){let l="ClonedMaterial:"+n.uuid+":";r&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=n.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return Np}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let a;const l={},c=s.extensions||{},d=[];if(c[Zt.KHR_MATERIALS_UNLIT]){const g=r[Zt.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),d.push(g.extendParams(l,s,t))}else{const g=s.pbrMetallicRoughness||{};if(l.color=new et(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const v=g.baseColorFactor;l.color.setRGB(v[0],v[1],v[2],Ta),l.opacity=v[3]}g.baseColorTexture!==void 0&&d.push(t.assignTexture(l,"map",g.baseColorTexture,$u)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),d.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=ws);const p=s.alphaMode||dy.OPAQUE;if(p===dy.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===dy.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==is&&(d.push(t.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Re(1,1),s.normalTexture.scale!==void 0)){const g=s.normalTexture.scale;l.normalScale.set(g,g)}if(s.occlusionTexture!==void 0&&a!==is&&(d.push(t.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==is){const g=s.emissiveFactor;l.emissive=new et().setRGB(g[0],g[1],g[2],Ta)}return s.emissiveTexture!==void 0&&a!==is&&d.push(t.assignTexture(l,"emissiveMap",s.emissiveTexture,$u)),Promise.all(d).then(function(){const g=new a(l);return s.name&&(g.name=s.name),ya(g,s),t.associations.set(g,{materials:e}),s.extensions&&Ou(r,g,s),g})}createUniqueName(e){const t=on.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(l){return n[Zt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(c){return mS(c,l,t)})}const a=[];for(let l=0,c=e.length;l<c;l++){const d=e[l],p=WO(d),g=r[p];if(g)a.push(g.promise);else{let v;d.extensions&&d.extensions[Zt.KHR_DRACO_MESH_COMPRESSION]?v=s(d):v=mS(new Ut,d,t),r[p]={primitive:d,promise:v},a.push(v)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],a=s.primitives,l=[];for(let c=0,d=a.length;c<d;c++){const p=a[c].material===void 0?GO(this.cache):this.getDependency("material",a[c].material);l.push(p)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(c){const d=c.slice(0,c.length-1),p=c[c.length-1],g=[];for(let y=0,_=p.length;y<_;y++){const C=p[y],S=a[y];let M;const T=d[y];if(S.mode===Ms.TRIANGLES||S.mode===Ms.TRIANGLE_STRIP||S.mode===Ms.TRIANGLE_FAN||S.mode===void 0)M=s.isSkinnedMesh===!0?new gA(C,T):new Si(C,T),M.isSkinnedMesh===!0&&M.normalizeSkinWeights(),S.mode===Ms.TRIANGLE_STRIP?M.geometry=lS(M.geometry,tA):S.mode===Ms.TRIANGLE_FAN&&(M.geometry=lS(M.geometry,Yg));else if(S.mode===Ms.LINES)M=new so(C,T);else if(S.mode===Ms.LINE_STRIP)M=new La(C,T);else if(S.mode===Ms.LINE_LOOP)M=new yA(C,T);else if(S.mode===Ms.POINTS)M=new xA(C,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(M.geometry.morphAttributes).length>0&&VO(M,s),M.name=t.createUniqueName(s.name||"mesh_"+e),ya(M,s),S.extensions&&Ou(r,M,S),t.assignFinalMaterial(M),g.push(M)}for(let y=0,_=g.length;y<_;y++)t.associations.set(g[y],{meshes:e,primitives:y});if(g.length===1)return s.extensions&&Ou(r,g[0],s),g[0];const v=new wa;s.extensions&&Ou(r,v,s),t.associations.set(v,{meshes:e});for(let y=0,_=g.length;y<_;y++)v.add(g[y]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new On(rA.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new eo(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),ya(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),a=r,l=[],c=[];for(let d=0,p=a.length;d<p;d++){const g=a[d];if(g){l.push(g);const v=new Rt;s!==null&&v.fromArray(s.array,d*16),c.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new Mp(l,c)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],l=[],c=[],d=[],p=[];for(let g=0,v=r.channels.length;g<v;g++){const y=r.channels[g],_=r.samplers[y.sampler],C=y.target,S=C.node,M=r.parameters!==void 0?r.parameters[_.input]:_.input,T=r.parameters!==void 0?r.parameters[_.output]:_.output;C.node!==void 0&&(a.push(this.getDependency("node",S)),l.push(this.getDependency("accessor",M)),c.push(this.getDependency("accessor",T)),d.push(_),p.push(C))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d),Promise.all(p)]).then(function(g){const v=g[0],y=g[1],_=g[2],C=g[3],S=g[4],M=[];for(let T=0,b=v.length;T<b;T++){const B=v[T],I=y[T],F=_[T],G=C[T],U=S[T];if(B===void 0)continue;B.updateMatrix&&B.updateMatrix();const D=n._createAnimationTracks(B,I,F,G,U);if(D)for(let k=0;k<D.length;k++)M.push(D[k])}return new vh(s,void 0,M)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const a=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let c=0,d=r.weights.length;c<d;c++)l.morphTargetInfluences[c]=r.weights[c]}),a})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),a=[],l=r.children||[];for(let d=0,p=l.length;d<p;d++)a.push(n.getDependency("node",l[d]));const c=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),c]).then(function(d){const p=d[0],g=d[1],v=d[2];v!==null&&p.traverse(function(y){y.isSkinnedMesh&&y.bind(v,JO)});for(let y=0,_=g.length;y<_;y++)p.add(g[y]);return p})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",l=[],c=r._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(r.getDependency("camera",s.camera).then(function(d){return r._getNodeRef(r.cameraCache,s.camera,d)})),r._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){l.push(d)}),this.nodeCache[e]=Promise.all(l).then(function(d){let p;if(s.isBone===!0?p=new M0:d.length>1?p=new wa:d.length===1?p=d[0]:p=new tn,p!==d[0])for(let g=0,v=d.length;g<v;g++)p.add(d[g]);if(s.name&&(p.userData.name=s.name,p.name=a),ya(p,s),s.extensions&&Ou(n,p,s),s.matrix!==void 0){const g=new Rt;g.fromArray(s.matrix),p.applyMatrix4(g)}else s.translation!==void 0&&p.position.fromArray(s.translation),s.rotation!==void 0&&p.quaternion.fromArray(s.rotation),s.scale!==void 0&&p.scale.fromArray(s.scale);return r.associations.has(p)||r.associations.set(p,{}),r.associations.get(p).nodes=e,p}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new wa;n.name&&(s.name=r.createUniqueName(n.name)),ya(s,n),n.extensions&&Ou(t,s,n);const a=n.nodes||[],l=[];for(let c=0,d=a.length;c<d;c++)l.push(r.getDependency("node",a[c]));return Promise.all(l).then(function(c){for(let p=0,g=c.length;p<g;p++)s.add(c[p]);const d=p=>{const g=new Map;for(const[v,y]of r.associations)(v instanceof gi||v instanceof bn)&&g.set(v,y);return p.traverse(v=>{const y=r.associations.get(v);y!=null&&g.set(v,y)}),g};return r.associations=d(s),s})}_createAnimationTracks(e,t,n,r,s){const a=[],l=e.name?e.name:e.uuid,c=[];Cl[s.path]===Cl.weights?e.traverse(function(v){v.morphTargetInfluences&&c.push(v.name?v.name:v.uuid)}):c.push(l);let d;switch(Cl[s.path]){case Cl.weights:d=hc;break;case Cl.rotation:d=kl;break;case Cl.position:case Cl.scale:d=dc;break;default:switch(n.itemSize){case 1:d=hc;break;case 2:case 3:default:d=dc;break}break}const p=r.interpolation!==void 0?zO[r.interpolation]:uc,g=this._getArrayFromAccessor(n);for(let v=0,y=c.length;v<y;v++){const _=new d(c[v]+"."+Cl[s.path],t.array,g,p);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(_),a.push(_)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=bx(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof kl?UO:gT;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function KO(i,e,t){const n=e.attributes,r=new io;if(n.POSITION!==void 0){const l=t.json.accessors[n.POSITION],c=l.min,d=l.max;if(c!==void 0&&d!==void 0){if(r.set(new V(c[0],c[1],c[2]),new V(d[0],d[1],d[2])),l.normalized){const p=bx(uh[l.componentType]);r.min.multiplyScalar(p),r.max.multiplyScalar(p)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new V,c=new V;for(let d=0,p=s.length;d<p;d++){const g=s[d];if(g.POSITION!==void 0){const v=t.json.accessors[g.POSITION],y=v.min,_=v.max;if(y!==void 0&&_!==void 0){if(c.setX(Math.max(Math.abs(y[0]),Math.abs(_[0]))),c.setY(Math.max(Math.abs(y[1]),Math.abs(_[1]))),c.setZ(Math.max(Math.abs(y[2]),Math.abs(_[2]))),v.normalized){const C=bx(uh[v.componentType]);c.multiplyScalar(C)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}i.boundingBox=r;const a=new ro;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=a}function mS(i,e,t){const n=e.attributes,r=[];function s(a,l){return t.getDependency("accessor",a).then(function(c){i.setAttribute(l,c)})}for(const a in n){const l=Tx[a]||a.toLowerCase();l in i.attributes||r.push(s(n[a],l))}if(e.indices!==void 0&&!i.index){const a=t.getDependency("accessor",e.indices).then(function(l){i.setIndex(l)});r.push(a)}return ya(i,e),KO(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?HO(i,e.targets,t):i})}class YO extends Ut{constructor(e,t,n,r){super();const s=[],a=[],l=[],c=new V,d=new Rt;d.makeRotationFromEuler(n),d.setPosition(t);const p=new Rt;p.copy(d).invert(),g(),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(l,2));function g(){let C,S=[];const M=new V,T=new V;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const b=e.geometry,B=b.attributes.position,I=b.attributes.normal;if(b.index!==null){const F=b.index;for(C=0;C<F.count;C++)M.fromBufferAttribute(B,F.getX(C)),T.fromBufferAttribute(I,F.getX(C)),v(S,M,T)}else for(C=0;C<B.count;C++)M.fromBufferAttribute(B,C),T.fromBufferAttribute(I,C),v(S,M,T);for(S=y(S,c.set(1,0,0)),S=y(S,c.set(-1,0,0)),S=y(S,c.set(0,1,0)),S=y(S,c.set(0,-1,0)),S=y(S,c.set(0,0,1)),S=y(S,c.set(0,0,-1)),C=0;C<S.length;C++){const F=S[C];l.push(.5+F.position.x/r.x,.5+F.position.y/r.y),F.position.applyMatrix4(d),s.push(F.position.x,F.position.y,F.position.z),a.push(F.normal.x,F.normal.y,F.normal.z)}}function v(C,S,M){S.applyMatrix4(e.matrixWorld),S.applyMatrix4(p),M.transformDirection(e.matrixWorld),C.push(new gS(S.clone(),M.clone()))}function y(C,S){const M=[],T=.5*Math.abs(r.dot(S));for(let b=0;b<C.length;b+=3){let B,I,F,G=0,U,D,k,Q;const re=C[b+0].position.dot(S)-T,Z=C[b+1].position.dot(S)-T,te=C[b+2].position.dot(S)-T;switch(B=re>0,I=Z>0,F=te>0,G=(B?1:0)+(I?1:0)+(F?1:0),G){case 0:{M.push(C[b]),M.push(C[b+1]),M.push(C[b+2]);break}case 1:{if(B&&(U=C[b+1],D=C[b+2],k=_(C[b],U,S,T),Q=_(C[b],D,S,T)),I){U=C[b],D=C[b+2],k=_(C[b+1],U,S,T),Q=_(C[b+1],D,S,T),M.push(k),M.push(D.clone()),M.push(U.clone()),M.push(D.clone()),M.push(k.clone()),M.push(Q);break}F&&(U=C[b],D=C[b+1],k=_(C[b+2],U,S,T),Q=_(C[b+2],D,S,T)),M.push(U.clone()),M.push(D.clone()),M.push(k),M.push(Q),M.push(k.clone()),M.push(D.clone());break}case 2:{B||(U=C[b].clone(),D=_(U,C[b+1],S,T),k=_(U,C[b+2],S,T),M.push(U),M.push(D),M.push(k)),I||(U=C[b+1].clone(),D=_(U,C[b+2],S,T),k=_(U,C[b],S,T),M.push(U),M.push(D),M.push(k)),F||(U=C[b+2].clone(),D=_(U,C[b],S,T),k=_(U,C[b+1],S,T),M.push(U),M.push(D),M.push(k));break}}}return M}function _(C,S,M,T){const b=C.position.dot(M)-T,B=S.position.dot(M)-T,I=b/(b-B);return new gS(new V(C.position.x+I*(S.position.x-C.position.x),C.position.y+I*(S.position.y-C.position.y),C.position.z+I*(S.position.z-C.position.z)),new V(C.normal.x+I*(S.normal.x-C.normal.x),C.normal.y+I*(S.normal.y-C.normal.y),C.normal.z+I*(S.normal.z-C.normal.z)))}}}class gS{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const my=new WeakMap;class QO extends vr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new ss(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const d=t.attributeTypes[c];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=d.name)}const n=JSON.stringify(t);if(my.has(e)){const c=my.get(e);if(c.key===n)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(s,a).then(c=>(r=c,new Promise((d,p)=>{r._callbacks[s]={resolve:d,reject:p},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),my.set(e,{key:n,promise:l}),l}_createGeometry(e){const t=new Ut;e.index&&t.setIndex(new hn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,a=r.array,l=r.itemSize;t.setAttribute(s,new hn(a,l))}return t}_loadLibrary(e,t){const n=new ss(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=qO.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qO(){let i,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":i=l.decoderConfig,e=new Promise(function(p){i.onModuleLoaded=function(g){p({draco:g})},DracoDecoderModule(i)});break;case"decode":const c=l.buffer,d=l.taskConfig;e.then(p=>{const g=p.draco,v=new g.Decoder,y=new g.DecoderBuffer;y.Init(new Int8Array(c),c.byteLength);try{const _=t(g,v,y,d),C=_.attributes.map(S=>S.array.buffer);_.index&&C.push(_.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:_},C)}catch(_){console.error(_),self.postMessage({type:"error",id:l.id,error:_.message})}finally{g.destroy(y),g.destroy(v)}});break}};function t(a,l,c,d){const p=d.attributeIDs,g=d.attributeTypes;let v,y;const _=l.GetEncodedGeometryType(c);if(_===a.TRIANGULAR_MESH)v=new a.Mesh,y=l.DecodeBufferToMesh(c,v);else if(_===a.POINT_CLOUD)v=new a.PointCloud,y=l.DecodeBufferToPointCloud(c,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const C={index:null,attributes:[]};for(const S in p){const M=self[g[S]];let T,b;if(d.useUniqueIDs)b=p[S],T=l.GetAttributeByUniqueId(v,b);else{if(b=l.GetAttributeId(v,a[p[S]]),b===-1)continue;T=l.GetAttribute(v,b)}C.attributes.push(r(a,l,v,S,M,T))}return _===a.TRIANGULAR_MESH&&(C.index=n(a,l,v)),a.destroy(v),C}function n(a,l,c){const p=c.num_faces()*3,g=p*4,v=a._malloc(g);l.GetTrianglesUInt32Array(c,g,v);const y=new Uint32Array(a.HEAPF32.buffer,v,p).slice();return a._free(v),{array:y,itemSize:1}}function r(a,l,c,d,p,g){const v=g.num_components(),_=c.num_points()*v,C=_*p.BYTES_PER_ELEMENT,S=s(a,p),M=a._malloc(C);l.GetAttributeDataArrayForAllPoints(c,g,S,C,M);const T=new p(a.HEAPF32.buffer,M,_).slice();return a._free(M),{name:d,array:T,itemSize:v}}function s(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let Lg;const gy=()=>{if(Lg)return Lg;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const a=WebAssembly.instantiate(l(r),{}).then(g=>{s=g.instance,s.exports.__wasm_call_ctors()});function l(g){const v=new Uint8Array(g.length);for(let _=0;_<g.length;++_){const C=g.charCodeAt(_);v[_]=C>96?C-71:C>64?C-65:C>47?C+4:C>46?63:62}let y=0;for(let _=0;_<g.length;++_)v[y++]=v[_]<60?n[v[_]]:(v[_]-60)*64+v[++_];return v.buffer.slice(0,y)}function c(g,v,y,_,C,S){const M=s.exports.sbrk,T=y+3&-4,b=M(T*_),B=M(C.length),I=new Uint8Array(s.exports.memory.buffer);I.set(C,B);const F=g(b,y,_,B,C.length);if(F===0&&S&&S(b,T,_),v.set(I.subarray(b,b+y*_)),M(b-M(0)),F!==0)throw new Error(`Malformed buffer data: ${F}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},p={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Lg={ready:a,supported:!0,decodeVertexBuffer(g,v,y,_,C){c(s.exports.meshopt_decodeVertexBuffer,g,v,y,_,s.exports[d[C]])},decodeIndexBuffer(g,v,y,_){c(s.exports.meshopt_decodeIndexBuffer,g,v,y,_)},decodeIndexSequence(g,v,y,_){c(s.exports.meshopt_decodeIndexSequence,g,v,y,_)},decodeGltfBuffer(g,v,y,_,C,S){c(s.exports[p[C]],g,v,y,_,s.exports[d[S]])}},Lg},vy=i=>i===Object(i)&&!Array.isArray(i)&&typeof i!="function";function jA(i,e){const t=ts(s=>s.gl),n=Wl(Op,vy(i)?Object.values(i):i);return q.useLayoutEffect(()=>{e?.(n)},[e]),q.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(n)?s=n:n instanceof bn?s=[n]:vy(n)&&(s=Object.values(n)),s.forEach(a=>{a instanceof bn&&t.initTexture(a)})}},[t,n]),q.useMemo(()=>{if(vy(i)){const s={};let a=0;for(const l in i)s[l]=n[a++];return s}else return n},[i,n])}jA.preload=i=>Wl.preload(Op,i);jA.clear=i=>Wl.clear(Op,i);const ZO=()=>parseInt(_h.replace(/\D+/g,"")),vT=ZO();function $O(i){return Array.isArray(i)}function yy(i=[0,0,0]){return $O(i)?i:i instanceof V||i instanceof gc?[i.x,i.y,i.z]:[i,i,i]}const ek=q.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:n=-10,map:r,mesh:s,children:a,position:l,rotation:c,scale:d,...p},g){const v=q.useRef(null);q.useImperativeHandle(g,()=>v.current);const y=q.useRef(null),_=q.useRef({position:new V,rotation:new gc,scale:new V(1,1,1)});return q.useLayoutEffect(()=>{const C=s?.current||v.current.parent,S=v.current;if(!(C instanceof Si))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(C){Ma(_.current,{position:l,scale:d});const M=C.matrixWorld.clone();if(C.matrixWorld.identity(),!c||typeof c=="number"){const T=new tn;T.position.copy(_.current.position);const b=C.geometry.attributes.position.array;C.geometry.attributes.normal===void 0&&C.geometry.computeVertexNormals();const B=C.geometry.attributes.normal.array;let I=1/0;new V;let F=new V;const G=T.position.x,U=T.position.y,D=T.position.z,k=b.length;let Q=-1;for(let re=0;re<k;re+=3){const Z=b[re],te=b[re+1],se=b[re+2],ve=Z-G,de=te-U,z=se-D,Y=ve*ve+de*de+z*z;Y<I&&(I=Y,Q=re)}F.fromArray(B,Q),T.lookAt(T.position.clone().add(F)),T.rotateZ(Math.PI),T.rotateY(Math.PI),typeof c=="number"&&T.rotateZ(c),Ma(_.current,{rotation:T.rotation})}else Ma(_.current,{rotation:c});return S.geometry=new YO(C,_.current.position,_.current.rotation,_.current.scale),C.matrixWorld=M,()=>{S.geometry.dispose()}}},[s,...yy(l),...yy(d),...yy(c)]),q.useLayoutEffect(()=>{y.current&&(Ma(y.current,_.current),y.current.traverse(C=>C.raycast=()=>null))},[e]),q.createElement("mesh",Cs({ref:v,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":n,"material-depthTest":t,"material-map":r},p),a,e&&q.createElement("mesh",{ref:y},q.createElement("boxGeometry",null),q.createElement("meshNormalMaterial",{wireframe:!0}),q.createElement("axesHelper",null)))});let Ig=null,yT="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function xT(i=!0,e=!0,t){return n=>{t&&t(n),i&&(Ig||(Ig=new QO),Ig.setDecoderPath(typeof i=="string"?i:yT),n.setDRACOLoader(Ig)),e&&n.setMeshoptDecoder(typeof gy=="function"?gy():gy)}}const zp=(i,e,t,n)=>Wl(WA,i,xT(e,t,n));zp.preload=(i,e,t,n)=>Wl.preload(WA,i,xT(e,t,n));zp.clear=i=>Wl.clear(WA,i);zp.setDecoderPath=i=>{yT=i};const JA=q.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:l,onEnd:c,...d},p)=>{const g=ts(F=>F.invalidate),v=ts(F=>F.camera),y=ts(F=>F.gl),_=ts(F=>F.events),C=ts(F=>F.setEvents),S=ts(F=>F.set),M=ts(F=>F.get),T=ts(F=>F.performance),b=e||v,B=n||_.connected||y.domElement,I=q.useMemo(()=>new dO(b),[b]);return Bh(()=>{I.enabled&&I.update()},-1),q.useEffect(()=>(s&&I.connect(s===!0?B:s),I.connect(B),()=>void I.dispose()),[s,B,t,I,g]),q.useEffect(()=>{const F=D=>{g(),t&&T.regress(),a&&a(D)},G=D=>{l&&l(D)},U=D=>{c&&c(D)};return I.addEventListener("change",F),I.addEventListener("start",G),I.addEventListener("end",U),()=>{I.removeEventListener("start",G),I.removeEventListener("end",U),I.removeEventListener("change",F)}},[a,l,c,I,g,C]),q.useEffect(()=>{if(i){const F=M().controls;return S({controls:I}),()=>S({controls:F})}},[i,I]),q.createElement("primitive",Cs({ref:p,object:I,enableDamping:r},d))});var xy={exports:{}},Ay,vS;function tk(){if(vS)return Ay;vS=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ay=i,Ay}var _y,yS;function nk(){if(yS)return _y;yS=1;var i=tk();function e(){}function t(){}return t.resetWarningCache=e,_y=function(){function n(a,l,c,d,p,g){if(g!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},_y}var xS;function AT(){return xS||(xS=1,xy.exports=nk()()),xy.exports}const My=vT>=154?"opaque_fragment":"output_fragment";class ik extends Sp{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:r}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${My}>`,`
        ${r?`#include <${My}>`:`#extension GL_OES_standard_derivatives : enable
#include <${My}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${vT>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const rk=q.forwardRef((i,e)=>{const[t]=q.useState(()=>new ik(null));return q.createElement("primitive",Cs({},i,{object:t,ref:e,attach:"material"}))}),sk=q.forwardRef(({children:i,enabled:e=!0,speed:t=1,rotationIntensity:n=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:a=!1,...l},c)=>{const d=q.useRef(null);q.useImperativeHandle(c,()=>d.current,[]);const p=q.useRef(Math.random()*1e4);return Bh(g=>{var v,y;if(!e||t===0)return;a&&g.invalidate();const _=p.current+g.clock.elapsedTime;d.current.rotation.x=Math.cos(_/4*t)/8*n,d.current.rotation.y=Math.sin(_/4*t)/8*n,d.current.rotation.z=Math.sin(_/4*t)/20*n;let C=Math.sin(_/4*t)/10;C=rA.mapLinear(C,-.1,.1,(v=s?.[0])!==null&&v!==void 0?v:-.1,(y=s?.[1])!==null&&y!==void 0?y:.1),d.current.position.y=C*r,d.current.updateMatrix()}),q.createElement("group",l,q.createElement("group",{ref:d,matrixAutoUpdate:!1},i))});let ku,Dd;const ok=q.createContext(null),AS=new Rt,_S=new V,ak=q.forwardRef(({children:i,range:e,limit:t=1e3,...n},r)=>{const s=q.useRef(null);q.useImperativeHandle(r,()=>s.current,[]);const[a,l]=q.useState([]),[[c,d,p]]=q.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);q.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Bh(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),AS.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,a.length),ku=0;ku<a.length;ku++)Dd=a[ku].current,Dd.getWorldPosition(_S).applyMatrix4(AS),_S.toArray(c,ku*3),s.current.geometry.attributes.position.needsUpdate=!0,Dd.matrixWorldNeedsUpdate=!0,Dd.color.toArray(d,ku*3),s.current.geometry.attributes.color.needsUpdate=!0,p.set([Dd.size],ku),s.current.geometry.attributes.size.needsUpdate=!0});const g=q.useMemo(()=>({getParent:()=>s,subscribe:v=>(l(y=>[...y,v]),()=>l(y=>y.filter(_=>_.current!==v.current)))}),[]);return q.createElement("points",Cs({userData:{instances:a},matrixAutoUpdate:!1,ref:s,raycast:()=>null},n),q.createElement("bufferGeometry",null,q.createElement("bufferAttribute",{attach:"attributes-position",count:c.length/3,array:c,itemSize:3,usage:ic}),q.createElement("bufferAttribute",{attach:"attributes-color",count:d.length/3,array:d,itemSize:3,usage:ic}),q.createElement("bufferAttribute",{attach:"attributes-size",count:p.length,array:p,itemSize:1,usage:ic})),q.createElement(ok.Provider,{value:g},i))}),lk=q.forwardRef(({children:i,positions:e,colors:t,sizes:n,stride:r=3,...s},a)=>{const l=q.useRef(null);return q.useImperativeHandle(a,()=>l.current,[]),Bh(()=>{const c=l.current.geometry.attributes;c.position.needsUpdate=!0,t&&(c.color.needsUpdate=!0),n&&(c.size.needsUpdate=!0)}),q.createElement("points",Cs({ref:l},s),q.createElement("bufferGeometry",null,q.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:ic}),t&&q.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:ic}),n&&q.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/r,array:n,itemSize:1,usage:ic})),i)}),uk=q.forwardRef((i,e)=>i.positions instanceof Float32Array?q.createElement(lk,Cs({},i,{ref:e})):q.createElement(ak,Cs({},i,{ref:e})));function _T({all:i,scene:e,camera:t}){const n=ts(({gl:a})=>a),r=ts(({camera:a})=>a),s=ts(({scene:a})=>a);return q.useLayoutEffect(()=>{const a=[];i&&(e||s).traverse(d=>{d.visible===!1&&(a.push(d),d.visible=!0)}),n.compile(e||s,t||r);const l=new cA(128);new uA(.01,1e5,l).update(n,e||s),l.dispose(),a.forEach(d=>d.visible=!1)},[]),null}const XA=()=>{const{progress:i}=rO();return he.jsxs($N,{children:[he.jsx("span",{className:"canvas-load"}),he.jsxs("p",{style:{fontSize:14,color:"f1f1f1",fontWeight:800,marginTop:40},children:[i.toFixed(2),"%"]})]})},ck=()=>{const i=zp("./planet/scene.gltf");return he.jsx("primitive",{object:i.scene,scale:2.5,"position-y":0,"rotation-y":0})},fk=()=>he.jsxs(b0,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:[he.jsxs(q.Suspense,{fallback:he.jsx(XA,{}),children:[he.jsx(JA,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),he.jsx(ck,{})]}),he.jsx(_T,{all:!0})]}),hk=i=>{const[e]=jA([i.imgUrl]);return he.jsxs(sk,{speed:1.75,rotationIntensity:1,children:[he.jsx("ambientLight",{intensity:.25}),he.jsx("directionalLight",{position:[0,0,.05]}),he.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[he.jsx("icosahedronGeometry",{args:[1,1]}),he.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffsetpolygonOffsetFactor:-5,flatShading:!0}),he.jsx(ek,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],flatShading:!0,map:e})]})]})},dk=({icon:i})=>he.jsxs(b0,{gl:{preserveDrawingBuffer:!0},children:[he.jsxs(q.Suspense,{fallback:he.jsx(XA,{}),children:[he.jsx(JA,{enableZoom:!1}),he.jsx(hk,{imgUrl:i})]}),he.jsx(_T,{all:!0})]}),pk=()=>{const i=zp("./desktop_pc/scene.gltf");return he.jsxs("mesh",{children:[he.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),he.jsx("pointLight",{intensity:1}),he.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize-width":1024}),he.jsx("primitive",{object:i.scene,scale:.55,position:[0,-3,-2.5],rotation:[-.01,-.2,-.1]})]})},mk=()=>he.jsx(b0,{frameloop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:he.jsxs(q.Suspense,{fallback:he.jsx(XA,{}),children:[he.jsx(JA,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),he.jsx(pk,{})]})});function ch(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function MS(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function SS(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(t),!0).forEach(function(n){ch(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):MS(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function MT(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}new Re;new Re;var As=function i(e,t,n){var r=this;MT(this,i),ch(this,"dot2",function(s,a){return r.x*s+r.y*a}),ch(this,"dot3",function(s,a,l){return r.x*s+r.y*a+r.z*l}),this.x=e,this.y=t,this.z=n},gk=[new As(1,1,0),new As(-1,1,0),new As(1,-1,0),new As(-1,-1,0),new As(1,0,1),new As(-1,0,1),new As(1,0,-1),new As(-1,0,-1),new As(0,1,1),new As(0,-1,1),new As(0,1,-1),new As(0,-1,-1)],wS=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],CS=new Array(512),ES=new Array(512),vk=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=wS[t]^e&255:n=wS[t]^e>>8&255,CS[t]=CS[t+256]=n,ES[t]=ES[t+256]=gk[n%12]}};vk(0);function yk(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function TS(i){var e=yk(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var xk=function i(e){var t=this;MT(this,i),ch(this,"seed",0),ch(this,"init",function(n){t.seed=n,t.value=TS(n)}),ch(this,"value",TS(this.seed)),this.init(e)},Ak=new xk(Math.random()),_k={radius:1,center:[0,0,0]};function Mk(i,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ak,n=SS(SS({},_k),e),r=n.radius,s=n.center,a=0;a<i.length;a+=3){var l=Math.pow(t.value(),.3333333333333333),c=t.value()*2-1,d=t.value()*2-1,p=t.value()*2-1,g=Math.sqrt(c*c+d*d+p*p);c=l*c/g,d=l*d/g,p=l*p/g,i[a]=c*r+s[0],i[a+1]=d*r+s[1],i[a+2]=p*r+s[2]}return i}const Sk=i=>{const e=q.useRef(),t=Mk(new Float32Array(5e3),{radius:1.2});return Bh((n,r)=>{e.current.rotation.x-=r/10,e.current.rotation.x-=r/15}),he.jsx("group",{rotation:[0,0,Math.PI/4],children:he.jsx(uk,{ref:e,positions:t,stride:3,frustumCulled:!0,...i,children:he.jsx(rk,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},wk=()=>{const i=window.innerWidth<=768;return he.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:he.jsx(b0,{camera:{position:[0,0,1]},children:he.jsx(q.Suspense,{fallback:null,children:!i&&he.jsx(Sk,{})})})})},ST=q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),P0=q.createContext({}),KA=q.createContext(null),B0=typeof document<"u",bS=B0?q.useLayoutEffect:q.useEffect,wT=q.createContext({strict:!1});function Ck(i,e,t,n){const{visualElement:r}=q.useContext(P0),s=q.useContext(wT),a=q.useContext(KA),l=q.useContext(ST).reducedMotion,c=q.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(i,{visualState:e,parent:r,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;return q.useInsertionEffect(()=>{d&&d.update(t,a)}),bS(()=>{d&&d.render()}),q.useEffect(()=>{d&&d.updateFeatures()}),(window.HandoffAppearAnimations?bS:q.useEffect)(()=>{d&&d.animationState&&d.animationState.animateChanges()}),d}function ih(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function Ek(i,e,t){return q.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ih(t)&&(t.current=n))},[e])}function hp(i){return typeof i=="string"||Array.isArray(i)}function R0(i){return typeof i=="object"&&typeof i.start=="function"}const YA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QA=["initial",...YA];function L0(i){return R0(i.animate)||QA.some(e=>hp(i[e]))}function CT(i){return!!(L0(i)||i.variants)}function Tk(i,e){if(L0(i)){const{initial:t,animate:n}=i;return{initial:t===!1||hp(t)?t:void 0,animate:hp(n)?n:void 0}}return i.inherit!==!1?e:{}}function bk(i){const{initial:e,animate:t}=Tk(i,q.useContext(P0));return q.useMemo(()=>({initial:e,animate:t}),[PS(e),PS(t)])}function PS(i){return Array.isArray(i)?i.join(" "):i}const BS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dp={};for(const i in BS)dp[i]={isEnabled:e=>BS[i].some(t=>!!e[t])};function Pk(i){for(const e in i)dp[e]={...dp[e],...i[e]}}function ET(i){const e=q.useRef(null);return e.current===null&&(e.current=i()),e.current}const Kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bk=1;function Rk(){return ET(()=>{if(Kd.hasEverUpdated)return Bk++})}const TT=q.createContext({}),bT=q.createContext({}),Lk=Symbol.for("motionComponentSymbol");function Ik({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&Pk(i);function s(l,c){let d;const p={...q.useContext(ST),...l,layoutId:Dk(l)},{isStatic:g}=p,v=bk(l),y=g?void 0:Rk(),_=n(l,g);if(!g&&B0){v.visualElement=Ck(r,_,p,e);const C=q.useContext(bT),S=q.useContext(wT).strict;v.visualElement&&(d=v.visualElement.loadFeatures(p,S,i,y,C))}return q.createElement(P0.Provider,{value:v},d&&v.visualElement?q.createElement(d,{visualElement:v.visualElement,...p}):null,t(r,l,y,Ek(_,v.visualElement,c),_,g,v.visualElement))}const a=q.forwardRef(s);return a[Lk]=r,a}function Dk({layoutId:i}){const e=q.useContext(TT).id;return e&&i!==void 0?e+"-"+i:i}function Fk(i){function e(n,r={}){return Ik(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const Nk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qA(i){return typeof i!="string"||i.includes("-")?!1:!!(Nk.indexOf(i)>-1||/[A-Z]/.test(i))}const e0={};function Ok(i){Object.assign(e0,i)}const I0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ac=new Set(I0);function PT(i,{layout:e,layoutId:t}){return Ac.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!e0[i]||i==="opacity")}const kr=i=>!!(i&&i.getVelocity),kk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uk=I0.length;function zk(i,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,r){let s="";for(let a=0;a<Uk;a++){const l=I0[a];if(i[l]!==void 0){const c=kk[l]||l;s+=`${c}(${i[l]}) `}}return e&&!i.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(i,n?"":s):t&&n&&(s="none"),s}const BT=i=>e=>typeof e=="string"&&e.startsWith(i),RT=BT("--"),Px=BT("var(--"),Gk=(i,e)=>e&&typeof i=="number"?e.transform(i):i,mc=(i,e,t)=>Math.min(Math.max(t,i),e),_c={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Yd={..._c,transform:i=>mc(0,1,i)},Dg={..._c,default:1},Qd=i=>Math.round(i*1e5)/1e5,pp=/(-)?([\d]*\.?[\d])+/g,Bx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Hk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gp(i){return typeof i=="string"}const Hp=i=>({test:e=>Gp(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),El=Hp("deg"),Do=Hp("%"),Bt=Hp("px"),Vk=Hp("vh"),Wk=Hp("vw"),RS={...Do,parse:i=>Do.parse(i)/100,transform:i=>Do.transform(i*100)},LS={..._c,transform:Math.round},LT={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:El,rotateX:El,rotateY:El,rotateZ:El,scale:Dg,scaleX:Dg,scaleY:Dg,scaleZ:Dg,skew:El,skewX:El,skewY:El,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Yd,originX:RS,originY:RS,originZ:Bt,zIndex:LS,fillOpacity:Yd,strokeOpacity:Yd,numOctaves:LS};function ZA(i,e,t,n){const{style:r,vars:s,transform:a,transformOrigin:l}=i;let c=!1,d=!1,p=!0;for(const g in e){const v=e[g];if(RT(g)){s[g]=v;continue}const y=LT[g],_=Gk(v,y);if(Ac.has(g)){if(c=!0,a[g]=_,!p)continue;v!==(y.default||0)&&(p=!1)}else g.startsWith("origin")?(d=!0,l[g]=_):r[g]=_}if(e.transform||(c||n?r.transform=zk(i.transform,t,p,n):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:v="50%",originZ:y=0}=l;r.transformOrigin=`${g} ${v} ${y}`}}const $A=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IT(i,e,t){for(const n in e)!kr(e[n])&&!PT(n,t)&&(i[n]=e[n])}function jk({transformTemplate:i},e,t){return q.useMemo(()=>{const n=$A();return ZA(n,e,{enableHardwareAcceleration:!t},i),Object.assign({},n.vars,n.style)},[e])}function Jk(i,e,t){const n=i.style||{},r={};return IT(r,n,i),Object.assign(r,jk(i,e,t)),i.transformValues?i.transformValues(r):r}function Xk(i,e,t){const n={},r=Jk(i,e,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const Kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function t0(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||Kk.has(i)}let DT=i=>!t0(i);function Yk(i){i&&(DT=e=>e.startsWith("on")?!t0(e):i(e))}try{Yk(require("@emotion/is-prop-valid").default)}catch{}function Qk(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(DT(r)||t===!0&&t0(r)||!e&&!t0(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function IS(i,e,t){return typeof i=="string"?i:Bt.transform(e+t*i)}function qk(i,e,t){const n=IS(e,i.x,i.width),r=IS(t,i.y,i.height);return`${n} ${r}`}const Zk={offset:"stroke-dashoffset",array:"stroke-dasharray"},$k={offset:"strokeDashoffset",array:"strokeDasharray"};function eU(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?Zk:$k;i[s.offset]=Bt.transform(-n);const a=Bt.transform(e),l=Bt.transform(t);i[s.array]=`${a} ${l}`}function e_(i,{attrX:e,attrY:t,originX:n,originY:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,p,g){if(ZA(i,c,d,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:v,style:y,dimensions:_}=i;v.transform&&(_&&(y.transform=v.transform),delete v.transform),_&&(n!==void 0||r!==void 0||y.transform)&&(y.transformOrigin=qk(_,n!==void 0?n:.5,r!==void 0?r:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),s!==void 0&&eU(v,s,a,l,!1)}const FT=()=>({...$A(),attrs:{}}),t_=i=>typeof i=="string"&&i.toLowerCase()==="svg";function tU(i,e,t,n){const r=q.useMemo(()=>{const s=FT();return e_(s,e,{enableHardwareAcceleration:!1},t_(n),i.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};IT(s,i.style,i),r.style={...s,...r.style}}return r}function nU(i=!1){return(t,n,r,s,{latestValues:a},l)=>{const d=(qA(t)?tU:Xk)(n,a,l,t),g={...Qk(n,typeof t=="string",i),...d,ref:s},{children:v}=n,y=q.useMemo(()=>kr(v)?v.get():v,[v]);return r&&(g["data-projection-id"]=r),q.createElement(t,{...g,children:y})}}const n_=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function NT(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}const OT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kT(i,e,t,n){NT(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(OT.has(r)?r:n_(r),e.attrs[r])}function i_(i,e){const{style:t}=i,n={};for(const r in t)(kr(t[r])||e.style&&kr(e.style[r])||PT(r,i))&&(n[r]=t[r]);return n}function UT(i,e){const t=i_(i,e);for(const n in i)if(kr(i[n])||kr(e[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=i[n]}return t}function r_(i,e,t,n={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),e}const n0=i=>Array.isArray(i),iU=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),rU=i=>n0(i)?i[i.length-1]||0:i;function Jg(i){const e=kr(i)?i.get():i;return iU(e)?e.toValue():e}function sU({scrapeMotionValuesFromProps:i,createRenderState:e,onMount:t},n,r,s){const a={latestValues:oU(n,r,s,i),renderState:e()};return t&&(a.mount=l=>t(n,l,a)),a}const zT=i=>(e,t)=>{const n=q.useContext(P0),r=q.useContext(KA),s=()=>sU(i,e,n,r);return t?s():ET(s)};function oU(i,e,t,n){const r={},s=n(i,{});for(const v in s)r[v]=Jg(s[v]);let{initial:a,animate:l}=i;const c=L0(i),d=CT(i);e&&d&&!c&&i.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||a===!1;const g=p?l:a;return g&&typeof g!="boolean"&&!R0(g)&&(Array.isArray(g)?g:[g]).forEach(y=>{const _=r_(i,y);if(!_)return;const{transitionEnd:C,transition:S,...M}=_;for(const T in M){let b=M[T];if(Array.isArray(b)){const B=p?b.length-1:0;b=b[B]}b!==null&&(r[T]=b)}for(const T in C)r[T]=C[T]}),r}const aU={useVisualState:zT({scrapeMotionValuesFromProps:UT,createRenderState:FT,onMount:(i,e,{renderState:t,latestValues:n})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}e_(t,n,{enableHardwareAcceleration:!1},t_(e.tagName),i.transformTemplate),kT(e,t)}})},lU={useVisualState:zT({scrapeMotionValuesFromProps:i_,createRenderState:$A})};function uU(i,{forwardMotionProps:e=!1},t,n){return{...qA(i)?aU:lU,preloadedFeatures:t,useRender:nU(e),createVisualElement:n,Component:i}}function Ca(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const GT=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function D0(i,e="page"){return{point:{x:i[e+"X"],y:i[e+"Y"]}}}const cU=i=>e=>GT(e)&&i(e,D0(e));function ba(i,e,t,n){return Ca(i,e,cU(t),n)}const fU=(i,e)=>t=>e(i(t)),Il=(...i)=>i.reduce(fU);function HT(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const DS=HT("dragHorizontal"),FS=HT("dragVertical");function VT(i){let e=!1;if(i==="y")e=FS();else if(i==="x")e=DS();else{const t=DS(),n=FS();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function WT(){const i=VT(!0);return i?(i(),!1):!0}class jl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hU(i){let e=[],t=[],n=0,r=!1,s=!1;const a=new WeakSet,l={schedule:(c,d=!1,p=!1)=>{const g=p&&r,v=g?e:t;return d&&a.add(c),v.indexOf(c)===-1&&(v.push(c),g&&r&&(n=e.length)),c},cancel:c=>{const d=t.indexOf(c);d!==-1&&t.splice(d,1),a.delete(c)},process:c=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,n=e.length,n)for(let d=0;d<n;d++){const p=e[d];p(c),a.has(p)&&(l.schedule(p),i())}r=!1,s&&(s=!1,l.process(c))}};return l}const nr={delta:0,timestamp:0,isProcessing:!1},dU=40;let Rx=!0,mp=!1;const Vp=["read","update","preRender","render","postRender"],F0=Vp.reduce((i,e)=>(i[e]=hU(()=>mp=!0),i),{}),jn=Vp.reduce((i,e)=>{const t=F0[e];return i[e]=(n,r=!1,s=!1)=>(mp||mU(),t.schedule(n,r,s)),i},{}),Ul=Vp.reduce((i,e)=>(i[e]=F0[e].cancel,i),{}),Sy=Vp.reduce((i,e)=>(i[e]=()=>F0[e].process(nr),i),{}),pU=i=>F0[i].process(nr),jT=i=>{mp=!1,nr.delta=Rx?1e3/60:Math.max(Math.min(i-nr.timestamp,dU),1),nr.timestamp=i,nr.isProcessing=!0,Vp.forEach(pU),nr.isProcessing=!1,mp&&(Rx=!1,requestAnimationFrame(jT))},mU=()=>{mp=!0,Rx=!0,nr.isProcessing||requestAnimationFrame(jT)};function NS(i,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),r=(s,a)=>{if(s.type==="touch"||WT())return;const l=i.getProps();i.animationState&&l.whileHover&&i.animationState.setActive("whileHover",e),l[n]&&jn.update(()=>l[n](s,a))};return ba(i.current,t,r,{passive:!i.getProps()[n]})}class gU extends jl{mount(){this.unmount=Il(NS(this.node,!0),NS(this.node,!1))}unmount(){}}class vU extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Il(Ca(this.node.current,"focus",()=>this.onFocus()),Ca(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JT=(i,e)=>e?i===e?!0:JT(i,e.parentElement):!1,ji=i=>i;function wy(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,D0(t))}class yU extends jl{constructor(){super(...arguments),this.removeStartListeners=ji,this.removeEndListeners=ji,this.removeAccessibleListeners=ji,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=ba(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:p}=this.node.getProps();jn.update(()=>{JT(this.node.current,l.target)?d&&d(l,c):p&&p(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=ba(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Il(s,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||wy("up",(c,d)=>{const{onTap:p}=this.node.getProps();p&&jn.update(()=>p(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ca(this.node.current,"keyup",a),wy("down",(l,c)=>{this.startPress(l,c)})},t=Ca(this.node.current,"keydown",e),n=()=>{this.isPressing&&wy("cancel",(s,a)=>this.cancelPress(s,a))},r=Ca(this.node.current,"blur",n);this.removeAccessibleListeners=Il(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&jn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!WT()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&jn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=ba(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ca(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Il(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Lx=new WeakMap,Cy=new WeakMap,xU=i=>{const e=Lx.get(i.target);e&&e(i)},AU=i=>{i.forEach(xU)};function _U({root:i,...e}){const t=i||document;Cy.has(t)||Cy.set(t,{});const n=Cy.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(AU,{root:i,...e})),n[r]}function MU(i,e,t){const n=_U(e);return Lx.set(i,t),n.observe(i),()=>{Lx.delete(i),n.unobserve(i)}}const SU={some:0,all:1};class wU extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:SU[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=d?p:g;v&&v(c)};return MU(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(CU(e,t))&&this.startObserver()}unmount(){}}function CU({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const EU={inView:{Feature:wU},tap:{Feature:yU},focus:{Feature:vU},hover:{Feature:gU}};function XT(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}function TU(i){const e={};return i.values.forEach((t,n)=>e[n]=t.get()),e}function bU(i){const e={};return i.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function N0(i,e,t){const n=i.getProps();return r_(n,e,t!==void 0?t:n.custom,TU(i),bU(i))}const PU="framerAppearId",BU="data-"+n_(PU);let s_=ji;const ac=i=>i*1e3,Pa=i=>i/1e3,RU={current:!1},KT=i=>Array.isArray(i)&&typeof i[0]=="number";function YT(i){return!!(!i||typeof i=="string"&&QT[i]||KT(i)||Array.isArray(i)&&i.every(YT))}const Vd=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,QT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vd([0,.65,.55,1]),circOut:Vd([.55,0,1,.45]),backIn:Vd([.31,.01,.66,-.59]),backOut:Vd([.33,1.53,.69,.99])};function qT(i){if(i)return KT(i)?Vd(i):Array.isArray(i)?i.map(qT):QT[i]}function LU(i,e,t,{delay:n=0,duration:r,repeat:s=0,repeatType:a="loop",ease:l,times:c}={}){const d={[e]:t};c&&(d.offset=c);const p=qT(l);return Array.isArray(p)&&(d.easing=p),i.animate(d,{delay:n,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const OS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Ey={},ZT={};for(const i in OS)ZT[i]=()=>(Ey[i]===void 0&&(Ey[i]=OS[i]()),Ey[i]);function IU(i,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[n]}const $T=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,DU=1e-7,FU=12;function NU(i,e,t,n,r){let s,a,l=0;do a=e+(t-e)/2,s=$T(a,n,r)-i,s>0?t=a:e=a;while(Math.abs(s)>DU&&++l<FU);return a}function Wp(i,e,t,n){if(i===e&&t===n)return ji;const r=s=>NU(s,0,1,i,t);return s=>s===0||s===1?s:$T(r(s),e,n)}const OU=Wp(.42,0,1,1),kU=Wp(0,0,.58,1),e2=Wp(.42,0,.58,1),UU=i=>Array.isArray(i)&&typeof i[0]!="number",t2=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,n2=i=>e=>1-i(1-e),i2=i=>1-Math.sin(Math.acos(i)),o_=n2(i2),zU=t2(o_),r2=Wp(.33,1.53,.69,.99),a_=n2(r2),GU=t2(a_),HU=i=>(i*=2)<1?.5*a_(i):.5*(2-Math.pow(2,-10*(i-1))),VU={linear:ji,easeIn:OU,easeInOut:e2,easeOut:kU,circIn:i2,circInOut:zU,circOut:o_,backIn:a_,backInOut:GU,backOut:r2,anticipate:HU},kS=i=>{if(Array.isArray(i)){s_(i.length===4);const[e,t,n,r]=i;return Wp(e,t,n,r)}else if(typeof i=="string")return VU[i];return i},l_=(i,e)=>t=>!!(Gp(t)&&Hk.test(t)&&t.startsWith(i)||e&&Object.prototype.hasOwnProperty.call(t,e)),s2=(i,e,t)=>n=>{if(!Gp(n))return n;const[r,s,a,l]=n.match(pp);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},WU=i=>mc(0,255,i),Ty={..._c,transform:i=>Math.round(WU(i))},ec={test:l_("rgb","red"),parse:s2("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+Ty.transform(i)+", "+Ty.transform(e)+", "+Ty.transform(t)+", "+Qd(Yd.transform(n))+")"};function jU(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Ix={test:l_("#"),parse:jU,transform:ec.transform},rh={test:l_("hsl","hue"),parse:s2("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Do.transform(Qd(e))+", "+Do.transform(Qd(t))+", "+Qd(Yd.transform(n))+")"},mr={test:i=>ec.test(i)||Ix.test(i)||rh.test(i),parse:i=>ec.test(i)?ec.parse(i):rh.test(i)?rh.parse(i):Ix.parse(i),transform:i=>Gp(i)?i:i.hasOwnProperty("red")?ec.transform(i):rh.transform(i)},Wn=(i,e,t)=>-t*i+t*e+i;function by(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function JU({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;r=by(c,l,i+1/3),s=by(c,l,i),a=by(c,l,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}const Py=(i,e,t)=>{const n=i*i;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},XU=[Ix,ec,rh],KU=i=>XU.find(e=>e.test(i));function US(i){const e=KU(i);let t=e.parse(i);return e===rh&&(t=JU(t)),t}const o2=(i,e)=>{const t=US(i),n=US(e),r={...t};return s=>(r.red=Py(t.red,n.red,s),r.green=Py(t.green,n.green,s),r.blue=Py(t.blue,n.blue,s),r.alpha=Wn(t.alpha,n.alpha,s),ec.transform(r))},a2="${c}",l2="${n}";function YU(i){var e,t;return isNaN(i)&&Gp(i)&&(((e=i.match(pp))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(Bx))===null||t===void 0?void 0:t.length)||0)>0}function i0(i){typeof i=="number"&&(i=`${i}`);const e=[];let t=0,n=0;const r=i.match(Bx);r&&(t=r.length,i=i.replace(Bx,a2),e.push(...r.map(mr.parse)));const s=i.match(pp);return s&&(n=s.length,i=i.replace(pp,l2),e.push(...s.map(_c.parse))),{values:e,numColors:t,numNumbers:n,tokenised:i}}function u2(i){return i0(i).values}function c2(i){const{values:e,numColors:t,tokenised:n}=i0(i),r=e.length;return s=>{let a=n;for(let l=0;l<r;l++)a=a.replace(l<t?a2:l2,l<t?mr.transform(s[l]):Qd(s[l]));return a}}const QU=i=>typeof i=="number"?0:i;function qU(i){const e=u2(i);return c2(i)(e.map(QU))}const zl={test:YU,parse:u2,createTransformer:c2,getAnimatableNone:qU};function f2(i,e){return typeof i=="number"?t=>Wn(i,e,t):mr.test(i)?o2(i,e):d2(i,e)}const h2=(i,e)=>{const t=[...i],n=t.length,r=i.map((s,a)=>f2(s,e[a]));return s=>{for(let a=0;a<n;a++)t[a]=r[a](s);return t}},ZU=(i,e)=>{const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=f2(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}},d2=(i,e)=>{const t=zl.createTransformer(e),n=i0(i),r=i0(e);return n.numColors===r.numColors&&n.numNumbers>=r.numNumbers?Il(h2(n.values,r.values),t):a=>`${a>0?e:i}`},gp=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},zS=(i,e)=>t=>Wn(i,e,t);function $U(i){return typeof i=="number"?zS:typeof i=="string"?mr.test(i)?o2:d2:Array.isArray(i)?h2:typeof i=="object"?ZU:zS}function e4(i,e,t){const n=[],r=t||$U(i[0]),s=i.length-1;for(let a=0;a<s;a++){let l=r(i[a],i[a+1]);if(e){const c=Array.isArray(e)?e[a]||ji:e;l=Il(c,l)}n.push(l)}return n}function p2(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(s_(s===e.length),s===1)return()=>e[0];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const a=e4(e,n,r),l=a.length,c=d=>{let p=0;if(l>1)for(;p<i.length-2&&!(d<i[p+1]);p++);const g=gp(i[p],i[p+1],d);return a[p](g)};return t?d=>c(mc(i[0],i[s-1],d)):c}function t4(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=gp(0,e,n);i.push(Wn(t,1,r))}}function n4(i){const e=[0];return t4(e,i.length-1),e}function i4(i,e){return i.map(t=>t*e)}function r4(i,e){return i.map(()=>e||e2).splice(0,i.length-1)}function r0({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=UU(n)?n.map(kS):kS(n),s={done:!1,value:e[0]},a=i4(t&&t.length===e.length?t:n4(e),i),l=p2(a,e,{ease:Array.isArray(r)?r:r4(e,r)});return{calculatedDuration:i,next:c=>(s.value=l(c),s.done=c>=i,s)}}function m2(i,e){return e?i*(1e3/e):0}const s4=5;function g2(i,e,t){const n=Math.max(e-s4,0);return m2(t-i(n),e-n)}const By=.001,o4=.01,a4=10,l4=.05,u4=1;function c4({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,s,a=1-e;a=mc(l4,u4,a),i=mc(o4,a4,Pa(i)),a<1?(r=d=>{const p=d*a,g=p*i,v=p-t,y=Dx(d,a),_=Math.exp(-g);return By-v/y*_},s=d=>{const g=d*a*i,v=g*t+t,y=Math.pow(a,2)*Math.pow(d,2)*i,_=Math.exp(-g),C=Dx(Math.pow(d,2),a);return(-r(d)+By>0?-1:1)*((v-y)*_)/C}):(r=d=>{const p=Math.exp(-d*i),g=(d-t)*i+1;return-By+p*g},s=d=>{const p=Math.exp(-d*i),g=(t-d)*(i*i);return p*g});const l=5/i,c=h4(r,s,l);if(i=ac(i),isNaN(c))return{stiffness:100,damping:10,duration:i};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:i}}}const f4=12;function h4(i,e,t){let n=t;for(let r=1;r<f4;r++)n=n-i(n)/e(n);return n}function Dx(i,e){return i*Math.sqrt(1-e*e)}const d4=["duration","bounce"],p4=["stiffness","damping","mass"];function GS(i,e){return e.some(t=>i[t]!==void 0)}function m4(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!GS(i,p4)&&GS(i,d4)){const t=c4(i);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function v2({keyframes:i,restDelta:e,restSpeed:t,...n}){const r=i[0],s=i[i.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:d,velocity:p,duration:g,isResolvedFromDuration:v}=m4(n),y=p?-Pa(p):0,_=c/(2*Math.sqrt(l*d)),C=s-r,S=Pa(Math.sqrt(l/d)),M=Math.abs(C)<5;t||(t=M?.01:2),e||(e=M?.005:.5);let T;if(_<1){const b=Dx(S,_);T=B=>{const I=Math.exp(-_*S*B);return s-I*((y+_*S*C)/b*Math.sin(b*B)+C*Math.cos(b*B))}}else if(_===1)T=b=>s-Math.exp(-S*b)*(C+(y+S*C)*b);else{const b=S*Math.sqrt(_*_-1);T=B=>{const I=Math.exp(-_*S*B),F=Math.min(b*B,300);return s-I*((y+_*S*C)*Math.sinh(F)+b*C*Math.cosh(F))/b}}return{calculatedDuration:v&&g||null,next:b=>{const B=T(b);if(v)a.done=b>=g;else{let I=y;b!==0&&(_<1?I=g2(T,b,B):I=0);const F=Math.abs(I)<=t,G=Math.abs(s-B)<=e;a.done=F&&G}return a.value=a.done?s:B,a}}}function HS({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:p}){const g=i[0],v={done:!1,value:g},y=U=>l!==void 0&&U<l||c!==void 0&&U>c,_=U=>l===void 0?c:c===void 0||Math.abs(l-U)<Math.abs(c-U)?l:c;let C=t*e;const S=g+C,M=a===void 0?S:a(S);M!==S&&(C=M-g);const T=U=>-C*Math.exp(-U/n),b=U=>M+T(U),B=U=>{const D=T(U),k=b(U);v.done=Math.abs(D)<=d,v.value=v.done?M:k};let I,F;const G=U=>{y(v.value)&&(I=U,F=v2({keyframes:[v.value,_(v.value)],velocity:g2(b,U,v.value),damping:r,stiffness:s,restDelta:d,restSpeed:p}))};return G(0),{calculatedDuration:null,next:U=>{let D=!1;return!F&&I===void 0&&(D=!0,B(U),G(U)),I!==void 0&&U>I?F.next(U-I):(!D&&B(U),v)}}}const g4=i=>{const e=({timestamp:t})=>i(t);return{start:()=>jn.update(e,!0),stop:()=>Ul.update(e),now:()=>nr.isProcessing?nr.timestamp:performance.now()}},v4={decay:HS,inertia:HS,tween:r0,keyframes:r0,spring:v2},VS=2e4;function WS(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<VS;)e+=t,n=i.next(e);return e>=VS?1/0:e}function s0({autoplay:i=!0,delay:e=0,driver:t=g4,keyframes:n,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:p,onUpdate:g,...v}){let y=1,_=!1,C,S;const M=()=>{C&&C(),S=new Promise(X=>{C=X})};M();let T;const b=v4[r]||r0;let B;b!==r0&&typeof n[0]!="number"&&(B=p2([0,100],n,{clamp:!1}),n=[0,100]);const I=b({...v,keyframes:n});let F;l==="mirror"&&(F=b({...v,keyframes:[...n].reverse(),velocity:-(v.velocity||0)}));let G="idle",U=null,D=null,k=null;I.calculatedDuration===null&&s&&(I.calculatedDuration=WS(I));const{calculatedDuration:Q}=I;let re=1/0,Z=1/0;Q!==null&&(re=Q+a,Z=re*(s+1)-a);let te=0;const se=X=>{if(D===null)return;y>0&&(D=Math.min(D,X)),U!==null?te=U:te=(X-D)*y;const ee=te-e,oe=ee<0;te=Math.max(ee,0),G==="finished"&&U===null&&(te=Z);let le=te,Pe=I;if(s){const qe=te/re;let Fe=Math.floor(qe),Oe=qe%1;!Oe&&qe>=1&&(Oe=1),Oe===1&&Fe--,Fe=Math.min(Fe,s+1);const Be=!!(Fe%2);Be&&(l==="reverse"?(Oe=1-Oe,a&&(Oe-=a/re)):l==="mirror"&&(Pe=F));let Ae=mc(0,1,Oe);te>Z&&(Ae=l==="reverse"&&Be?1:0),le=Ae*re}const Ce=oe?{done:!1,value:n[0]}:Pe.next(le);B&&(Ce.value=B(Ce.value));let{done:ce}=Ce;!oe&&Q!==null&&(ce=te>=Z);const Ve=U===null&&(G==="finished"||G==="running"&&ce||y<0&&te<=0);return g&&g(Ce.value),Ve&&z(),Ce},ve=()=>{T&&T.stop(),T=void 0},de=()=>{G="idle",ve(),M(),D=k=null},z=()=>{G="finished",p&&p(),ve(),M()},Y=()=>{if(_)return;T||(T=t(se));const X=T.now();c&&c(),G="running",U!==null?D=X-U:D||(D=X),k=D,U=null,T.start()};i&&Y();const N={then(X,ee){return S.then(X,ee)},get time(){return Pa(te)},set time(X){X=ac(X),te=X,U!==null||!T||y===0?U=X:D=T.now()-X/y},get duration(){const X=I.calculatedDuration===null?WS(I):I.calculatedDuration;return Pa(X)},get speed(){return y},set speed(X){X===y||!T||(y=X,N.time=Pa(te))},get state(){return G},play:Y,pause:()=>{G="paused",U=te},stop:()=>{_=!0,G!=="idle"&&(G="idle",d&&d(),de())},cancel:()=>{k!==null&&se(k),de()},complete:()=>{G="finished"},sample:X=>(D=0,se(X))};return N}const y4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fg=10,x4=2e4,A4=(i,e)=>e.type==="spring"||i==="backgroundColor"||!YT(e.ease);function _4(i,e,{onUpdate:t,onComplete:n,...r}){if(!(ZT.waapi()&&y4.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,l,c;const d=()=>{c=new Promise(C=>{l=C})};d();let{keyframes:p,duration:g=300,ease:v}=r;if(A4(e,r)){const C=s0({...r,repeat:0,delay:0});let S={done:!1,value:p[0]};const M=[];let T=0;for(;!S.done&&T<x4;)S=C.sample(T),M.push(S.value),T+=Fg;p=M,g=T-Fg,v="linear"}const y=LU(i.owner.current,e,p,{...r,duration:g,ease:v}),_=()=>{jn.update(()=>y.cancel()),l(),d()};return y.onfinish=()=>{i.set(IU(p,r)),n&&n(),_()},{then(C,S){return c.then(C,S)},get time(){return Pa(y.currentTime||0)},set time(C){y.currentTime=ac(C)},get speed(){return y.playbackRate},set speed(C){y.playbackRate=C},get duration(){return Pa(g)},play:()=>{a||y.play()},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:C}=y;if(C){const S=s0({...r,autoplay:!1});i.setWithVelocity(S.sample(C-Fg).value,S.sample(C).value,Fg)}_()},complete:()=>y.finish(),cancel:_}}function M4({keyframes:i,delay:e,onUpdate:t,onComplete:n}){const r=()=>(t&&t(i[i.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ji,pause:ji,stop:ji,then:s=>(s(),Promise.resolve()),cancel:ji,complete:ji});return e?s0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const S4={type:"spring",stiffness:500,damping:25,restSpeed:10},w4=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),C4={type:"keyframes",duration:.8},E4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T4=(i,{keyframes:e})=>e.length>2?C4:Ac.has(i)?i.startsWith("scale")?w4(e[1]):S4:E4,Fx=(i,e)=>i==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&zl.test(e)&&!e.startsWith("url(")),b4=new Set(["brightness","contrast","saturate","opacity"]);function P4(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(pp)||[];if(!n)return i;const r=t.replace(n,"");let s=b4.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const B4=/([a-z-]*)\(.*?\)/g,Nx={...zl,getAnimatableNone:i=>{const e=i.match(B4);return e?e.map(P4).join(" "):i}},R4={...LT,color:mr,backgroundColor:mr,outlineColor:mr,fill:mr,stroke:mr,borderColor:mr,borderTopColor:mr,borderRightColor:mr,borderBottomColor:mr,borderLeftColor:mr,filter:Nx,WebkitFilter:Nx},u_=i=>R4[i];function c_(i,e){let t=u_(i);return t!==Nx&&(t=zl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}function L4({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...p}){return!!Object.keys(p).length}function jS(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function JS(i){return typeof i=="number"?0:c_("",i)}function y2(i,e){return i[e]||i.default||i}function I4(i,e,t,n){const r=Fx(e,t);let s=n.from!==void 0?n.from:i.get();if(s==="none"&&r&&typeof t=="string"?s=c_(e,t):jS(s)&&typeof t=="string"?s=JS(t):!Array.isArray(t)&&jS(t)&&typeof s=="string"&&(t=JS(s)),Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]===null&&(t[a]=a===0?s:t[a-1]);return t}else return[s,t]}const f_=(i,e,t,n={})=>r=>{const s=y2(n,i)||{},a=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-ac(a);const c=I4(e,i,t,s),d=c[0],p=c[c.length-1],g=Fx(i,d),v=Fx(i,p);let y={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(L4(s)||(y={...y,...T4(i,y)}),y.duration&&(y.duration=ac(y.duration)),y.repeatDelay&&(y.repeatDelay=ac(y.repeatDelay)),!g||!v||RU.current||s.type===!1)return M4(y);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=_4(e,i,y);if(_)return _}return s0(y)};function o0(i){return!!(kr(i)&&i.add)}const D4=i=>/^\-?\d*\.?\d+$/.test(i),F4=i=>/^0[^.\s]+$/.test(i);function h_(i,e){i.indexOf(e)===-1&&i.push(e)}function d_(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}class p_{constructor(){this.subscriptions=[]}add(e){return h_(this.subscriptions,e),()=>d_(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const N4=i=>!isNaN(parseFloat(i));class O4{constructor(e,t={}){this.version="10.10.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:a}=nr;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,jn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>jn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=N4(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new p_);const n=this.events[e].add(t);return e==="change"?()=>{n(),jn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?m2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xh(i,e){return new O4(i,e)}const x2=i=>e=>e.test(i),k4={test:i=>i==="auto",parse:i=>i},A2=[_c,Bt,Do,El,Wk,Vk,k4],Fd=i=>A2.find(x2(i)),U4=[...A2,mr,zl],z4=i=>U4.find(x2(i));function G4(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,xh(t))}function H4(i,e){const t=N0(i,e);let{transitionEnd:n={},transition:r={},...s}=t?i.makeTargetAnimatable(t,!1):{};s={...s,...n};for(const a in s){const l=rU(s[a]);G4(i,a,l)}}function V4(i,e,t){var n,r;const s=Object.keys(e).filter(l=>!i.hasValue(l)),a=s.length;if(a)for(let l=0;l<a;l++){const c=s[l],d=e[c];let p=null;Array.isArray(d)&&(p=d[0]),p===null&&(p=(r=(n=t[c])!==null&&n!==void 0?n:i.readValue(c))!==null&&r!==void 0?r:e[c]),p!=null&&(typeof p=="string"&&(D4(p)||F4(p))?p=parseFloat(p):!z4(p)&&zl.test(d)&&(p=c_(c,d)),i.addValue(c,xh(p,{owner:i})),t[c]===void 0&&(t[c]=p),p!==null&&i.setBaseTarget(c,p))}}function W4(i,e){return e?(e[i]||e.default||e).from:void 0}function j4(i,e,t){const n={};for(const r in i){const s=W4(r,e);if(s!==void 0)n[r]=s;else{const a=t.getValue(r);a&&(n[r]=a.get())}}return n}function J4({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function _2(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:a,...l}=i.makeTargetAnimatable(e);const c=i.getValue("willChange");n&&(s=n);const d=[],p=r&&i.animationState&&i.animationState.getState()[r];for(const g in l){const v=i.getValue(g),y=l[g];if(!v||y===void 0||p&&J4(p,g))continue;const _={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!v.hasAnimated){const S=i.getProps()[BU];S&&(_.elapsed=window.HandoffAppearAnimations(S,g,v,jn))}v.start(f_(g,v,y,i.shouldReduceMotion&&Ac.has(g)?{type:!1}:_));const C=v.animation;o0(c)&&(c.add(g),C.then(()=>c.remove(g))),d.push(C)}return a&&Promise.all(d).then(()=>{a&&H4(i,a)}),d}function Ox(i,e,t={}){const n=N0(i,e,t.custom);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>Promise.all(_2(i,n,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=r;return X4(i,e,d+c,p,g,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(t.delay)])}function X4(i,e,t=0,n=0,r=1,s){const a=[],l=(i.variantChildren.size-1)*n,c=r===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(i.variantChildren).sort(K4).forEach((d,p)=>{d.notify("AnimationStart",e),a.push(Ox(d,e,{...s,delay:t+c(p)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function K4(i,e){return i.sortNodePosition(e)}function Y4(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>Ox(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=Ox(i,e,t);else{const r=typeof e=="function"?N0(i,e,t.custom):e;n=Promise.all(_2(i,r,t))}return n.then(()=>i.notify("AnimationComplete",e))}const Q4=[...YA].reverse(),q4=YA.length;function Z4(i){return e=>Promise.all(e.map(({animation:t,options:n})=>Y4(i,t,n)))}function $4(i){let e=Z4(i);const t=tz();let n=!0;const r=(c,d)=>{const p=N0(i,d);if(p){const{transition:g,transitionEnd:v,...y}=p;c={...c,...y,...v}}return c};function s(c){e=c(i)}function a(c,d){const p=i.getProps(),g=i.getVariantContext(!0)||{},v=[],y=new Set;let _={},C=1/0;for(let M=0;M<q4;M++){const T=Q4[M],b=t[T],B=p[T]!==void 0?p[T]:g[T],I=hp(B),F=T===d?b.isActive:null;F===!1&&(C=M);let G=B===g[T]&&B!==p[T]&&I;if(G&&n&&i.manuallyAnimateOnMount&&(G=!1),b.protectedKeys={..._},!b.isActive&&F===null||!B&&!b.prevProp||R0(B)||typeof B=="boolean")continue;const U=ez(b.prevProp,B);let D=U||T===d&&b.isActive&&!G&&I||M>C&&I;const k=Array.isArray(B)?B:[B];let Q=k.reduce(r,{});F===!1&&(Q={});const{prevResolvedValues:re={}}=b,Z={...re,...Q},te=se=>{D=!0,y.delete(se),b.needsAnimating[se]=!0};for(const se in Z){const ve=Q[se],de=re[se];_.hasOwnProperty(se)||(ve!==de?n0(ve)&&n0(de)?!XT(ve,de)||U?te(se):b.protectedKeys[se]=!0:ve!==void 0?te(se):y.add(se):ve!==void 0&&y.has(se)?te(se):b.protectedKeys[se]=!0)}b.prevProp=B,b.prevResolvedValues=Q,b.isActive&&(_={..._,...Q}),n&&i.blockInitialAnimation&&(D=!1),D&&!G&&v.push(...k.map(se=>({animation:se,options:{type:T,...c}})))}if(y.size){const M={};y.forEach(T=>{const b=i.getBaseTarget(T);b!==void 0&&(M[T]=b)}),v.push({animation:M})}let S=!!v.length;return n&&p.initial===!1&&!i.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(v):Promise.resolve()}function l(c,d,p){var g;if(t[c].isActive===d)return Promise.resolve();(g=i.variantChildren)===null||g===void 0||g.forEach(y=>{var _;return(_=y.animationState)===null||_===void 0?void 0:_.setActive(c,d)}),t[c].isActive=d;const v=a(p,c);for(const y in t)t[y].protectedKeys={};return v}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>t}}function ez(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!XT(e,i):!1}function Uu(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tz(){return{animate:Uu(!0),whileInView:Uu(),whileHover:Uu(),whileTap:Uu(),whileDrag:Uu(),whileFocus:Uu(),exit:Uu()}}class nz extends jl{constructor(e){super(e),e.animationState||(e.animationState=$4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),R0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let iz=0;class rz extends jl{constructor(){super(...arguments),this.id=iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sz={animation:{Feature:nz},exit:{Feature:rz}},XS=(i,e)=>Math.abs(i-e);function oz(i,e){const t=XS(i.x,e.x),n=XS(i.y,e.y);return Math.sqrt(t**2+n**2)}class M2{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ly(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=oz(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=d,{timestamp:y}=nr;this.history.push({...v,timestamp:y});const{onStart:_,onMove:C}=this.handlers;p||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ry(p,this.transformPagePoint),jn.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:g,onSessionEnd:v}=this.handlers,y=Ly(d.type==="pointercancel"?this.lastMoveEventInfo:Ry(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,y),v&&v(d,y)},!GT(e))return;this.handlers=t,this.transformPagePoint=n;const r=D0(e),s=Ry(r,this.transformPagePoint),{point:a}=s,{timestamp:l}=nr;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,Ly(s,this.history)),this.removeListeners=Il(ba(window,"pointermove",this.handlePointerMove),ba(window,"pointerup",this.handlePointerUp),ba(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ul.update(this.updatePoint)}}function Ry(i,e){return e?{point:e(i.point)}:i}function KS(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Ly({point:i},e){return{point:i,delta:KS(i,S2(e)),offset:KS(i,az(e)),velocity:lz(e,.1)}}function az(i){return i[0]}function S2(i){return i[i.length-1]}function lz(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=S2(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>ac(e)));)t--;if(!n)return{x:0,y:0};const s=Pa(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function os(i){return i.max-i.min}function kx(i,e=0,t=.01){return Math.abs(i-e)<=t}function YS(i,e,t,n=.5){i.origin=n,i.originPoint=Wn(e.min,e.max,i.origin),i.scale=os(t)/os(e),(kx(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=Wn(t.min,t.max,i.origin)-i.originPoint,(kx(i.translate)||isNaN(i.translate))&&(i.translate=0)}function qd(i,e,t,n){YS(i.x,e.x,t.x,n?n.originX:void 0),YS(i.y,e.y,t.y,n?n.originY:void 0)}function QS(i,e,t){i.min=t.min+e.min,i.max=i.min+os(e)}function uz(i,e,t){QS(i.x,e.x,t.x),QS(i.y,e.y,t.y)}function qS(i,e,t){i.min=e.min-t.min,i.max=i.min+os(e)}function Zd(i,e,t){qS(i.x,e.x,t.x),qS(i.y,e.y,t.y)}function cz(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Wn(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Wn(t,i,n.max):Math.min(i,t)),i}function ZS(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function fz(i,{top:e,left:t,bottom:n,right:r}){return{x:ZS(i.x,t,r),y:ZS(i.y,e,n)}}function $S(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function hz(i,e){return{x:$S(i.x,e.x),y:$S(i.y,e.y)}}function dz(i,e){let t=.5;const n=os(i),r=os(e);return r>n?t=gp(e.min,e.max-n,i.min):n>r&&(t=gp(i.min,i.max-r,e.min)),mc(0,1,t)}function pz(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const Ux=.35;function mz(i=Ux){return i===!1?i=0:i===!0&&(i=Ux),{x:ew(i,"left","right"),y:ew(i,"top","bottom")}}function ew(i,e,t){return{min:tw(i,e),max:tw(i,t)}}function tw(i,e){return typeof i=="number"?i:i[e]||0}const nw=()=>({translate:0,scale:1,origin:0,originPoint:0}),$d=()=>({x:nw(),y:nw()}),iw=()=>({min:0,max:0}),mi=()=>({x:iw(),y:iw()});function Lo(i){return[i("x"),i("y")]}function w2({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function gz({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function vz(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Iy(i){return i===void 0||i===1}function zx({scale:i,scaleX:e,scaleY:t}){return!Iy(i)||!Iy(e)||!Iy(t)}function Vu(i){return zx(i)||C2(i)||i.z||i.rotate||i.rotateX||i.rotateY}function C2(i){return rw(i.x)||rw(i.y)}function rw(i){return i&&i!=="0%"}function a0(i,e,t){const n=i-t,r=e*n;return t+r}function sw(i,e,t,n,r){return r!==void 0&&(i=a0(i,r,n)),a0(i,t,n)+e}function Gx(i,e=0,t=1,n,r){i.min=sw(i.min,e,t,n,r),i.max=sw(i.max,e,t,n,r)}function E2(i,{x:e,y:t}){Gx(i.x,e.translate,e.scale,e.originPoint),Gx(i.y,t.translate,t.scale,t.originPoint)}function yz(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let l=0;l<r;l++){s=t[l],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&sh(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,E2(i,a)),n&&Vu(s.latestValues)&&sh(i,s.latestValues))}e.x=ow(e.x),e.y=ow(e.y)}function ow(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function Tl(i,e){i.min=i.min+e,i.max=i.max+e}function aw(i,e,[t,n,r]){const s=e[r]!==void 0?e[r]:.5,a=Wn(i.min,i.max,s);Gx(i,e[t],e[n],a,e.scale)}const xz=["x","scaleX","originX"],Az=["y","scaleY","originY"];function sh(i,e){aw(i.x,e,xz),aw(i.y,e,Az)}function T2(i,e){return w2(vz(i.getBoundingClientRect(),e))}function _z(i,e,t){const n=T2(i,t),{scroll:r}=e;return r&&(Tl(n.x,r.offset.x),Tl(n.y,r.offset.y)),n}const Mz=new WeakMap;class Sz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=c=>{this.stopAnimation(),t&&this.snapToCursor(D0(c,"page").point)},s=(c,d)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=VT(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lo(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Do.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[_];M&&(C=os(M)*(parseFloat(C)/100))}}this.originPoint[_]=C}),v&&jn.update(()=>v(c,d));const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=d;if(g&&this.currentDirection===null){this.currentDirection=wz(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),y&&y(c,d)},l=(c,d)=>this.stop(c,d);this.panSession=new M2(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&jn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ng(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=cz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&ih(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=fz(n.layoutBox,e):this.constraints=!1,this.elastic=mz(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Lo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=pz(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ih(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=_z(n,r.root,this.visualElement.getTransformPagePoint());let a=hz(r.layout.layoutBox,s);if(t){const l=t(gz(a));this.hasMutatedConstraints=!!l,l&&(a=w2(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Lo(p=>{if(!Ng(p,t,this.currentDirection))return;let g=c&&c[p]||{};a&&(g={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(f_(e,n,0,t))}stopAnimation(){Lo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Lo(t=>{const{drag:n}=this.getProps();if(!Ng(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[t];s.set(e[t]-Wn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ih(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Lo(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();r[a]=dz({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lo(a=>{if(!Ng(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Wn(c,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;Mz.set(this.visualElement,this);const e=this.visualElement.current,t=ba(e,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ih(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();const a=Ca(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Lo(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=Ux,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Ng(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function wz(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class Cz extends jl{constructor(e){super(e),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new Sz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const lw=i=>(e,t)=>{i&&jn.update(()=>i(e,t))};class Ez extends jl{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(e){this.session=new M2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:lw(e),onStart:lw(t),onMove:n,onEnd:(s,a)=>{delete this.session,r&&jn.update(()=>r(s,a))}}}mount(){this.removePointerDownListener=ba(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Tz(){const i=q.useContext(KA);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=q.useId();return q.useEffect(()=>n(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function uw(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Nd={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Bt.test(i))i=parseFloat(i);else return i;const t=uw(i,e.target.x),n=uw(i,e.target.y);return`${t}% ${n}%`}},b2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bz(i){const e=b2.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]}function Hx(i,e,t=1){const[n,r]=bz(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);return s?s.trim():Px(r)?Hx(r,e,t+1):r}function Pz(i,{...e},t){const n=i.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),i.values.forEach(r=>{const s=r.get();if(!Px(s))return;const a=Hx(s,n);a&&r.set(a)});for(const r in e){const s=e[r];if(!Px(s))continue;const a=Hx(s,n);a&&(e[r]=a,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const cw="_$css",Bz={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=i.includes("var("),s=[];r&&(i=i.replace(b2,y=>(s.push(y),cw)));const a=zl.parse(i);if(a.length>5)return n;const l=zl.createTransformer(i),c=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,p=t.y.scale*e.y;a[0+c]/=d,a[1+c]/=p;const g=Wn(d,p,.5);typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g);let v=l(a);if(r){let y=0;v=v.replace(cw,()=>{const _=s[y];return y++,_})}return v}};class Rz extends bl.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;Ok(Lz),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||jn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function P2(i){const[e,t]=Tz(),n=q.useContext(TT);return bl.createElement(Rz,{...i,layoutGroup:n,switchLayoutGroup:q.useContext(bT),isPresent:e,safeToRemove:t})}const Lz={borderRadius:{...Nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nd,borderTopRightRadius:Nd,borderBottomLeftRadius:Nd,borderBottomRightRadius:Nd,boxShadow:Bz},B2=["TopLeft","TopRight","BottomLeft","BottomRight"],Iz=B2.length,fw=i=>typeof i=="string"?parseFloat(i):i,hw=i=>typeof i=="number"||Bt.test(i);function Dz(i,e,t,n,r,s){r?(i.opacity=Wn(0,t.opacity!==void 0?t.opacity:1,Fz(n)),i.opacityExit=Wn(e.opacity!==void 0?e.opacity:1,0,Nz(n))):s&&(i.opacity=Wn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<Iz;a++){const l=`border${B2[a]}Radius`;let c=dw(e,l),d=dw(t,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||hw(c)===hw(d)?(i[l]=Math.max(Wn(fw(c),fw(d),n),0),(Do.test(d)||Do.test(c))&&(i[l]+="%")):i[l]=d}(e.rotate||t.rotate)&&(i.rotate=Wn(e.rotate||0,t.rotate||0,n))}function dw(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const Fz=R2(0,.5,o_),Nz=R2(.5,.95,ji);function R2(i,e,t){return n=>n<i?0:n>e?1:t(gp(i,e,n))}function pw(i,e){i.min=e.min,i.max=e.max}function _s(i,e){pw(i.x,e.x),pw(i.y,e.y)}function mw(i,e,t,n,r){return i-=e,i=a0(i,1/t,n),r!==void 0&&(i=a0(i,1/r,n)),i}function Oz(i,e=0,t=1,n=.5,r,s=i,a=i){if(Do.test(e)&&(e=parseFloat(e),e=Wn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Wn(s.min,s.max,n);i===s&&(l-=e),i.min=mw(i.min,e,t,l,r),i.max=mw(i.max,e,t,l,r)}function gw(i,e,[t,n,r],s,a){Oz(i,e[t],e[n],e[r],e.scale,s,a)}const kz=["x","scaleX","originX"],Uz=["y","scaleY","originY"];function vw(i,e,t,n){gw(i.x,e,kz,t?t.x:void 0,n?n.x:void 0),gw(i.y,e,Uz,t?t.y:void 0,n?n.y:void 0)}function yw(i){return i.translate===0&&i.scale===1}function L2(i){return yw(i.x)&&yw(i.y)}function Vx(i,e){return i.x.min===e.x.min&&i.x.max===e.x.max&&i.y.min===e.y.min&&i.y.max===e.y.max}function xw(i){return os(i.x)/os(i.y)}class zz{constructor(){this.members=[]}add(e){h_(this.members,e),e.scheduleRender()}remove(e){if(d_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Aw(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y;if((r||s)&&(n=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:c,rotateX:d,rotateY:p}=t;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),p&&(n+=`rotateY(${p}deg) `)}const a=i.x.scale*e.x,l=i.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Gz=(i,e)=>i.depth-e.depth;class Hz{constructor(){this.children=[],this.isDirty=!1}add(e){h_(this.children,e),this.isDirty=!0}remove(e){d_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Gz),this.isDirty=!1,this.children.forEach(e)}}function Vz(i,e){const t=performance.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Ul.read(n),i(s-e))};return jn.read(n,!0),()=>Ul.read(n)}function Wz(i){window.MotionDebug&&window.MotionDebug.record(i)}function jz(i){return i instanceof SVGElement&&i.tagName!=="svg"}function Jz(i,e,t){const n=kr(i)?i:xh(i);return n.start(f_("",n,e,t)),n.animation}const _w=["","X","Y","Z"],Mw=1e3;let Xz=0;const Wu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I2({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a,l={},c=e?.()){this.id=Xz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Wu.totalNodes=Wu.resolvedTargetDeltas=Wu.recalculatedProjection=0,this.nodes.forEach(Qz),this.nodes.forEach(eG),this.nodes.forEach(tG),this.nodes.forEach(qz),Wz(Wu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=a,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hz)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new p_),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}registerPotentialNode(a,l){this.potentialNodes.set(a,l)}mount(a,l=!1){if(this.instance)return;this.isSVG=jz(a),this.instance=a;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),l&&(d||c)&&(this.isLayoutDirty=!0),i){let g;const v=()=>this.root.updateBlockedByResize=!1;i(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Vz(v,250),Kd.hasAnimatedSinceResize&&(Kd.hasAnimatedSinceResize=!1,this.nodes.forEach(ww))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||oG,{onLayoutAnimationStart:S,onLayoutAnimationComplete:M}=p.getProps(),T=!this.targetLayout||!Vx(this.targetLayout,_)||y,b=!v&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,b);const B={...y2(C,"layout"),onPlay:S,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else!v&&this.animationProgress===0&&ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ul.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nG),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sw);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(aG),this.potentialNodes.clear()),this.nodes.forEach($z),this.nodes.forEach(Kz),this.nodes.forEach(Yz),this.clearAllSnapshots(),Sy.update(),Sy.preRender(),Sy.render())}clearAllSnapshots(){this.nodes.forEach(Zz),this.sharedNodes.forEach(iG)}scheduleUpdateProjection(){jn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!L2(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;a&&(l||Vu(this.latestValues)||p)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),lG(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return mi();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Tl(l.x,c.offset.x),Tl(l.y,c.offset.y)),l}removeElementScroll(a){const l=mi();_s(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:g}=d;if(d!==this.root&&p&&g.layoutScroll){if(p.isRoot){_s(l,a);const{scroll:v}=this.root;v&&(Tl(l.x,-v.offset.x),Tl(l.y,-v.offset.y))}Tl(l.x,p.offset.x),Tl(l.y,p.offset.y)}}return l}applyTransform(a,l=!1){const c=mi();_s(c,a);for(let d=0;d<this.path.length;d++){const p=this.path[d];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&sh(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Vu(p.latestValues)&&sh(c,p.latestValues)}return Vu(this.latestValues)&&sh(c,this.latestValues),c}removeTransform(a){const l=mi();_s(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vu(d.latestValues))continue;zx(d.latestValues)&&d.updateSnapshot();const p=mi(),g=d.measurePageBox();_s(p,g),vw(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Vu(this.latestValues)&&vw(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=nr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout?(this.relativeParent=y,this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Zd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==nr.timestamp&&this.relativeParent.resolveTargetDelta(!0),uz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),E2(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target?(this.relativeParent=y,this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Zd(this.relativeTargetOrigin,this.target,y.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zx(this.parent.latestValues)||C2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===nr.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;_s(this.layoutCorrected,this.layout.layoutBox),yz(this.layoutCorrected,this.treeScale,this.path,c);const{target:v}=l;if(!v)return;this.projectionDelta||(this.projectionDelta=$d(),this.projectionDeltaWithTransform=$d());const y=this.treeScale.x,_=this.treeScale.y,C=this.projectionTransform;qd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Aw(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==y||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Wu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},p={...this.latestValues},g=$d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=mi(),y=c?c.source:void 0,_=this.layout?this.layout.source:void 0,C=y!==_,S=this.getStack(),M=!S||S.members.length<=1,T=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(sG));this.animationProgress=0;let b;this.mixTargetDelta=B=>{const I=B/1e3;Cw(g.x,a.x,I),Cw(g.y,a.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rG(this.relativeTarget,this.relativeTargetOrigin,v,I),b&&Vx(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=mi()),_s(b,this.relativeTarget)),C&&(this.animationValues=p,Dz(p,d,this.latestValues,I,T,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ul.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jn.update(()=>{Kd.hasAnimatedSinceResize=!0,this.currentAnimation=Jz(0,Mw,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:p}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&D2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||mi();const g=os(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+g;const v=os(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}_s(l,c),sh(l,p),qd(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new zz),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let p=0;p<_w.length;p++){const g="rotate"+_w[p];c[g]&&(d[g]=c[g],a.setStaticValue(g,0))}a.render();for(const p in d)a.setStaticValue(p,d[p]);a.scheduleRender()}getProjectionStyles(a={}){var l,c;const d={};if(!this.instance||this.isSVG)return d;if(this.isVisible)d.visibility="";else return{visibility:"hidden"};const p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Jg(a.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Jg(a.pointerEvents)||""),this.hasProjected&&!Vu(this.latestValues)&&(C.transform=p?p({},""):"none",this.hasProjected=!1),C}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=Aw(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:y,y:_}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,g.animationValues?d.opacity=g===this?(c=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in e0){if(v[C]===void 0)continue;const{correct:S,applyTo:M}=e0[C],T=d.transform==="none"?v[C]:S(v[C],g);if(M){const b=M.length;for(let B=0;B<b;B++)d[M[B]]=T}else d[C]=T}return this.options.layoutId&&(d.pointerEvents=g===this?Jg(a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Sw),this.root.sharedNodes.clear()}}}function Kz(i){i.updateLayout()}function Yz(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,a=t.source!==i.layout.source;s==="size"?Lo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],y=os(v);v.min=n[g].min,v.max=v.min+y}):D2(s,t.layoutBox,n)&&Lo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],y=os(n[g]);v.max=v.min+y,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[g].max=i.relativeTarget[g].min+y)});const l=$d();qd(l,n,t.layoutBox);const c=$d();a?qd(c,i.applyTransform(r,!0),t.measuredBox):qd(c,n,t.layoutBox);const d=!L2(l);let p=!1;if(!i.resumeFrom){const g=i.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:y}=g;if(v&&y){const _=mi();Zd(_,t.layoutBox,v.layoutBox);const C=mi();Zd(C,n,y.layoutBox),Vx(_,C)||(p=!0),g.options.layoutRoot&&(i.relativeTarget=C,i.relativeTargetOrigin=_,i.relativeParent=g)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function Qz(i){Wu.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function qz(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function Zz(i){i.clearSnapshot()}function Sw(i){i.clearMeasurements()}function $z(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function ww(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0}function eG(i){i.resolveTargetDelta()}function tG(i){i.calcProjection()}function nG(i){i.resetRotation()}function iG(i){i.removeLeadSnapshot()}function Cw(i,e,t){i.translate=Wn(e.translate,0,t),i.scale=Wn(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function Ew(i,e,t,n){i.min=Wn(e.min,t.min,n),i.max=Wn(e.max,t.max,n)}function rG(i,e,t,n){Ew(i.x,e.x,t.x,n),Ew(i.y,e.y,t.y,n)}function sG(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const oG={duration:.45,ease:[.4,0,.1,1]};function aG(i,e){let t=i.root;for(let s=i.path.length-1;s>=0;s--)if(i.path[s].instance){t=i.path[s];break}const r=(t&&t!==i.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&i.mount(r,!0)}function Tw(i){i.min=Math.round(i.min),i.max=Math.round(i.max)}function lG(i){Tw(i.x),Tw(i.y)}function D2(i,e,t){return i==="position"||i==="preserve-aspect"&&!kx(xw(e),xw(t),.2)}const uG=I2({attachResizeListener:(i,e)=>Ca(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dy={current:void 0},F2=I2({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Dy.current){const i=new uG(0,{});i.mount(window),i.setOptions({layoutScroll:!0}),Dy.current=i}return Dy.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),cG={pan:{Feature:Ez},drag:{Feature:Cz,ProjectionNode:F2,MeasureLayout:P2}},fG=new Set(["width","height","top","left","right","bottom","x","y"]),N2=i=>fG.has(i),hG=i=>Object.keys(i).some(N2),bw=i=>i===_c||i===Bt,Pw=(i,e)=>parseFloat(i.split(", ")[e]),Bw=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/);if(r)return Pw(r[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?Pw(s[1],i):0}},dG=new Set(["x","y","z"]),pG=I0.filter(i=>!dG.has(i));function mG(i){const e=[];return pG.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&i.render(),e}const Rw={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:Bw(4,13),y:Bw(5,14)},gG=(i,e,t)=>{const n=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:a}=s,l={};a==="none"&&e.setStaticValue("display",i.display||"block"),t.forEach(d=>{l[d]=Rw[d](n,s)}),e.render();const c=e.measureViewportBox();return t.forEach(d=>{const p=e.getValue(d);p&&p.jump(l[d]),i[d]=Rw[d](c,s)}),i},vG=(i,e,t={},n={})=>{e={...e},n={...n};const r=Object.keys(e).filter(N2);let s=[],a=!1;const l=[];if(r.forEach(c=>{const d=i.getValue(c);if(!i.hasValue(c))return;let p=t[c],g=Fd(p);const v=e[c];let y;if(n0(v)){const _=v.length,C=v[0]===null?1:0;p=v[C],g=Fd(p);for(let S=C;S<_;S++)y?s_(Fd(v[S])===y):y=Fd(v[S])}else y=Fd(v);if(g!==y)if(bw(g)&&bw(y)){const _=d.get();typeof _=="string"&&d.set(parseFloat(_)),typeof v=="string"?e[c]=parseFloat(v):Array.isArray(v)&&y===Bt&&(e[c]=v.map(parseFloat))}else g?.transform&&y?.transform&&(p===0||v===0)?p===0?d.set(y.transform(p)):e[c]=g.transform(v):(a||(s=mG(i),a=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],d.jump(v))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=gG(e,i,l);return s.length&&s.forEach(([p,g])=>{i.getValue(p).set(g)}),i.render(),B0&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:e,transitionEnd:n}};function yG(i,e,t,n){return hG(e)?vG(i,e,t,n):{target:e,transitionEnd:n}}const xG=(i,e,t,n)=>{const r=Pz(i,e,n);return e=r.target,n=r.transitionEnd,yG(i,e,t,n)},Wx={current:null},O2={current:!1};function AG(){if(O2.current=!0,!!B0)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wx.current=i.matches;i.addListener(e),e()}else Wx.current=!1}function _G(i,e,t){const{willChange:n}=e;for(const r in e){const s=e[r],a=t[r];if(kr(s))i.addValue(r,s),o0(n)&&n.add(r);else if(kr(a))i.addValue(r,xh(s,{owner:i})),o0(n)&&n.remove(r);else if(a!==s)if(i.hasValue(r)){const l=i.getValue(r);!l.hasAnimated&&l.set(s)}else{const l=i.getStaticValue(r);i.addValue(r,xh(l!==void 0?l:s,{owner:i}))}}for(const r in t)e[r]===void 0&&i.removeValue(r);return e}const Lw=new WeakMap,k2=Object.keys(dp),MG=k2.length,Iw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SG=QA.length;class wG{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>jn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=L0(t),this.isVariantNode=CT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{});for(const g in p){const v=p[g];l[g]!==void 0&&kr(v)&&(v.set(l[g],!1),o0(d)&&d.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Lw.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),O2.current||AG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Lw.delete(this.current),this.projection&&this.projection.unmount(),Ul.update(this.notifyUpdate),Ul.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ac.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&jn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,r,s,a){let l,c;for(let d=0;d<MG;d++){const p=k2[d],{isEnabled:g,Feature:v,ProjectionNode:y,MeasureLayout:_}=dp[p];y&&(l=y),g(t)&&(!this.features[p]&&v&&(this.features[p]=new v(this)),_&&(c=_))}if(!this.projection&&l){this.projection=new l(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:g,dragConstraints:v,layoutScroll:y,layoutRoot:_}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!g||v&&ih(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:y,layoutRoot:_})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Iw.length;n++){const r=Iw[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=_G(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<SG;n++){const r=QA[n],s=this.props[r];(hp(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=xh(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r=typeof n=="string"||typeof n=="object"?(t=r_(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!kr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new p_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class U2 extends wG{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},s){let a=j4(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),a&&(a=r(a))),s){V4(this,n,a);const l=xG(this,n,a,t);t=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:t,...n}}}function CG(i){return window.getComputedStyle(i)}class EG extends U2{readValueFromInstance(e,t){if(Ac.has(t)){const n=u_(t);return n&&n.default||0}else{const n=CG(e),r=(RT(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return T2(e,t)}build(e,t,n,r){ZA(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return i_(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,r){NT(e,t,n,r)}}class TG extends U2{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ac.has(t)){const n=u_(t);return n&&n.default||0}return t=OT.has(t)?t:n_(t),e.getAttribute(t)}measureInstanceViewportBox(){return mi()}scrapeMotionValuesFromProps(e,t){return UT(e,t)}build(e,t,n,r){e_(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){kT(e,t,n,r)}mount(e){this.isSVGTag=t_(e.tagName),super.mount(e)}}const bG=(i,e)=>qA(i)?new TG(e,{enableHardwareAcceleration:!1}):new EG(e,{enableHardwareAcceleration:!0}),PG={layout:{ProjectionNode:F2,MeasureLayout:P2}},BG={...sz,...EU,...cG,...PG},no=Fk((i,e)=>uU(i,e,BG,bG)),Ur={paddingX:"sm:px-16 px-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},RG=()=>{const i=window.innerWidth<=768;return he.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[he.jsxs("div",{className:"{styles.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5",children:[he.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[he.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915eff]"}),he.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),he.jsxs("div",{children:[he.jsxs("h1",{className:`${Ur.heroHeadText} text-white`,children:["Hi, I'm ",he.jsx("span",{className:"text-[#5eacff]",children:" Gonzalo De Castro"})]}),he.jsxs("p",{className:`${Ur.heroSubText} mt-2 text-white-100 ${i?"mt-20":""}`,children:["Software Engineer specialized in full-stack web development ",he.jsx("br",{className:"sm:block hidden"})," ","I invite you to explore my portfolio and share your feedback using the forms below!"]})]})]}),!i&&he.jsx(mk,{}),he.jsx("div",{className:`absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center top-[${i?"440px":"430px"}]`,children:he.jsx("a",{href:"#about",children:he.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:he.jsx(no.dev,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:`w-3 h-3 rounded-full bg-secondary mb-1 ${i?"mt-5":""}`})})})})]})},LG="https://gonzalodecastro.github.io/portfolio/assets/backend-hTXvHAtb.png",IG="https://gonzalodecastro.github.io/portfolio/assets/creator-B3dXWOt8.png",DG="https://gonzalodecastro.github.io/portfolio/assets/mobile-DOyYxxYf.png",FG="https://gonzalodecastro.github.io/portfolio/assets/web-08ko_qNY.png",NG="https://gonzalodecastro.github.io/portfolio/assets/github-BUfx7uqA.png",OG="data:image/svg+xml,%3csvg%20width='20'%20height='12'%20viewBox='0%200%2020%2012'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202L19%202C19.2652%202%2019.5196%201.89464%2019.7071%201.70711C19.8946%201.51957%2020%201.26522%2020%201C20%200.734784%2019.8946%200.480429%2019.7071%200.292892C19.5196%200.105356%2019.2652%200%2019%200L9%200C8.73478%200%208.48043%200.105356%208.29289%200.292892C8.10536%200.480429%208%200.734784%208%201C8%201.26522%208.10536%201.51957%208.29289%201.70711C8.48043%201.89464%208.73478%202%209%202ZM19%2010L1%2010C0.734784%2010%200.480429%2010.1054%200.292892%2010.2929C0.105356%2010.4804%200%2010.7348%200%2011C0%2011.2652%200.105356%2011.5196%200.292892%2011.7071C0.480429%2011.8946%200.734784%2012%201%2012L19%2012C19.2652%2012%2019.5196%2011.8946%2019.7071%2011.7071C19.8946%2011.5196%2020%2011.2652%2020%2011C20%2010.7348%2019.8946%2010.4804%2019.7071%2010.2929C19.5196%2010.1054%2019.2652%2010%2019%2010V10ZM1%207L19%207C19.2652%207%2019.5196%206.89464%2019.7071%206.70711C19.8946%206.51957%2020%206.26522%2020%206C20%205.73478%2019.8946%205.48043%2019.7071%205.29289C19.5196%205.10536%2019.2652%205%2019%205L1%205C0.734784%205%200.480429%205.10536%200.292892%205.29289C0.105356%205.48043%200%205.73478%200%206C0%206.26522%200.105356%206.51957%200.292892%206.70711C0.480429%206.89464%200.734784%207%201%207Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",kG="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4099%209L16.7099%202.71C16.8982%202.5217%2017.004%202.2663%2017.004%202C17.004%201.7337%2016.8982%201.47831%2016.7099%201.29C16.5216%201.1017%2016.2662%200.995911%2015.9999%200.995911C15.7336%200.995911%2015.4782%201.1017%2015.2899%201.29L8.99994%207.59L2.70994%201.29C2.52164%201.1017%202.26624%200.995911%201.99994%200.995911C1.73364%200.995911%201.47824%201.1017%201.28994%201.29C1.10164%201.47831%200.995847%201.7337%200.995847%202C0.995847%202.2663%201.10164%202.5217%201.28994%202.71L7.58994%209L1.28994%2015.29C1.19621%2015.383%201.12182%2015.4936%201.07105%2015.6154C1.02028%2015.7373%200.994141%2015.868%200.994141%2016C0.994141%2016.132%201.02028%2016.2627%201.07105%2016.3846C1.12182%2016.5064%201.19621%2016.617%201.28994%2016.71C1.3829%2016.8037%201.4935%2016.8781%201.61536%2016.9289C1.73722%2016.9797%201.86793%2017.0058%201.99994%2017.0058C2.13195%2017.0058%202.26266%2016.9797%202.38452%2016.9289C2.50638%2016.8781%202.61698%2016.8037%202.70994%2016.71L8.99994%2010.41L15.2899%2016.71C15.3829%2016.8037%2015.4935%2016.8781%2015.6154%2016.9289C15.7372%2016.9797%2015.8679%2017.0058%2015.9999%2017.0058C16.132%2017.0058%2016.2627%2016.9797%2016.3845%2016.9289C16.5064%2016.8781%2016.617%2016.8037%2016.7099%2016.71C16.8037%2016.617%2016.8781%2016.5064%2016.9288%2016.3846C16.9796%2016.2627%2017.0057%2016.132%2017.0057%2016C17.0057%2015.868%2016.9796%2015.7373%2016.9288%2015.6154C16.8781%2015.4936%2016.8037%2015.383%2016.7099%2015.29L10.4099%209Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",UG="https://gonzalodecastro.github.io/portfolio/assets/figma-V-jssYD-.png",zG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",GG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",HG="https://gonzalodecastro.github.io/portfolio/assets/reactjs-LYxsbuPE.png",VG="https://gonzalodecastro.github.io/portfolio/assets/python-CTJsvUCz.png",WG="https://gonzalodecastro.github.io/portfolio/assets/mysql-B2E4yGKL.png",z2="https://gonzalodecastro.github.io/portfolio/assets/iconNode-CH-xbr6X.png",jG="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cpath%20fill='none'%20d='M0%200h128v128H0z'/%3e%3cpath%20d='M88.69%2088.11c-9%2018.4-24.76%2030.78-45.61%2034.85a39.73%2039.73%200%2001-9.77%201.14c-12%200-23-5-28.34-13.19C-2.2%20100-4.64%2076.87%2019%2059.76c.48%202.61%201.46%206.19%202.11%208.31A38.24%2038.24%200%200010%2081.1c-4.4%208.64-3.91%2017.27%201.3%2025.25%203.6%205.38%209.3%208.65%2016.63%209.65a44%2044%200%200026.55-5c12.71-6.68%2021.18-14.66%2026.72-25.57a9.32%209.32%200%2001-2.61-6A9.12%209.12%200%200187.37%2070h.34a9.15%209.15%200%20011%2018.25zm28.67-20.2c12.21%2013.84%2012.54%2030.13%207.82%2039.58-4.4%208.63-16%2017.27-31.6%2017.27a50.48%2050.48%200%2001-21-5.05c2.29-1.63%205.54-4.24%207.33-5.87a41.54%2041.54%200%200016%203.42c10.1%200%2017.75-4.72%2022.31-13.35%202.93-5.7%203.1-12.38.33-19.22a43.61%2043.61%200%2000-17.27-20.85%2062%2062%200%2000-34.74-10.59h-2.93a9.21%209.21%200%2001-8%205.54h-.31a9.13%209.13%200%2001-.3-18.25h.33a9%209%200%20018%204.89h2.61c20.8%200%2039.06%207.98%2051.42%2022.48zm-82.75%2023a7.31%207.31%200%20011.14-4.73c-9.12-15.8-14-35.83-6.51-56.68C34.61%2013.83%2048.13%203.24%2062.79%203.24c15.64%200%2031.93%2013.69%2033.88%2040.07-2.44-.81-6-2-8.14-2.44-.53-8.63-7.82-30.13-25.09-29.81-6.19.17-15.31%203.1-20%209.12a43.69%2043.69%200%2000-9.64%2025.25%2059.61%2059.61%200%20008.47%2036.16%202.75%202.75%200%20011.14-.16h.32a9.12%209.12%200%2001.33%2018.24h-.33a9.16%209.16%200%2001-9.12-8.79z'%20fill='%23764abc'/%3e%3c/svg%3e",JG="https://gonzalodecastro.github.io/portfolio/assets/mongodbIcon-kN5PF7Mx.svg",XG="https://gonzalodecastro.github.io/portfolio/assets/react-CHQtl4Sj.png",KG="https://gonzalodecastro.github.io/portfolio/assets/pythonIcon2-W-laEMmZ.png",YG="https://gonzalodecastro.github.io/portfolio/assets/windFarmIcon-Bag1pfwO.png",QG="https://gonzalodecastro.github.io/portfolio/assets/codeIcon-DMSzV5s9.png",qG="https://gonzalodecastro.github.io/portfolio/assets/eventNow-DAqTP5xZ.png",ZG="https://gonzalodecastro.github.io/portfolio/assets/damasGame-tOA7dkWw.png",$G="https://gonzalodecastro.github.io/portfolio/assets/apiMarvel-B2w3Jbeu.png",Dw=[{id:"about",title:"About me"},{id:"work",title:"Development projects"},{id:"contact",title:"Contact"}],eH=[{title:"Developer Web",icon:FG},{title:"Software Engineer",icon:DG},{title:"SCADA Engineer",icon:LG},{title:"Developer UI/UX",icon:IG}],Fw=[{name:"JavaScript",icon:GG},{name:"React JS",icon:HG},{name:"Redux",icon:jG},{name:"git",icon:zG},{name:"figma",icon:UG},{name:"python",icon:VG},{name:"NodeJS",icon:z2},{name:"mysql",icon:WG},{name:"mongodb",icon:JG}],tH=[{title:"Web developer and Odoo implementer",company_name:"Pronexo",icon:QG,iconBg:"#383E56",date:"October 2016 - November 2019",points:["Design and development of websites mainly using WordPress. Additionally, I worked as an implementer and module developer for Odoo V8"]},{title:"Operator COG",company_name:"BLC Global",icon:YG,iconBg:"#383E56",date:"November 2019 - April 2022",points:["Telecommunications and monitoring of Wind, Solar and Biogas parks."]},{title:"Frontend Developer",company_name:"Gloouds",icon:XG,iconBg:"#383E56",date:"April 2022 - April 2023",points:["I worked as a Frontend developer using React as the main library, creating new components and functionalities such as endpoints, search filters, data analysis, full screens with different tailored requirements, in a performance analysis project for soccer players."]},{title:"SCADA Engineer",company_name:"BLC Global",icon:KG,iconBg:"#383E56",date:"April 2023 - March 2024",points:["Design and development of SCADA system screens for process monitoring, control commands, trend analysis, alarms, and equipment management, primarily tailored for sustainable energy parks. Reviewing the SCADA solutions available in the market, with a focus on optimization and automation. Developing a versatile tool applicable to all projects."]},{title:"Software Engineer",company_name:"Seidor Analytics",icon:z2,iconBg:"#383E56",date:"March 2024 - Present",points:["As a Full-Stack Software Engineer, I contributed to a performance analysis project for soccer players, primarily using React for frontend development. I was responsible for creating new components, integrating search filters, and implementing data analysis features. Additionally, I worked on both frontend and backend functionalities, including designing API endpoints and ensuring seamless integration. I collaborated closely with cross-functional teams in daily meetings with clients based in the United States to align on requirements and deliver tailored solutions."]}],nH=[{name:"Event Now",description:"Project using React on the frontend side and Node.js, Express, and MySQL on the backend. Its an event-management application with user registration and login features. Once logged in, users can browse events, view details, and interact with organizers through a simple and intuitive interface.",tags:[{name:"React",color:"blue-text-gradient"},{name:"Redux",color:"purple-text-gradient"},{name:"Node JS",color:"green-text-gradient"},{name:"Express ",color:"red-text-gradient"},{name:"MySQL",color:"orange-text-gradient"}],image:qG,source_code_link:"https://event-now-frontend.vercel.app/"},{name:"Damas Online",description:"Classic board game of checkers, but online, where you can play with a friend, customize each player's names, and, of course, with a board that keeps track of each player's points.",tags:[{name:"HTML",color:"orange-text-gradient"},{name:"CSS",color:"blue-text-gradient"},{name:"Javascript",color:"yellow-text-gradient"}],image:ZG,source_code_link:"https://gonzalodecastro.github.io/Juego-de-Damas-Personalizado"},{name:"API Marvel",description:"This project contains all the Marvel heroes. You can browse the different pages or just search for your favorite hero. We also have its comics available.",tags:[{name:"HTML",color:"skyblue-text-gradient"},{name:"CSS",color:"purple-text-gradient"},{name:"Jasvascript",color:"pink-text-gradient"},{name:"REST-API",color:"yellow-text-gradient"}],image:$G,source_code_link:"https://gonzalodecastro.github.io/API-Marvel/"}],iH="https://gonzalodecastro.github.io/portfolio/assets/suitcase-pZpCps4d.png",rH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARCSURBVFiFrZdPbFRVFMZ/584AAkFShQoVDNHSiBV0berMtG6sGmDTWkP/0CYG2g4oiTGNmzIJCkvDtDTRBNLpBGybGDEmJC6caa2sMETF1jRt3CCEUmWhAYrvveNiptCZ3kdHOmc173znft9377vz7j2iqhQa1bF0cMssVajsQNiMshkA4TrKdUQnrm5gLNUdcQrllEIMNHekwhowbaK8pfDEQwnhLxW+Edc7nThVPbIsAy0d3+/yxDuBULukS1soF4yarv5Tr/7sV2L8gMbOdJdnvMuPLA4g1HrGu9zYme7yLclfgdbW9GPOGvkcofGRhW2hJIO39d0zZyJ3F6ZzViAWwzhrZbDo4gBCo7NWBmOxXM2ch+nZ0Y+B3UUXfxC7sxqLDbREU3tUNeddKXJs5Z3g44oeAa79D6Frih7JjJVjOZyqXS3R1J75Z1HVzP/7pvwKVOQUizQk46FBgMOHL6y65a1pA3YCU4hMqciUcVVBy4FyNZSjXCkxt0+fPFk7B9AcTTcoci7P4OTVjVqZ6o44QYCts6ZN0Yq8IgKuTMz/zhL2+cx4wiePGp3Ak/x0xdZZ0wZ8ZgDU0w+sgwPOZj/iQkPdwFPWfFbT7I+mKhG2W4uQueUaEOPdswNs3x9NVRpHAnutBUpyIB5JL9fAQDySRknaMEcCe42oVtkNyifLFV+KS1SrDFBmwe7cvXljslgGslx3LFCZATYttsb00FCdWywDQ0N1LsK0BdpkgHWL0srWYokvwbnO+Dhb3/L+D88USzvLtX4RIEwblHHbIHXcF4tlwJdLGTeIWr9iHt4bxTLgyyU6YRRjNSBIR/Oh0ZrlijcfGq0RpMOGKWbCBMW5BNjuZaKqidb29LZHFW9tT29T1QSw6DAANCjOJVFVmqIj54CGrK3LCBuBLdnCOUH6cIPHE32vzBQi3Nx+sVTNvY8QOQis8in7YqAn/I6oKi3RsQoPdxwIKHJePdNqjNsAxIHAvGPgNxHGntsQPtjdjbeQTQTZ15mOC1IDPO8z6/lwDYEX+nuqJg1Af0/VJJAAEHSPMe7ZgZ5wnyDvLdQAdqAE8sUBVFHU/A7sWEIcIJHVfHAj8nBjwPzp93pTdLQ+0RPqBT4EbgB/A2OqetyX1vDtEsIAc1mtzKwW3oqbDo3uRnUYWAnMuEFn19lPX7sRi2GOHkVVrZv1fhw48OOK2yv+sR+/mfjX4NX191SftxqwmLioIgeT8dAvBcwMEaSxc2TR65kXR7R+IB75KmeMrTPKM6HAT2Q24+pkb7jCbyXq64cDq0pLbX2hIypvJ3pDX+YD1s5oIB76WkRqEa6Q2VAvk7mMltfVDft2UyUlz9qwcVV50ybuawAgEQ99V74h/JKK7AOm7gOVlQG/MbfKVi/c/dMq2lS+Mbwz2Rvy3ZwFdcfVsXTw6RlpBX0y2Rs58bDaTB8of/5RqmcKadP/A4/ywkXO22xSAAAAAElFTkSuQmCC",sH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAN1SURBVFiFxZddaJtVGMd/z3kzTNtYRVEqDukuHEh1mYqOemWKaNusiEKHV70QhN1JhS7tTXmZtmlWFMVrr8QPOhBkTYbgFjfR7ULt2iygOLZiN1dQUGvTZu3e83jRJKTtmjc0af1fnY/nOf/fC+d9zjlClTrkppqX8xIFOhQNC7QC9xam/1aYFeUSyNlbupL85cTL/1azrvgFhIeS+61KTOA1oLFK3iVUPzPWJi6N9/y6LYD2/omG3F2ht4E3gUCVxhu1Cvr+QrBxeNaN5KsGODhw6lHrOF8Aj2/TeKMu7jHm1R9HO2/6AoQHU08qfAU8UCfzoq5bI9HLo10zWwIUvvy7HTAvQXiePpMdj84XB0yx0eqmg+qYkztoDrDXccxke/9EwyaA5vzyO4qEd9C8IH16MRgaXAcQHkruZ22330HypTjeXhXnMYQf6oEgylttA8mWEoBVibHFr+Z59uj0SM+NTPyln0XssXoAACEnIMMA5pCbai4UmTvTIk2ltheothD5S+lrc9OhwFp51S0XNg4fh2Onj1n0bmvsB2jdEJoC+eVoAOjwCWxX0W9ljbre6jCKVtz5KhxX5IgiR1D9CECQ70tjQr/CTRV93XG01fP0IYy8APq1n7tCOCCwr1KQiJyfiXedAXgilnxQAEXnMmPdJwHaYqceQfZMZuOdV8rS5p930+f+yufPKfpcheX3GaDZj7SSsome37Jj68wB+MaN3EZ41yf9nu2ecut0IJbqQ3gPQaxIpFjvRfnJb9sYYKFmAmEEuB/lPsfqG8Xh1WDwT5/MfwyiV2vx7u2dcICHi31VWortrBtZ9Em/arAyXQvAVEsoQNmpqoJTba6KThuQs7UA1CQ1Z4zXEJwEcv+Dfc4Gg6dN1o0sovr5rtsrn2bdyKIBMNYmgNVdtF9RsWNQtnkODCZPgAzshruKjmXi0SEouxEtBBuHgYu74H9heVHcYqcEMOtG8p6nrwBzO2j+uzhe75UPu29tAgDIjkfnrZHDwPUdMJ9T1c7pkZ4b5YNmY9Tl0a4ZR3gKOF9H8wuep89mEtHMxolNAABT8e4/lnK8qMJxaqsRKyDxpRyR8rdAuXwfp20DyRYnIMMofUCTX3xBOYFPLDaRGTtc8azxBSiBuOlQIL8ctaIRUTnI2kWm9DwHrgFTopq+3dCYquIgAuA/M8JCRPk8UJwAAAAASUVORK5CYII=",oH=()=>{const[i,e]=q.useState(" "),[t,n]=q.useState(!1);return he.jsx("nav",{className:`${Ur.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:he.jsxs("div",{className:"w-full flex justify-between items-center max-w-7x1 mx-auto",children:[he.jsxs(jb,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[he.jsx("img",{src:iH,alt:"logo",className:"w-9 h-9 object-contain"}),he.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["My  ",he.jsx("span",{className:"sm:block hidden",children:"Portfolio"})]})]}),he.jsxs("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:[Dw.map(r=>he.jsx("li",{className:`${i===r.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>setACtive(r.title),children:he.jsx("a",{href:`#${r.id}`,children:r.title})},r.id)),he.jsxs("div",{style:{marginTop:"-5px",width:"100px",display:"flex",justifyContent:"space-around",alignContent:"space-around"},children:[he.jsx("a",{href:"https://github.com/GonzaloDeCastro",target:"_blank",rel:"noopener noreferrer",children:he.jsx("img",{style:{cursor:"pointer"},src:rH,alt:"github"})}),he.jsx("a",{href:"https://www.linkedin.com/in/gonzalo-de-castro",target:"_blank",rel:"noopener noreferrer",children:he.jsx("img",{style:{cursor:"pointer"},src:sH,alt:"linkedin"})})]})]}),he.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[he.jsx("img",{src:t?kG:OG,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>n(!t)}),he.jsx("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w[140px] z-10 rounded-x1`,children:he.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:Dw.map(r=>he.jsx("li",{className:`${i===r.title?"text-white":"text-secondary"} font-poppins font-medium cursor-pointer text-[16px]`,onClick:()=>{n(!t),e(r.title)},children:he.jsx("a",{href:`#${r.id}`,children:r.title})},r.id))})})]})]})})};var aH=Object.defineProperty,lH=Object.defineProperties,uH=Object.getOwnPropertyDescriptors,Nw=Object.getOwnPropertySymbols,cH=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,Ow=(i,e,t)=>e in i?aH(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Od=(i,e)=>{for(var t in e||(e={}))cH.call(e,t)&&Ow(i,t,e[t]);if(Nw)for(var t of Nw(e))fH.call(e,t)&&Ow(i,t,e[t]);return i},kd=(i,e)=>lH(i,uH(e)),G2=class extends q.Component{constructor(i){super(i),this.ref=bl.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(i=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:kd(Od({},this.state.style),{willChange:"transform"})})),this.setTransition(),i(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:kd(Od({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(i=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),i(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:kd(Od({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:kd(Od({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(i=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),i(e)}getValues(i){const e=(i.nativeEvent.clientX-this.left)/this.width,t=(i.nativeEvent.clientY-this.top)/this.height,n=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-n*this.settings.max)).toFixed(2),a=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),l=n*100,c=r*100;return{tiltX:s,tiltY:a,percentageX:l,percentageY:c}}updateElementPosition(){const i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}update(i){const e=this.getValues(i);this.setState(Object.assign({},this.state,{style:kd(Od({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const i=Object.assign({},this.props.style,this.state.style);return he.jsx("div",{style:i,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const m_=i=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:i}}}),O0=(i,e,t,n)=>({hidden:{x:i==="left"?100:i==="right"?-100:0,y:i==="up"?100:i==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),kw=(i,e,t,n)=>({hidden:{x:i==="left"?"-100%":i==="right"?"100%":0,y:i==="up"||i==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),hH=(i,e)=>({hidden:{},show:{transition:{staggerChildren:i,delayChildren:e||0}}}),jp=(i,e)=>function(){return he.jsxs(no.section,{variants:hH(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Ur.padding} max-w-7xl mx-auto relative z-0`,children:[he.jsx("span",{className:"hash-span",id:e,children:""}),he.jsx(i,{})]})},dH=({index:i,title:e,icon:t})=>he.jsx(G2,{className:"xs:w-[250px] w-full",children:he.jsx(no.div,{variants:O0("right","spring",.5*i,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:he.jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[250px] flex justify-evenly items-center flex-col",children:[he.jsx("img",{src:t,alt:e,className:"w-16 h-16 object-contain"}),he.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),pH=()=>he.jsxs(he.Fragment,{children:[he.jsxs(no.div,{variants:m_(),children:[he.jsx("p",{className:Ur.sectionSubText,children:"Introduction"}),he.jsx("h2",{className:Ur.sectionHeadText,children:"Summary"})]}),he.jsx(no.p,{variants:O0("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Im a Systems Engineer and full-stack Developer with a strong focus on building clean, scalable, and maintainable software. Im passionate about continuous learning and constantly refine my skills through hands-on practice, research, and professional development. Im disciplined, responsible, and self-motivated, and I enjoy collaborating with teams as much as working independently to solve complex technical challenges"}),he.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:eH.map((i,e)=>he.jsx(dH,{index:e,...i},i.title))})]}),mH=jp(pH,"about"),gH=()=>{const i=window.innerWidth<=768;return he.jsxs("div",{children:[he.jsx("p",{className:Ur.sectionSubText,children:"Resources:"}),he.jsx("h2",{className:Ur.sectionHeadText,children:"Technologies"}),i?he.jsx("div",{className:"w-15 h-15 shadow-md flex flex-row flex-wrap justify-center gap-10",children:Fw.map(e=>he.jsx("div",{className:"rounded-3xl bg-white w-14 h-14",children:he.jsx("img",{src:e.icon})},e.name))}):he.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:Fw.map(e=>he.jsx("div",{className:"w-28 h-28",children:he.jsx(dk,{icon:e.icon})},e.name))})]})},vH=jp(gH,"");var Ud={},Fy={exports:{}};var Uw;function H2(){return Uw||(Uw=1,(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var a=typeof s;if(a==="string"||a==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var l=t.apply(null,s);l&&n.push(l)}}else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&n.push(c)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(Fy)),Fy.exports}var zw;function yH(){if(zw)return Ud;zw=1,Ud.__esModule=!0,Ud.default=void 0;var i=n(Ah()),e=n(AT()),t=n(H2());function n(a){return a&&a.__esModule?a:{default:a}}const r=({animate:a=!0,className:l="",layout:c="2-columns",lineColor:d="#FFF",children:p})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",d),i.default.createElement("div",{className:(0,t.default)(l,"vertical-timeline",{"vertical-timeline--animate":a,"vertical-timeline--two-columns":c==="2-columns","vertical-timeline--one-column-left":c==="1-column"||c==="1-column-left","vertical-timeline--one-column-right":c==="1-column-right"})},p));r.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]).isRequired,className:e.default.string,animate:e.default.bool,layout:e.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:e.default.string};var s=r;return Ud.default=s,Ud}var zd={};function jx(){return jx=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},jx.apply(this,arguments)}function xH(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Jx(i,e)}function Jx(i,e){return Jx=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jx(i,e)}function AH(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var Xx=new Map,Og=new WeakMap,Gw=0,V2=void 0;function _H(i){V2=i}function MH(i){return i?(Og.has(i)||(Gw+=1,Og.set(i,Gw.toString())),Og.get(i)):"0"}function SH(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?MH(i.root):i[e])}).toString()}function wH(i){var e=SH(i),t=Xx.get(e);if(!t){var n=new Map,r,s=new IntersectionObserver(function(a){a.forEach(function(l){var c,d=l.isIntersecting&&r.some(function(p){return l.intersectionRatio>=p});i.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(c=n.get(l.target))==null||c.forEach(function(p){p(d,l)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},Xx.set(e,t)}return t}function g_(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=V2),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=wH(t),a=s.id,l=s.observer,c=s.elements,d=c.get(i)||[];return c.has(i)||c.set(i,d),d.push(e),l.observe(i),function(){d.splice(d.indexOf(e),1),d.length===0&&(c.delete(i),l.unobserve(i)),c.size===0&&(l.disconnect(),Xx.delete(a))}}var CH=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Hw(i){return typeof i.children!="function"}var l0=(function(i){xH(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,a){s&&r.props.triggerOnce&&r.unobserve(),Hw(r.props)||r.setState({inView:s,entry:a}),r.props.onChange&&r.props.onChange(s,a)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,a=r.root,l=r.rootMargin,c=r.trackVisibility,d=r.delay,p=r.fallbackInView;this._unobserveCb=g_(this.node,this.handleChange,{threshold:s,root:a,rootMargin:l,trackVisibility:c,delay:d},p)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!Hw(this.props)){var r=this.state,s=r.inView,a=r.entry;return this.props.children({inView:s,entry:a,ref:this.handleNode})}var l=this.props,c=l.children,d=l.as,p=AH(l,CH);return q.createElement(d||"div",jx({ref:this.handleNode},p),c)},e})(q.Component);l0.displayName="InView";l0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function EH(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,s=e.rootMargin,a=e.root,l=e.triggerOnce,c=e.skip,d=e.initialInView,p=e.fallbackInView,g=q.useRef(),v=q.useState({inView:!!d}),y=v[0],_=v[1],C=q.useCallback(function(M){g.current!==void 0&&(g.current(),g.current=void 0),!c&&M&&(g.current=g_(M,function(T,b){_({inView:T,entry:b}),b.isIntersecting&&l&&g.current&&(g.current(),g.current=void 0)},{root:a,rootMargin:s,threshold:t,trackVisibility:r,delay:n},p))},[Array.isArray(t)?t.toString():t,a,s,l,c,r,p,n]);q.useEffect(function(){!g.current&&y.entry&&!l&&!c&&_({inView:!!d})});var S=[C,y.inView,y.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}const TH=Object.freeze(Object.defineProperty({__proto__:null,InView:l0,default:l0,defaultFallbackInView:_H,observe:g_,useInView:EH},Symbol.toStringTag,{value:"Module"})),bH=vb(TH);var Vw;function PH(){if(Vw)return zd;Vw=1,zd.__esModule=!0,zd.default=void 0;var i=r(Ah()),e=r(AT()),t=r(H2()),n=bH;function r(l){return l&&l.__esModule?l:{default:l}}const s=({children:l="",className:c="",contentArrowStyle:d=null,contentStyle:p=null,date:g="",dateClassName:v="",icon:y=null,iconClassName:_="",iconOnClick:C=null,onTimelineElementClick:S=null,iconStyle:M=null,id:T="",position:b="",style:B=null,textClassName:I="",intersectionObserverProps:F={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:G=!1})=>i.default.createElement(n.InView,F,({inView:U,ref:D})=>i.default.createElement("div",{ref:D,id:T,className:(0,t.default)(c,"vertical-timeline-element",{"vertical-timeline-element--left":b==="left","vertical-timeline-element--right":b==="right","vertical-timeline-element--no-children":l===""}),style:B},i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{style:M,onClick:C,className:(0,t.default)(_,"vertical-timeline-element-icon",{"bounce-in":U||G,"is-hidden":!(U||G)})},y),i.default.createElement("div",{style:p,onClick:S,className:(0,t.default)(I,"vertical-timeline-element-content",{"bounce-in":U||G,"is-hidden":!(U||G)})},i.default.createElement("div",{style:d,className:"vertical-timeline-element-content-arrow"}),l,i.default.createElement("span",{className:(0,t.default)(v,"vertical-timeline-element-date")},g)))));s.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]),className:e.default.string,contentArrowStyle:e.default.shape({}),contentStyle:e.default.shape({}),date:e.default.node,dateClassName:e.default.string,icon:e.default.element,iconClassName:e.default.string,iconStyle:e.default.shape({}),iconOnClick:e.default.func,onTimelineElementClick:e.default.func,id:e.default.string,position:e.default.string,style:e.default.shape({}),textClassName:e.default.string,visible:e.default.bool,intersectionObserverProps:e.default.shape({root:e.default.object,rootMargin:e.default.string,threshold:e.default.number,triggerOnce:e.default.bool})};var a=s;return zd.default=a,zd}var Ny,Ww;function BH(){return Ww||(Ww=1,Ny={VerticalTimeline:yH().default,VerticalTimelineElement:PH().default}),Ny}var W2=BH();const RH=({experience:i})=>he.jsxs(W2.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #323631"},date:i.date,iconStyle:{background:i.iconBg},icon:he.jsx("div",{className:"flex justify-center items-center w-full h-full",children:he.jsx("img",{src:i.icon,alt:i.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[he.jsxs("div",{children:[he.jsx("h3",{className:"text-white text-[24px] font-bold",children:i.title}),he.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:i.company_name})]}),he.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:i.points.map((e,t)=>he.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),LH=()=>he.jsxs(he.Fragment,{children:[he.jsxs(no.div,{variants:m_(),children:[he.jsx("p",{className:Ur.sectionSubText,children:"What have I developed so far?"}),he.jsx("h2",{className:Ur.sectionHeadText,children:"My route "})]}),he.jsx("div",{className:"mt-20 flex flex-col",children:he.jsx(W2.VerticalTimeline,{children:tH.map((i,e)=>he.jsx(RH,{experience:i},e))})})]}),IH=jp(LH,""),DH=({index:i,name:e,description:t,tags:n,image:r,source_code_link:s})=>he.jsx(no.div,{variants:O0("up","spring",i*.5,.75),children:he.jsxs(G2,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[he.jsxs("div",{className:"relative w-full h-[230px]",children:[he.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-2xl"}),he.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:he.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:he.jsx("img",{src:NG,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),he.jsxs("div",{className:"met-5",children:[he.jsx("h3",{className:"text-white font-bold text-[23px]",children:e}),he.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),he.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.map(a=>he.jsxs("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},a.name))})]})}),FH=()=>he.jsxs(he.Fragment,{children:[he.jsxs(no.div,{variants:m_(),children:[he.jsx("p",{className:Ur.sectionSubText,children:"What has been created so far:"}),he.jsx("h2",{className:Ur.sectionHeadText,children:"Projects "})]}),he.jsx("div",{className:"w-full flex",children:he.jsx(no.p,{variants:O0("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"The following projects showcase my skills and experience in developing solutions for real-world problems. Each project is linked to its respective GitHub repository, where you can find its source code and documentation. These projects demonstrate my ability to solve complex problems using various technologies."})}),he.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:nH.map((i,e)=>he.jsx(DH,{index:e,...i},`project-${e}`))})]}),NH=jp(FH,"work"),vp={_origin:"https://api.emailjs.com"},OH=(i,e="https://api.emailjs.com")=>{vp._userID=i,vp._origin=e},j2=(i,e,t)=>{if(!i)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class jw{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const J2=(i,e,t={})=>new Promise((n,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const l=new jw(a);l.status===200||l.text==="OK"?n(l):r(l)}),s.addEventListener("error",({target:a})=>{r(new jw(a))}),s.open("POST",vp._origin+i,!0),Object.keys(t).forEach(a=>{s.setRequestHeader(a,t[a])}),s.send(e)}),kH=(i,e,t,n)=>{const r=n||vp._userID;return j2(r,i,e),J2("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:r,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},UH=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},zH=(i,e,t,n)=>{const r=n||vp._userID,s=UH(t);j2(r,i,e);const a=new FormData(s);return a.append("lib_version","3.10.0"),a.append("service_id",i),a.append("template_id",e),a.append("user_id",r),J2("/api/v1.0/email/send-form",a)},GH={init:OH,send:kH,sendForm:zH},HH=()=>{const i=window.innerWidth<=768,e=q.useRef(),[t,n]=q.useState({name:"",email:"",message:""}),[r,s]=q.useState(!1),a=c=>{const{name:d,value:p}=c.target;n({...t,[d]:p})},l=c=>{c.preventDefault(),s(!0),GH.send("service_857y2cp","template_h0slptd",{from_name:t.name,to_name:"Gonzalo",from_email:t.email,to_email:"gonzalodecastro1@gmail.com",message:t.message},"YkkEByyt3biT7BwfB").then(()=>{s(!1),alert("Thank you for contacting you, I will contact you as soon as possible."),n({name:"",email:"",message:""})},d=>{s(!1),console.log(d),alert("Something went wrong, but it's not your fault c:")})};return he.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden",children:[he.jsxs(no.div,{variants:kw("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[he.jsx("p",{className:Ur.sectionSubText,children:"Contact me"}),he.jsx("h3",{className:Ur.sectionHeadText,children:"Contact"}),he.jsxs("form",{ref:e,onSubmit:l,className:"mt-12 flex flex-col gap-8",children:[he.jsxs("label",{className:"flex flex-col",children:[he.jsx("span",{className:"text-white font-medium mb-4",children:"Name "}),he.jsx("input",{type:"text",name:"name",value:t.name,onChange:a,placeHolder:"Enter your name",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),he.jsxs("label",{className:"flex flex-col",children:[he.jsx("span",{className:"text-white font-medium mb-4",children:" Email "}),he.jsx("input",{type:"email",name:"email",value:t.email,onChange:a,placeHolder:"Enter your Contact email",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),he.jsxs("label",{className:"flex flex-col",children:[he.jsx("span",{className:"text-white font-medium mb-4",children:" Message "}),he.jsx("textarea",{rows:"7",name:"message",value:t.message,onChange:a,placeHolder:"Leave your message here",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),he.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl",children:r?"Sending...":"Send"})]})]}),he.jsx(no.div,{variants:kw("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:!i&&he.jsx(fk,{})})]})},VH=jp(HH,"contact"),WH=()=>he.jsx(Hb,{children:he.jsxs("div",{className:"relative z-0 bg-primary",children:[he.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[he.jsx(oH,{}),he.jsx(RG,{})]}),he.jsx(mH,{}),he.jsx(IH,{}),he.jsx(vH,{}),he.jsx(NH,{}),he.jsxs("div",{className:"relative z-0",children:[he.jsx(VH,{}),he.jsx(wk,{})]})]})});Eb.createRoot(document.getElementById("root")).render(he.jsx(bl.StrictMode,{children:he.jsx(WH,{})}));
